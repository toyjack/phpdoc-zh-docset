<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Returns a resource that can be used to read the stored file</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mongogridfsfile.getfilename.html">? MongoGridFSFile::getFilename</a></li>
      <li style="float: right;"><a href="mongogridfsfile.getsize.html">MongoGridFSFile::getSize ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.mongogridfsfile.html">MongoGridFSFile</a></li>
    <li>Returns a resource that can be used to read the stored file</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mongogridfsfile.getresource" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">MongoGridFSFile::getResource</h1>
  <p class="verinfo">(PECL mongo &gt;=1.3.0)</p><p class="refpurpose"><span class="refname">MongoGridFSFile::getResource</span> &mdash; <span class="dc-title">Returns a resource that can be used to read the stored file</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-mongogridfsfile.getresource-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">resource</span> <span class="methodname"><strong>MongoGridFSFile::getResource</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para rdfs-comment">
   This method returns a stream resource that can be used with all file
   functions in PHP that deal with reading files. The contents of the file are
   pulled out of MongoDB on the fly, so that the whole file does not have to
   be loaded into memory first.
  </p>
  <p class="para">
   At most two GridFSFile chunks will be loaded in memory.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-mongogridfsfile.getresource-parameters">
  <h3 class="title">参数</h3>
  <p class="para">此函数没有参数。</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-mongogridfsfile.getresource-returnvalues">
  <h3 class="title">返回值</h3>  
  <p class="para">
   Returns a resource that can be used to read the file with
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-mongogridfsfile.getresource-examples">
  <h3 class="title">范例</h3>
  <div class="example" id="example-1587">
   <p><strong>Example #1 <span class="methodname"><strong>MongoGridFSFile::getResource()</strong></span> example</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$m&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Mongo</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$images&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">my_db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getGridFS</span><span style="color: #007700">(</span><span style="color: #DD0000">'images'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$image&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$images</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findOne</span><span style="color: #007700">(</span><span style="color: #DD0000">'mongo.png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;image/png;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$stream&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$image</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getResource</span><span style="color: #007700">();<br /><br />while&nbsp;(!</span><span style="color: #0000BB">feof</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">fread</span><span style="color: #007700">(</span><span style="color: #0000BB">$stream</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8192</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="111393""></a>
  <div class="note">
   <strong class="user">chuck at manchuck dot com</strong>
   <a href="#111393" class="date">15-Feb-2013 09:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that the file pointer is reset on each call to get resource</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
