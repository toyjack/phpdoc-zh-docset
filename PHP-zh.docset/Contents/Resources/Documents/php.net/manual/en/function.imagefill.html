<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>区域填充</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.imageellipse.html">? imageellipse</a></li>
      <li style="float: right;"><a href="function.imagefilledarc.html">imagefilledarc ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.image.html">GD 和图像处理 函数</a></li>
    <li>区域填充</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.imagefill" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagefill</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">imagefill</span> &mdash; <span class="dc-title">区域填充</span></p>

 </div>
 <div class="refsect1 unknown-seealsp" id="refsect1-function.imagefill-unknown-seealsp">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>imagefill</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$image</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$x</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$y</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$color</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>imagefill()</strong></span> 在 <code class="parameter">image</code>
   图像的坐标 <code class="parameter">x</code>，<code class="parameter">y</code>（图像左上角为
   0, 0）处用 <code class="parameter">color</code>
   颜色执行区域填充（即与 x, y 点颜色相同且相邻的点都会被填充）。
  </p>
  <p class="para">
   <div class="example" id="example-3230">
    <p><strong>Example #1 <span class="function"><strong>imagefill()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$im&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;将背景设为红色<br /></span><span style="color: #0000BB">$red&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagefill</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$red</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;image/png'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   参见 <span class="function"><a href="function.imagecolorallocate.html" class="function">imagecolorallocate()</a></span>。
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="110186""></a>
  <div class="note">
   <strong class="user">George Edison</strong>
   <a href="#110186" class="date">28-Sep-2012 08:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Creating a new true-color image, filling it with a transparent color, and saving it as a PNG image can be accomplished with the following:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$new&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">320</span><span class="keyword">, </span><span class="default">320</span><span class="keyword">);<br />
</span><span class="default">$color </span><span class="keyword">= </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">127</span><span class="keyword">);<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />
</span><span class="default">imagesavealpha</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">); </span><span class="comment">// it took me a good 10 minutes to figure this part out<br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The image needs to be created with imagecreatetruecolor(), you must use imagefill() instead of imagefilledrectange(), and you need to call imagesavealpha(). No other combination of functions calls seems to produce the intended results.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93920""></a>
  <div class="note">
   <strong class="user">Christopher Kramer</strong>
   <a href="#93920" class="date">07-Oct-2009 12:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function to generate a gradient.<br />
You specify width, heigth and 4 colors (of the 4 corners).<br />
<br />
An image handle of the gradient image will be returned.<br />
You can copy the returned image onto another image using imageecopy.<br />
This can be helpful if you want to generate a shadow for example.<br />
("Glow effect example": Generate 8 gradients, one for each side and one for each corner. The outer side of the gradients have the background color and the inner sides have a bright color such as white.)&nbsp; <br />
<br />
But beware: This function is not optimized for performance, it might become slow on big images. For shadows, better cache the generated gradients.<br />
<br />
Note: For gradients, using true-color is highly recommended.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">gradient</span><span class="keyword">(</span><span class="default">$w</span><span class="keyword">=</span><span class="default">100</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">=</span><span class="default">100</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">=array(</span><span class="string">'#FFFFFF'</span><span class="keyword">,</span><span class="string">'#FF0000'</span><span class="keyword">,</span><span class="string">'#00FF00'</span><span class="keyword">,</span><span class="string">'#0000FF'</span><span class="keyword">), </span><span class="default">$hex</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">) {<br />
<br />
&nbsp;</span><span class="comment">/*<br />
&nbsp;Generates a gradient image<br />
<br />
&nbsp;Author: Christopher Kramer<br />
&nbsp;<br />
&nbsp;Parameters:<br />
&nbsp;w: width in px<br />
&nbsp;h: height in px<br />
&nbsp;c: color-array with 4 elements:<br />
&nbsp;&nbsp;&nbsp; $c[0]:&nbsp;&nbsp; top left color<br />
&nbsp;&nbsp;&nbsp; $c[1]:&nbsp;&nbsp; top right color<br />
&nbsp;&nbsp;&nbsp; $c[2]:&nbsp;&nbsp; bottom left color<br />
&nbsp;&nbsp;&nbsp; $c[3]:&nbsp;&nbsp; bottom right color<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;if $hex is true (default), colors are hex-strings like '#FFFFFF' (NOT '#FFF')<br />
&nbsp;if $hex is false, a color is an array of 3 elements which are the rgb-values, e.g.:<br />
&nbsp;$c[0]=array(0,255,255);<br />
&nbsp;<br />
&nbsp;*/<br />
&nbsp;<br />
&nbsp;</span><span class="default">$im</span><span class="keyword">=</span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$h</span><span class="keyword">);<br />
&nbsp;<br />
&nbsp;if(</span><span class="default">$hex</span><span class="keyword">) {&nbsp; </span><span class="comment">// convert hex-values to rgb<br />
&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">3</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) { <br />
&nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]=</span><span class="default">hex2rgb</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp; }<br />
&nbsp;}<br />
&nbsp;<br />
&nbsp;</span><span class="default">$rgb</span><span class="keyword">=</span><span class="default">$c</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]; </span><span class="comment">// start with top left color<br />
&nbsp;</span><span class="keyword">for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;=</span><span class="default">$w</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) { </span><span class="comment">// loop columns<br />
&nbsp; </span><span class="keyword">for(</span><span class="default">$y</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$y</span><span class="keyword">&lt;=</span><span class="default">$h</span><span class="keyword">;</span><span class="default">$y</span><span class="keyword">++) { </span><span class="comment">// loop rows<br />
&nbsp;&nbsp; // set pixel color <br />
&nbsp;&nbsp; </span><span class="default">$col</span><span class="keyword">=</span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">],</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">,</span><span class="default">$col</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="comment">// calculate new color&nbsp; <br />
&nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">2</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]=<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]*((</span><span class="default">$w</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">)*(</span><span class="default">$h</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">)/(</span><span class="default">$w</span><span class="keyword">*</span><span class="default">$h</span><span class="keyword">)) +<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]*(</span><span class="default">$x&nbsp; &nbsp;&nbsp; </span><span class="keyword">*(</span><span class="default">$h</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">)/(</span><span class="default">$w</span><span class="keyword">*</span><span class="default">$h</span><span class="keyword">)) +<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]*((</span><span class="default">$w</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">)*</span><span class="default">$y&nbsp; &nbsp;&nbsp; </span><span class="keyword">/(</span><span class="default">$w</span><span class="keyword">*</span><span class="default">$h</span><span class="keyword">)) +<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]*(</span><span class="default">$x&nbsp; &nbsp;&nbsp; </span><span class="keyword">*</span><span class="default">$y&nbsp; &nbsp;&nbsp; </span><span class="keyword">/(</span><span class="default">$w</span><span class="keyword">*</span><span class="default">$h</span><span class="keyword">));<br />
&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp;}<br />
&nbsp;return </span><span class="default">$im</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">hex2rgb</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">)<br />
&nbsp;{<br />
&nbsp;</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;return(</span><span class="default">$rgb</span><span class="keyword">);<br />
&nbsp;}<br />
<br />
</span><span class="comment">// usage example<br />
<br />
</span><span class="default">$image</span><span class="keyword">=</span><span class="default">gradient</span><span class="keyword">(</span><span class="default">300</span><span class="keyword">, </span><span class="default">300</span><span class="keyword">, array(</span><span class="string">'#000000'</span><span class="keyword">, </span><span class="string">'#FFFFFF'</span><span class="keyword">, </span><span class="string">'#FF0000'</span><span class="keyword">, </span><span class="string">'#0000FF'</span><span class="keyword">));<br />
<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: image/png'</span><span class="keyword">);<br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85474""></a>
  <div class="note">
   <strong class="user">dunhamzzz [A] gmail</strong>
   <a href="#85474" class="date">01-Sep-2008 05:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I feel its worth pointing out that you cannot fill a transparent colour that you have assigned with imagecolorallocatealpha, the colour will fill, but without its transparency,<br />
<br />
I find the easiest method around this is to just fill a rectangle using imagefilledrectangle() to draw a fill instead.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81873""></a>
  <div class="note">
   <strong class="user">Cypog</strong>
   <a href="#81873" class="date">17-Mar-2008 04:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
imagefill can't deal with alpha colors, use imagefilledrectangle instead.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; header</span><span class="keyword">(</span><span class="string">"Content-Type: image/png"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$im </span><span class="keyword">= </span><span class="default">imagecreatefrompng</span><span class="keyword">(</span><span class="string">"img/button.png"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (empty(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'alpha'</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'alpha'</span><span class="keyword">] = </span><span class="default">10</span><span class="keyword">;}<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$color </span><span class="keyword">= </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'alpha'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imagefillalpha</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">ImageFillAlpha</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">), </span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">), </span><span class="default">$color</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73770""></a>
  <div class="note">
   <strong class="user">info at educar dot pro dot br</strong>
   <a href="#73770" class="date">09-Mar-2007 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Example 1<br />
The filled region will be external to a demarcated region, if the initial coordinates will be outside of this region.<br />
<br />
<span class="default">&lt;?php<br />
$src621 </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">200</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">); <br />
</span><span class="default">$clr_1_621 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$src621</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$clr_2_621 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$src621</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">250</span><span class="keyword">);<br />
</span><span class="default">$clr_4_621 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$src621</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">55</span><span class="keyword">);<br />
</span><span class="default">imagerectangle</span><span class="keyword">(</span><span class="default">$src621</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">150</span><span class="keyword">, </span><span class="default">150</span><span class="keyword">, </span><span class="default">$clr_4_621</span><span class="keyword">);<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$src621</span><span class="keyword">, </span><span class="default">110</span><span class="keyword">, </span><span class="default">110</span><span class="keyword">, </span><span class="default">$clr_2_621</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-Type: image/png"</span><span class="keyword">);<br />
</span><span class="default">imagepng </span><span class="keyword">(</span><span class="default">$src621</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$src621</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Example 2<br />
The filled region will be internal to a demarcated region, if the initial coordinates will be inside of this region. <br />
<span class="default">&lt;?php<br />
$src622 </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">200</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">); <br />
</span><span class="default">$clr_1_622 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$src622</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$clr_2_622 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$src622</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">250</span><span class="keyword">);<br />
</span><span class="default">$clr_4_622 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$src622</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">55</span><span class="keyword">);<br />
</span><span class="default">imagerectangle</span><span class="keyword">(</span><span class="default">$src622</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">150</span><span class="keyword">, </span><span class="default">150</span><span class="keyword">, </span><span class="default">$clr_4_622</span><span class="keyword">);<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$src622</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">$clr_2_622</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-Type: image/png"</span><span class="keyword">);<br />
</span><span class="default">imagepng </span><span class="keyword">(</span><span class="default">$src622</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$src622</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
See another examples at:<br />
<a href="http://www.educar.pro.br/a/gdlib/index.php?pn=50&amp;tr=97" rel="nofollow" target="_blank">http://www.educar.pro.br/a/gdlib/index.php?pn=50&amp;tr=97</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73686""></a>
  <div class="note">
   <strong class="user">Gromitt</strong>
   <a href="#73686" class="date">06-Mar-2007 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to fill a whole image (immediatly after its creation for instance), consider applying a filled rectangle instead, using imagefilledrectangle() :<br />
<br />
<span class="default">&lt;?php<br />
<br />
$gdImage </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">);<br />
</span><span class="default">$gdColor </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$gdImage</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); </span><span class="comment">// red<br />
</span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$gdImage</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">99</span><span class="keyword">, </span><span class="default">99</span><span class="keyword">, </span><span class="default">$gdColor</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
which will require much less logic and processing from GD.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69865""></a>
  <div class="note">
   <strong class="user">razonklnbd at yahoo dot com</strong>
   <a href="#69865" class="date">24-Sep-2006 12:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I spend more then two hour to find a function that can fill a pattern or file as background instead of color. but i can't find. so i develop the following function. i though this function will save time who need it...<br />
<br />
Function will get four parameter<br />
1. Main Image Identifier<br />
2. Pattern Image Identifier<br />
3. Final Image Width<br />
4. Final Image Height<br />
<br />
If you set final image width or height is less then main image width or height then you may get wrong result<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">fill_with_patternfile</span><span class="keyword">(</span><span class="default">$p_main_im</span><span class="keyword">, </span><span class="default">$p_patternfile_im</span><span class="keyword">, </span><span class="default">$p_width</span><span class="keyword">, </span><span class="default">$p_height</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pimiX</span><span class="keyword">=</span><span class="default">$p_patternfile_im</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pw</span><span class="keyword">=</span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$pimiX</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ph</span><span class="keyword">=</span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$pimiX</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$targetImageIdentifier</span><span class="keyword">=</span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$p_width</span><span class="keyword">,</span><span class="default">$p_height</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$pw</span><span class="keyword">&lt;</span><span class="default">$p_width </span><span class="keyword">&amp;&amp; </span><span class="default">$ph</span><span class="keyword">&lt;</span><span class="default">$p_height</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$pX</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$pX</span><span class="keyword">&lt;</span><span class="default">$p_width</span><span class="keyword">;</span><span class="default">$pX</span><span class="keyword">+=</span><span class="default">$pw</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$pY</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$pY</span><span class="keyword">&lt;</span><span class="default">$p_height</span><span class="keyword">;</span><span class="default">$pY</span><span class="keyword">+=</span><span class="default">$ph</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagecopy</span><span class="keyword">(</span><span class="default">$targetImageIdentifier</span><span class="keyword">,</span><span class="default">$pimiX</span><span class="keyword">,</span><span class="default">$pX</span><span class="keyword">,</span><span class="default">$pY</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$pw</span><span class="keyword">,</span><span class="default">$ph</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }else </span><span class="default">imagecopy</span><span class="keyword">(</span><span class="default">$targetImageIdentifier</span><span class="keyword">,</span><span class="default">$pimiX</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$pw</span><span class="keyword">,</span><span class="default">$ph</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$w</span><span class="keyword">=</span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$p_main_im</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$h</span><span class="keyword">=</span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$p_main_im</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$nX</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$w</span><span class="keyword">&lt;</span><span class="default">$p_width</span><span class="keyword">) </span><span class="default">$nX</span><span class="keyword">=</span><span class="default">intval</span><span class="keyword">((</span><span class="default">$p_width</span><span class="keyword">-</span><span class="default">$w</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$nY</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$h</span><span class="keyword">&lt;</span><span class="default">$p_height</span><span class="keyword">) </span><span class="default">$nY</span><span class="keyword">=</span><span class="default">intval</span><span class="keyword">((</span><span class="default">$p_height</span><span class="keyword">-</span><span class="default">$h</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imagecopy</span><span class="keyword">(</span><span class="default">$targetImageIdentifier</span><span class="keyword">,</span><span class="default">$p_main_im</span><span class="keyword">,</span><span class="default">$nX</span><span class="keyword">,</span><span class="default">$nY</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$h</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$targetImageIdentifier</span><span class="keyword">;<br />
}<br />
</span><span class="comment">//&nbsp; &nbsp; If you want to use a gif or png file as<br />
//&nbsp; &nbsp; pattern file you need to change function below :)<br />
</span><span class="default">$pattern_im</span><span class="keyword">=</span><span class="default">imagecreatefromjpeg</span><span class="keyword">(</span><span class="string">'logo.jpg'</span><span class="keyword">);<br />
</span><span class="comment">//&nbsp; &nbsp; If you want to use a gif or png file as<br />
//&nbsp; &nbsp; main file you need to change function below :)<br />
</span><span class="default">$main_im</span><span class="keyword">=</span><span class="default">imagecreatefromjpeg</span><span class="keyword">(</span><span class="string">'r2.jpg'</span><span class="keyword">);<br />
</span><span class="comment">//&nbsp; &nbsp; call the function width 500 and height 500<br />
//&nbsp; &nbsp; if your width and height is less then main images<br />
//&nbsp; &nbsp; width and height then you can't understand any change!<br />
</span><span class="default">$final</span><span class="keyword">=</span><span class="default">fill_with_patternfile</span><span class="keyword">(</span><span class="default">$main_im</span><span class="keyword">, </span><span class="default">$pattern_im</span><span class="keyword">, </span><span class="default">500</span><span class="keyword">, </span><span class="default">500</span><span class="keyword">);<br />
</span><span class="comment">//&nbsp; &nbsp; view the image and destroy all instance<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: image/jpeg'</span><span class="keyword">);<br />
</span><span class="default">imagejpeg</span><span class="keyword">(</span><span class="default">$final</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$final</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$main_im</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$pattern_im</span><span class="keyword">);<br />
exit();<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67593""></a>
  <div class="note">
   <strong class="user">jonathan dot aquino at gmail dot com</strong>
   <a href="#67593" class="date">09-Jun-2006 12:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Use imageSaveAlpha($image, true); to preserve transparency.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59229""></a>
  <div class="note">
   <strong class="user">gelak</strong>
   <a href="#59229" class="date">30-Nov-2005 08:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//A smiley face ;]
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
header</span><span class="keyword">(</span><span class="string">'Content-type: image/png'</span><span class="keyword">);
<br />

<br />
</span><span class="default">$smile</span><span class="keyword">=</span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">400</span><span class="keyword">,</span><span class="default">400</span><span class="keyword">);
<br />
</span><span class="default">$kek</span><span class="keyword">=</span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);
<br />
</span><span class="default">$feher</span><span class="keyword">=</span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);
<br />
</span><span class="default">$sarga</span><span class="keyword">=</span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);
<br />
</span><span class="default">$fekete</span><span class="keyword">=</span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);
<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$kek</span><span class="keyword">);
<br />

<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">300</span><span class="keyword">,</span><span class="default">300</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);
<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">225</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">150</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">180</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);
<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">225</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">123</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">180</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);
<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">150</span><span class="keyword">,</span><span class="default">150</span><span class="keyword">,</span><span class="default">20</span><span class="keyword">,</span><span class="default">20</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);
<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">250</span><span class="keyword">,</span><span class="default">150</span><span class="keyword">,</span><span class="default">20</span><span class="keyword">,</span><span class="default">20</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);
<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">$sarga</span><span class="keyword">);
<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">290</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);
<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">155</span><span class="keyword">,</span><span class="default">155</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);
<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">155</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);
<br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$smile</span><span class="keyword">);
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59222""></a>
  <div class="note">
   <strong class="user">pisu at estmail dot hu</strong>
   <a href="#59222" class="date">29-Nov-2005 10:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
chess board<br />
<span class="default">&lt;?php<br />
<br />
$kep </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">400</span><span class="keyword">,</span><span class="default">400</span><span class="keyword">);<br />
</span><span class="default">$fekete </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$kep</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$feher </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$kep</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br />
<br />
</span><span class="comment">//imagefill($kep,50,50,$fekete);<br />
</span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$kep</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">,</span><span class="default">20</span><span class="keyword">,</span><span class="default">$feher</span><span class="keyword">);<br />
<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">8</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)&nbsp; {<br />
&nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">*</span><span class="default">50</span><span class="keyword">;<br />
&nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$kep</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$k</span><span class="keyword">,</span><span class="default">400</span><span class="keyword">,</span><span class="default">$k</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);<br />
&nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$kep</span><span class="keyword">,</span><span class="default">$k</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$k</span><span class="keyword">,</span><span class="default">400</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);<br />
&nbsp; }<br />
<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">8</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)&nbsp; {<br />
&nbsp; for (</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">8</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++)&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">*</span><span class="default">50 </span><span class="keyword">+ </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$j</span><span class="keyword">*</span><span class="default">50 </span><span class="keyword">+ </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (&nbsp; ( (</span><span class="default">$i </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) + (</span><span class="default">$j </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) )&nbsp; % </span><span class="default">2 </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">)&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$kep</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$fekete</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
</span><span class="comment">// imagecolortransparent($kek,$piros);<br />
<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'content-type : image/png'</span><span class="keyword">);<br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$kep</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55280""></a>
  <div class="note">
   <strong class="user">colin at galaxyinteractive dot net</strong>
   <a href="#55280" class="date">29-Jul-2005 05:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Didn't see this documented, although it's outlined in imagefilledrectangle, it wasn't quite so obvious to me at first<br />
<br />
imageSetTile($image,$imageBack);<br />
imagefill($image,0,0,IMG_COLOR_TILED);<br />
<br />
Will fill an image with a texture (this is great as I'm building a logo/template creator)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="33518""></a>
  <div class="note">
   <strong class="user">Igor Garcia</strong>
   <a href="#33518" class="date">29-Jun-2003 12:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function, cannot deal with transparencies. <br />
So you need to use imagecolorallocate instead of imagecolorallocatealpha.<br />
Thus, be careful with color variables that allready set with imageallocatecoloralpha because this can slow-down or hang-up your system.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32712""></a>
  <div class="note">
   <strong class="user">norxh</strong>
   <a href="#32712" class="date">05-Jun-2003 05:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For new images, you must allocate a color before this function will work.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29283""></a>
  <div class="note">
   
   <a href="#29283" class="date">08-Feb-2003 02:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Actually, it can handle pre-transparent images. To remove it you need to do something like:<br />
&nbsp;&nbsp; imagecolortransparent($img, 0);<br />
to null out the previous transparency colors. ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="3109""></a>
  <div class="note">
   <strong class="user">aqmprod at iname dot com</strong>
   <a href="#3109" class="date">09-Jan-2000 02:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function does not seem to work with images already been transparent. If you fill at x=0, y=0, and there are still transparent parts that you did
<br />
not reach with your fill, they change to a different color.
<br />

<br />
The ImageColorSet function seems to be the solution, but i can't work with transparancy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
