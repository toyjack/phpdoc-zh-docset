<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>十进制转换为十六进制</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.decbin.html">? decbin</a></li>
      <li style="float: right;"><a href="function.decoct.html">decoct ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.math.html">Math 函数</a></li>
    <li>十进制转换为十六进制</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.dechex" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">dechex</h1>
    <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">dechex</span> &mdash; <span class="dc-title">十进制转换为十六进制</span></p>

   </div>
 <div class="refsect1 description" id="refsect1-function.dechex-description">
  <h3 class="title">说明</h3>
     <div class="methodsynopsis dc-description">
      <span class="type">string</span> <span class="methodname"><strong>dechex</strong></span>
       ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$number</code></span>
      )</div>

    <p class="para rdfs-comment">
     返回一字符串，包含有给定
     <code class="parameter">number</code>
     参数的十六进制表示。
    </p>
  <p class="para">
   所能转换的最大数值为十进制的
     <strong><code>PHP_INT_MAX</code></strong><em> * 2 + 1</em> (或
   <em>-1</em>)：在 32 位平台上是十进制的 <em>4294967295</em>，其 <span class="function"><strong>dechex()</strong></span> 的结果为 <em>ffffffff</em>。
  </p>
   </div>

 <div class="refsect1 parameters" id="refsect1-function.dechex-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">number</code></dt>

     <dd>

      <p class="para">
       要转换的十进制值
      </p>
      <p class="para">
       PHP 的 <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> 类型是有符号的，但 <span class="function"><strong>dechex()</strong></span> 处理无符号整数，负正数会以无符号处理。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.dechex-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   <code class="parameter">number</code> 的16进制表示
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.dechex-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-3867">
    <p><strong>Example #1 <span class="function"><strong>dechex()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">dechex</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">dechex</span><span style="color: #007700">(</span><span style="color: #0000BB">47</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
a
2f
</pre></div>
    </div>
   </div>
  </p>
   <p class="para">
   <div class="example" id="example-3868">
    <p><strong>Example #2 大整数的 <span class="function"><strong>dechex()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;output&nbsp;below&nbsp;assumes&nbsp;a&nbsp;32-bit&nbsp;platform.<br />//&nbsp;Note&nbsp;that&nbsp;the&nbsp;output&nbsp;is&nbsp;the&nbsp;same&nbsp;for&nbsp;all&nbsp;values.<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">dechex</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">dechex</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_INT_MAX&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">dechex</span><span style="color: #007700">(</span><span style="color: #0000BB">pow</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">32</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
ffffffff
ffffffff
ffffffff
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.dechex-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.hexdec.html" class="function" rel="rdfs-seeAlso">hexdec()</a> - 十六进制转换为十进制</span></li>
    <li class="member"><span class="function"><a href="function.decbin.html" class="function" rel="rdfs-seeAlso">decbin()</a> - 十进制转换为二进制</span></li>
    <li class="member"><span class="function"><a href="function.decoct.html" class="function" rel="rdfs-seeAlso">decoct()</a> - 十进制转换为八进制</span></li>
    <li class="member"><span class="function"><a href="function.base-convert.html" class="function" rel="rdfs-seeAlso">base_convert()</a> - 在任意进制之间转换数字</span></li>
   </ul>
  </p>
 </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="117197""></a>
  <div class="note">
   <strong class="user">delchodimi at gmail dot com</strong>
   <a href="#117197" class="date">30-Apr-2015 11:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I like the example with the bitwise operations but if the value of color[0] is less than 16 it's not accurate:<br />
example:<br />
color[0]: 0;<br />
color[1]: 0;<br />
color[2]: 255;<br />
&nbsp;function hexColor($color) {<br />
&nbsp; return dechex(($color[0]&lt;&lt;16)|($color[1]&lt;&lt;8)|$color[2]);<br />
}<br />
It returns "ff", which is not legit RGB color...<br />
so my solution is to combine the function above with: <br />
function toColor($n)<br />
{<br />
return("#".substr("000000".dechex($n),-6));<br />
}<br />
<br />
If you gotta deal with array of rgb values this is my solution:<br />
------------------------------------------------------<br />
function hexColor($color) {<br />
&nbsp;&nbsp;&nbsp; $rgb = dechex(($color[0]&lt;&lt;16)|($color[1]&lt;&lt;8)|$color[2]);<br />
&nbsp;&nbsp;&nbsp; return("#".substr("000000".$rgb, -6));<br />
}<br />
------------------------------------------------------</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115651""></a>
  <div class="note">
   <strong class="user">baoquyen804 at gmail dot com</strong>
   <a href="#115651" class="date">02-Sep-2014 06:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this base function convert string rgb to color<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">rgb_to_color</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">, </span><span class="default">$symbols</span><span class="keyword">=</span><span class="string">' '</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$color </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$symbols</span><span class="keyword">, </span><span class="default">$rgb</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$count</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$color </span><span class="keyword">.= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'#'</span><span class="keyword">.</span><span class="default">$color</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="default">rgb_to_color</span><span class="keyword">(</span><span class="string">'186 186 18'</span><span class="keyword">);&nbsp; </span><span class="comment">// #baba12<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="default">rgb_to_color</span><span class="keyword">(</span><span class="string">'186-186-18'</span><span class="keyword">, </span><span class="string">'-'</span><span class="keyword">);&nbsp; </span><span class="comment">// #baba12<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115477""></a>
  <div class="note">
   <strong class="user">jenny-schubert87 dot 1 at web dot de</strong>
   <a href="#115477" class="date">01-Aug-2014 07:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I figured out another way to do this:<br />
if you have a very long decimal number in gmp format (you can always create a gmp number with gmp_init($numberstring), you can simply do gmp_strval($gmpnumber, 16), where $gmpnumber is your gmp number, and the 16 is the base you want to transform it to. Worked for me like a charm, also works for other bases.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113651""></a>
  <div class="note">
   <strong class="user">Kory P.</strong>
   <a href="#113651" class="date">11-Nov-2013 12:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Or you could use this for an RGBA color.<br />
&nbsp;&nbsp;&nbsp; function toAlphaColor($n,$a)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $rgb = substr("000000".dechex($n),-6);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $alpha = substr("00".dechex($a),-2);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return("#".$rgb.$alpha);<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110838""></a>
  <div class="note">
   <strong class="user">mailderemi at gmail dot com</strong>
   <a href="#110838" class="date">13-Dec-2012 11:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Javascript Crypt:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">jsCrypt</span><span class="keyword">(</span><span class="default">$script</span><span class="keyword">,</span><span class="default">$level</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$level</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$asc</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$script</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$asc</span><span class="keyword">.=</span><span class="string">'%'</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$script</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$script</span><span class="keyword">=</span><span class="string">'&lt;SCRIPT LANGUAGE="JavaScript"&gt;document.write(unescape(\''</span><span class="keyword">.</span><span class="default">$asc</span><span class="keyword">.</span><span class="string">'\'));&lt;/SCRIPT&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$script</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">jsCrypt</span><span class="keyword">(</span><span class="string">'&lt;script&gt;alert(123);&lt;/script&gt;'</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110225""></a>
  <div class="note">
   <strong class="user">hmlinks at gmail dot com</strong>
   <a href="#110225" class="date">03-Oct-2012 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote this to convert hex into signed int, hope this helps someone out there... peace :)
<br />

<br />
<span class="default">&lt;?php
<br />
$hex </span><span class="keyword">= </span><span class="default">dechex</span><span class="keyword">(-</span><span class="default">32767</span><span class="keyword">);
<br />
</span><span class="default">$dec </span><span class="keyword">= </span><span class="default">shexdex</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);
<br />

<br />
function </span><span class="default">shexdex</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dec </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Negative number (in binary if the msb is 1 then it is neg)
<br />
&nbsp;&nbsp;&nbsp; // since one hex is 4bits, the value 8 and up contain msb of 1, hence negative number&nbsp; &nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$hex</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] &gt;= </span><span class="string">'8'</span><span class="keyword">){&nbsp; &nbsp; </span><span class="comment">// Note: if you use the digit 8 it is not the same as '8'
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dec </span><span class="keyword">-= </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dec </span><span class="keyword">= ~</span><span class="default">$dec</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return -</span><span class="default">$dec</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$dec</span><span class="keyword">;
<br />
}
<br />

<br />
if (</span><span class="default">$dec </span><span class="keyword">== -</span><span class="default">32767</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'Yay!'</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108024""></a>
  <div class="note">
   <strong class="user">sneskid at hotmail dot com</strong>
   <a href="#108024" class="date">23-Mar-2012 04:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to create or parse signed Hex values:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// $d should be an int<br />
</span><span class="keyword">function </span><span class="default">sdechex</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">) { return (</span><span class="default">$d</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">) ? (</span><span class="string">'-' </span><span class="keyword">. </span><span class="default">dechex</span><span class="keyword">(-</span><span class="default">$d</span><span class="keyword">)) : </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">); }<br />
<br />
</span><span class="comment">// $h should be a string<br />
</span><span class="keyword">function </span><span class="default">shexdec</span><span class="keyword">(</span><span class="default">$h</span><span class="keyword">) { return (</span><span class="default">$h</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] === </span><span class="string">'-'</span><span class="keyword">) ? -(</span><span class="string">'0x' </span><span class="keyword">. </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$h</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">) + </span><span class="default">0</span><span class="keyword">) : (</span><span class="string">'0x' </span><span class="keyword">. </span><span class="default">$h </span><span class="keyword">+ </span><span class="default">0</span><span class="keyword">); }<br />
<br />
</span><span class="comment">// test<br />
<br />
</span><span class="default">$v </span><span class="keyword">= </span><span class="default">sdechex</span><span class="keyword">(-</span><span class="default">123</span><span class="keyword">); </span><span class="comment">// string(3) "-7b"<br />
</span><span class="default">$i </span><span class="keyword">= </span><span class="default">shexdec</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">// int(-123)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Also note that ('0x' . $str + 0) is faster than hexdec()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107816""></a>
  <div class="note">
   <strong class="user">andries at centim dot be</strong>
   <a href="#107816" class="date">07-Mar-2012 11:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to convert a large number (&gt; PHP_MAX_INT) to a hex value, simply use base_convert. For example:<br />
<br />
base_convert('2190964402', 10, 16); // 829776b2</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106377""></a>
  <div class="note">
   <strong class="user">9381904 at gmail dot com</strong>
   <a href="#106377" class="date">02-Nov-2011 07:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for mac address
<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">dec2mac</span><span class="keyword">(</span><span class="default">$mac</span><span class="keyword">) {
<br />
&nbsp;&nbsp; </span><span class="default">$mac</span><span class="keyword">=</span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"([.])"</span><span class="keyword">, </span><span class="default">$mac</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">);
<br />
&nbsp;&nbsp; </span><span class="default">$hexmac</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;
<br />
&nbsp;&nbsp; foreach (</span><span class="default">$mac </span><span class="keyword">as </span><span class="default">$part</span><span class="keyword">) 
<br />
&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; </span><span class="default">$part</span><span class="keyword">=</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">);
<br />
&nbsp;&nbsp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">)&lt;</span><span class="default">2 </span><span class="keyword">? </span><span class="default">$hexmac</span><span class="keyword">.=</span><span class="string">"0</span><span class="default">$part</span><span class="string">" </span><span class="keyword">: </span><span class="default">$hexmac</span><span class="keyword">.=</span><span class="default">$part</span><span class="keyword">;
<br />
&nbsp;&nbsp; }
<br />
&nbsp;&nbsp; return </span><span class="default">$hexmac</span><span class="keyword">;
<br />
} 
<br />
echo </span><span class="default">dec2mac</span><span class="keyword">(</span><span class="string">"0.29.96.71.60.137"</span><span class="keyword">); </span><span class="comment">// 001d60473c89
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86673""></a>
  <div class="note">
   <strong class="user">jbleau at gmail dot com</strong>
   <a href="#86673" class="date">29-Oct-2008 11:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was confused by dechex's size limitation. Here is my solution to the problem. It supports much bigger values, as well as signs.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">dec_to_hex</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sign </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">; </span><span class="comment">// suppress errors
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if( </span><span class="default">$dec </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">){ </span><span class="default">$sign </span><span class="keyword">= </span><span class="string">"-"</span><span class="keyword">; </span><span class="default">$dec </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">); }
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= Array( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="default">4 </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">, </span><span class="default">5 </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">6 </span><span class="keyword">=&gt; </span><span class="default">6</span><span class="keyword">, </span><span class="default">7 </span><span class="keyword">=&gt; </span><span class="default">7</span><span class="keyword">, </span><span class="default">8 </span><span class="keyword">=&gt; </span><span class="default">8</span><span class="keyword">, </span><span class="default">9 </span><span class="keyword">=&gt; </span><span class="default">9</span><span class="keyword">, </span><span class="default">10 </span><span class="keyword">=&gt; </span><span class="string">'a'</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">11 </span><span class="keyword">=&gt; </span><span class="string">'b'</span><span class="keyword">, </span><span class="default">12 </span><span class="keyword">=&gt; </span><span class="string">'c'</span><span class="keyword">, </span><span class="default">13 </span><span class="keyword">=&gt; </span><span class="string">'d'</span><span class="keyword">, </span><span class="default">14 </span><span class="keyword">=&gt; </span><span class="string">'e'</span><span class="keyword">,&nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">15 </span><span class="keyword">=&gt; </span><span class="string">'f' </span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; do
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$h </span><span class="keyword">= </span><span class="default">$hex</span><span class="keyword">[(</span><span class="default">$dec</span><span class="keyword">%</span><span class="default">16</span><span class="keyword">)] . </span><span class="default">$h</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dec </span><span class="keyword">/= </span><span class="default">16</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; while( </span><span class="default">$dec </span><span class="keyword">&gt;= </span><span class="default">1 </span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$sign </span><span class="keyword">. </span><span class="default">$h</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83122""></a>
  <div class="note">
   <strong class="user">mountarreat at gmail dot com</strong>
   <a href="#83122" class="date">11-May-2008 06:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was challenged by a problem with large number calculations and conversion to hex within php. The calculation exceeded unsigned integer and even float range. You can easily change it for your needs but it is, thanks to bcmath, capable of handling big numbers via string. This function will convert them to hex.
<br />

<br />
In this specific example though, since I use it for game internals that can only handle 32 bit numbers, it will truncate calculations at 8 digits. If the input is 1 for example it will be filled up with zeros. Output 00000001h.
<br />

<br />
Of course I don't claim it to be a good one, but it works for me and my purpose. Suggestions on faster code welcome!
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// Turns numbers into 32-bit hex string; Fills up zeros
<br />
</span><span class="keyword">function </span><span class="default">lrgDec2Hex</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= array();
<br />

<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">8</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$number </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">bcmod</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="string">'16'</span><span class="keyword">))));
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">bcdiv</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="string">'16'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73767""></a>
  <div class="note">
   <strong class="user">sjaak at spoilerfreaks dot com</strong>
   <a href="#73767" class="date">09-Mar-2007 04:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To force the correct usage of 32-bit unsigned integer in some functions, just add '+0'&nbsp; just before processing them.
<br />

<br />
for example 
<br />
<span class="default">&lt;?php </span><span class="keyword">echo(</span><span class="default">dechex</span><span class="keyword">(</span><span class="string">"2724838310"</span><span class="keyword">)); </span><span class="default">?&gt;
<br />
</span>will print '7FFFFFFF'
<br />
but it should print 'A269BBA6'
<br />

<br />
When adding '+0' php will handle the 32bit unsigned integer
<br />
correctly
<br />
<span class="default">&lt;?php </span><span class="keyword">echo(</span><span class="default">dechex</span><span class="keyword">(</span><span class="string">"2724838310"</span><span class="keyword">+</span><span class="default">0</span><span class="keyword">)); </span><span class="default">?&gt;
<br />
</span>will print 'A269BBA6'</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71795""></a>
  <div class="note">
   <strong class="user">brent</strong>
   <a href="#71795" class="date">16-Dec-2006 08:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be very careful calling dechex on a number if it's stored in a string.<br />
<br />
For instance:<br />
<br />
The max number it can handle is 4294967295 which in hex is FFFFFFFF, as it says in the documentation.<br />
<br />
dechex(4294967295) =&gt; FFFFFFFF //CORRECT<br />
<br />
BUT, if you call it on a string of a number, it casts to int, and automatically gives you the largest int it can handle.<br />
<br />
dechex('4294967295') =&gt; 7FFFFFFF //WRONG!<br />
<br />
so you'll need to cast to a float:<br />
<br />
dechex((float) '4294967295') =&gt; FFFFFFFF //CORRECT<br />
<br />
This took me FOREVER to figure out, so hopefully I just saved someone some time.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60158""></a>
  <div class="note">
   <strong class="user">Mista-NiceGuy at web dot de</strong>
   <a href="#60158" class="date">28-Dec-2005 02:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
These are functions to convert roman numbers (e.g. MXC) into dec and vice versa.<br />
Note: romdec() does not check whether a string is really roman or not. To force a user-input into a real roman number use decrom(romdec($input)). This will turn XXXX into XL for example.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">decrom</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$digits</span><span class="keyword">=array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">"I"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">4 </span><span class="keyword">=&gt; </span><span class="string">"IV"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">5 </span><span class="keyword">=&gt; </span><span class="string">"V"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">9 </span><span class="keyword">=&gt; </span><span class="string">"IX"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">10 </span><span class="keyword">=&gt; </span><span class="string">"X"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">40 </span><span class="keyword">=&gt; </span><span class="string">"XL"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">50 </span><span class="keyword">=&gt; </span><span class="string">"L"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">90 </span><span class="keyword">=&gt; </span><span class="string">"XC"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">100 </span><span class="keyword">=&gt; </span><span class="string">"C"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">400 </span><span class="keyword">=&gt; </span><span class="string">"CD"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">500 </span><span class="keyword">=&gt; </span><span class="string">"D"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">900 </span><span class="keyword">=&gt; </span><span class="string">"CM"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">1000 </span><span class="keyword">=&gt; </span><span class="string">"M"<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$digits</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$digits </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">$dec</span><span class="keyword">&gt;=</span><span class="default">$key</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dec</span><span class="keyword">-=</span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">.=</span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$retval</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">romdec</span><span class="keyword">(</span><span class="default">$rom</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$digits</span><span class="keyword">=array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"I" </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"V" </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"X" </span><span class="keyword">=&gt; </span><span class="default">10</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"L" </span><span class="keyword">=&gt; </span><span class="default">50</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"C" </span><span class="keyword">=&gt; </span><span class="default">100</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"D" </span><span class="keyword">=&gt; </span><span class="default">500</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"M" </span><span class="keyword">=&gt; </span><span class="default">1000<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$chars</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$rom</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$chars</span><span class="keyword">[]=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$rom</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$step</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$chars</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&gt;=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">--){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!isset(</span><span class="default">$digits</span><span class="keyword">[</span><span class="default">$chars</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]])){ return </span><span class="string">"Error!"</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$step</span><span class="keyword">&lt;=</span><span class="default">$digits</span><span class="keyword">[</span><span class="default">$chars</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]]){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$step</span><span class="keyword">=</span><span class="default">$digits</span><span class="keyword">[</span><span class="default">$chars</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">+=</span><span class="default">$digits</span><span class="keyword">[</span><span class="default">$chars</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">-=</span><span class="default">$digits</span><span class="keyword">[</span><span class="default">$chars</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$retval</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">decrom</span><span class="keyword">(</span><span class="default">romdec</span><span class="keyword">(</span><span class="string">"XXXX"</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58219""></a>
  <div class="note">
   <strong class="user">cory at lavacube dot com</strong>
   <a href="#58219" class="date">28-Oct-2005 01:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A handy little function to convert HEX colour codes to "web safe" colours...<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">color_mkwebsafe </span><span class="keyword">( </span><span class="default">$in </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// put values into an easy-to-use array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vals</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vals</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vals</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) );<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// loop through<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach( </span><span class="default">$vals </span><span class="keyword">as </span><span class="default">$val </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// convert value<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= ( </span><span class="default">round</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">/</span><span class="default">51</span><span class="keyword">) * </span><span class="default">51 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// convert to HEX<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">.= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Example: color_mkwebsafe('0e5c94');<br />
Produces: 006699<br />
<br />
Hope this helps someone out... Happy coding. :-)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53814""></a>
  <div class="note">
   <strong class="user">oliver at realtsp dot com</strong>
   <a href="#53814" class="date">14-Jun-2005 10:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Warning for use on 64 bit machines! The Extra length matters!<br />
<br />
32bit machine:<br />
php -r 'echo dechex(4294967295);'<br />
output: ffffffff<br />
<br />
64bit machine:<br />
php -r 'echo dechex(4294967295);'<br />
output: ffffffff<br />
<br />
so far it is ok. But for slightly bigger numbers:<br />
<br />
32bit machine:<br />
php -r 'echo dechex(4294967296);'<br />
output: 0<br />
<br />
64bit machine:<br />
php -r 'echo dechex(4294967296);'<br />
output: 100000000<br />
<br />
note the difference!<br />
<br />
This is particularly important when converting negative numbers:<br />
<br />
64bit machine:<br />
php -r 'echo dechex(-1);'<br />
output: ffffffffffffffff<br />
<br />
32bit machine:<br />
php -r 'echo dechex(-1);'<br />
output: ffffffff<br />
<br />
If you want your code to be portable to amd64 or xeons (which are now quite popular with hosting companies) then you must ensure that your code copes with the different length of the result for negative numbers (and the max value, although that is probably less critical).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53325""></a>
  <div class="note">
   <strong class="user">jrisken at mn dot rr dot com</strong>
   <a href="#53325" class="date">29-May-2005 04:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A less elegant but (perhaps) faster way to pad is with substr with a negative length argument. I use it in this tiny function which formats computed rgb color codes for style sheets:<br />
&lt;?<br />
function toColor($n)<br />
{<br />
return("#".substr("000000".dechex($n),-6));<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52449""></a>
  <div class="note">
   <strong class="user">admin AT bobfrank DOT org</strong>
   <a href="#52449" class="date">02-May-2005 04:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a very small zeropadding that you can use for numbers:<br />
<br />
function zeropad($num, $lim)<br />
{<br />
&nbsp;&nbsp; return (strlen($num) &gt;= $lim) ? $num : zeropad("0" . $num);<br />
}<br />
<br />
zeropad("234",6);<br />
<br />
will produce:<br />
000234<br />
<br />
zeropad("234",1);<br />
<br />
will produce:<br />
234</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48623""></a>
  <div class="note">
   <strong class="user">morten at nilsen dot com</strong>
   <a href="#48623" class="date">02-Jan-2005 01:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I see a lot of less-than-optimal functions posted on this page, so I feel I have to give some better examples... <br />
due to the sheer size of this collection, I have made it available on my server, rather than copy/paste it into these comments.<br />
<br />
<a href="http://ryo-ohki.4th-age.com/demos/able.php" rel="nofollow" target="_blank">http://ryo-ohki.4th-age.com/demos/able.php</a><br />
and<br />
<a href="http://ryo-ohki.4th-age.com/demos/able.phps" rel="nofollow" target="_blank">http://ryo-ohki.4th-age.com/demos/able.phps</a><br />
<br />
dechex replacement function from above source:<br />
<span class="default">&lt;?php<br />
&nbsp; define</span><span class="keyword">(</span><span class="string">'BIT_BYTE'</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">); </span><span class="comment">// bits per byte<br />
&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'HEX_BYTE'</span><span class="keyword">, </span><span class="default">BIT_BYTE</span><span class="keyword">/</span><span class="default">4</span><span class="keyword">); </span><span class="comment">// hex digits in a byte<br />
<br />
&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'BIT_INT'</span><span class="keyword">,&nbsp; </span><span class="default">32</span><span class="keyword">); </span><span class="comment">// sizeof(int)<br />
&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'HEX_INT'</span><span class="keyword">,&nbsp; </span><span class="default">BIT_INT </span><span class="keyword">/ (</span><span class="default">BIT_BYTE</span><span class="keyword">/</span><span class="default">HEX_BYTE</span><span class="keyword">)); </span><span class="comment">// hex digits in an int<br />
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">i2h</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">, </span><span class="default">$group</span><span class="keyword">=</span><span class="default">HEX_BYTE</span><span class="keyword">, </span><span class="default">$size</span><span class="keyword">=</span><span class="default">HEX_INT</span><span class="keyword">, </span><span class="default">$sep</span><span class="keyword">=</span><span class="string">' '</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">$size</span><span class="keyword">--) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$n</span><span class="keyword">=(</span><span class="default">$int</span><span class="keyword">&gt;&gt;(</span><span class="default">$size</span><span class="keyword">*</span><span class="default">4</span><span class="keyword">)) &amp; </span><span class="default">0xf</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">.= </span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">9</span><span class="keyword">?</span><span class="default">chr</span><span class="keyword">(</span><span class="default">55 </span><span class="keyword">+ </span><span class="default">$n</span><span class="keyword">):</span><span class="default">$n</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">$size </span><span class="keyword">&amp;&amp; </span><span class="default">$size</span><span class="keyword">%</span><span class="default">$group </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) </span><span class="default">$ret </span><span class="keyword">.= </span><span class="default">$sep</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; echo </span><span class="default">i2h</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)==</span><span class="default">1</span><span class="keyword">?-</span><span class="default">mt_rand</span><span class="keyword">():</span><span class="default">mt_rand</span><span class="keyword">());<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48199""></a>
  <div class="note">
   <strong class="user">wangster at darkcore dot net</strong>
   <a href="#48199" class="date">15-Dec-2004 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function will take a string and convert it into a hexdump.<br />
<br />
e.g.<br />
<br />
3c666f6e 74207369 7a653d22 33223e4c&nbsp; &lt;font.size."3"&gt;L<br />
6561726e 20686f77 20746f20 62652061&nbsp; earn.how.to.be.a<br />
<br />
function hexdump($string) {<br />
&nbsp;&nbsp; $hex="";<br />
&nbsp;&nbsp; $substr = "";<br />
&nbsp;&nbsp; for ($i=0; $i &lt; strlen($string) ;$i++) {<br />
&nbsp;&nbsp; &nbsp; if(!($i % 4) &amp;&amp; $i != 0) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; $hex .= " ";<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; if(!($i % 16) &amp;&amp; $i != 0) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; $clean = preg_replace("/[^a-zA-Z0-9!-.&lt;&gt;\/]/",".",$substr);<br />
&nbsp;&nbsp; &nbsp; &nbsp; $hex .= " ".htmlentities($clean)."\n";<br />
&nbsp;&nbsp; &nbsp; &nbsp; $substr = "";<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; $substr .=&nbsp; $string[$i];<br />
&nbsp;&nbsp; &nbsp; $hex .= dechex(ord($string[$i]));<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return $hex;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48114""></a>
  <div class="note">
   
   <a href="#48114" class="date">12-Dec-2004 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to generate random HEX-color, use this:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">random_hex_color</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%02X%02X%02X"</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">));<br />
}<br />
</span><span class="default">$hex </span><span class="keyword">= </span><span class="default">random_hex_color</span><span class="keyword">(); </span><span class="comment">// 09B826<br />
</span><span class="default">?&gt;<br />
</span><br />
Enjoy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48102""></a>
  <div class="note">
   
   <a href="#48102" class="date">11-Dec-2004 10:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to convert RGB-color into HEX-color, use this:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rgb2hex</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%06X"</span><span class="keyword">, </span><span class="default">$rgb</span><span class="keyword">);<br />
}<br />
</span><span class="default">$hex </span><span class="keyword">= </span><span class="default">rgb2hex</span><span class="keyword">(</span><span class="default">65280</span><span class="keyword">); </span><span class="comment">// 00FF00<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41753""></a>
  <div class="note">
   <strong class="user">admin[TAKETHISOUT] at torsoft dot no-ip dot com</strong>
   <a href="#41753" class="date">21-Apr-2004 09:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
here are two functions, some might find them useful (maybe for encoding) <br />
converting string to hex and hex to string:<br />
*/<br />
<br />
</span><span class="keyword">function </span><span class="default">strhex</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hex</span><span class="keyword">.=(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])))&lt;</span><span class="default">2</span><span class="keyword">)? </span><span class="string">"0"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])): </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]));<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$hex</span><span class="keyword">;<br />
}<br />
function </span><span class="default">hexstr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">+=</span><span class="default">2</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="default">$hex</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">]));<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$string</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40913""></a>
  <div class="note">
   <strong class="user">daevid at daevid dot com</strong>
   <a href="#40913" class="date">18-Mar-2004 11:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's my version of a red-&gt;yellow-&gt;green gradient:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">colorMeter</span><span class="keyword">(</span><span class="default">$percent</span><span class="keyword">, </span><span class="default">$invert </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//$percent is in the range 0.0 &lt;= percent &lt;= 1.0<br />
&nbsp;&nbsp;&nbsp; //&nbsp; &nbsp; integers are assumed to be 0% - 100%<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // and are converted to a float 0.0 - 1.0<br />
&nbsp;&nbsp;&nbsp; //&nbsp; &nbsp;&nbsp; 0.0 = red, 0.5 = yellow, 1.0 = green<br />
&nbsp;&nbsp;&nbsp; //$invert will make the color scale reversed<br />
&nbsp;&nbsp;&nbsp; //&nbsp; &nbsp;&nbsp; 0.0 = green, 0.5 = yellow, 1.0 = red <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; //convert (int)% values to (float)<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$percent</span><span class="keyword">)) </span><span class="default">$percent </span><span class="keyword">= </span><span class="default">$percent </span><span class="keyword">* </span><span class="default">0.01</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$R </span><span class="keyword">= </span><span class="default">min</span><span class="keyword">((</span><span class="default">2.0 </span><span class="keyword">* (</span><span class="default">1.0</span><span class="keyword">-</span><span class="default">$percent</span><span class="keyword">)), </span><span class="default">1.0</span><span class="keyword">) * </span><span class="default">255.0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$G </span><span class="keyword">= </span><span class="default">min</span><span class="keyword">((</span><span class="default">2.0 </span><span class="keyword">* </span><span class="default">$percent</span><span class="keyword">), </span><span class="default">1.0</span><span class="keyword">) * </span><span class="default">255.0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$B </span><span class="keyword">= </span><span class="default">0.0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return ((</span><span class="default">$invert</span><span class="keyword">) ? <br />
</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%02X%02X%02X"</span><span class="keyword">,</span><span class="default">$G</span><span class="keyword">,</span><span class="default">$R</span><span class="keyword">,</span><span class="default">$B</span><span class="keyword">) <br />
: </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%02X%02X%02X"</span><span class="keyword">,</span><span class="default">$R</span><span class="keyword">,</span><span class="default">$G</span><span class="keyword">,</span><span class="default">$B</span><span class="keyword">)); <br />
} </span><span class="comment">//colorMeter<br />
</span><span class="default">?&gt;<br />
</span><br />
and use it like this:<br />
<br />
&lt;TABLE BORDER=1 WIDTH="300"&gt;<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0.0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">1.0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">0.10</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$RGB </span><span class="keyword">= </span><span class="default">colorMeter</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">"&lt;TR&gt;&lt;TD BGCOLOR='"</span><span class="keyword">.</span><span class="default">$RGB</span><span class="keyword">.</span><span class="string">"'&gt;"</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">"&lt;/TD&gt;&lt;TD&gt;<br />
&lt;PRE&gt;"</span><span class="keyword">.</span><span class="default">$RGB</span><span class="keyword">.</span><span class="string">"&lt;/PRE&gt;&lt;/TD&gt;&lt;/TR&gt;\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>&lt;/TABLE&gt;<br />
<br />
&lt;P&gt;<br />
<br />
&lt;TABLE BORDER=1 WIDTH="300"&gt;<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">100</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">10</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$RGB </span><span class="keyword">= </span><span class="default">colorMeter</span><span class="keyword">(</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">"&lt;TR&gt;&lt;TD BGCOLOR='"</span><span class="keyword">.</span><span class="default">$RGB</span><span class="keyword">.</span><span class="string">"'&gt;"</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">"&lt;/TD&gt;&lt;TD&gt;<br />
&lt;PRE&gt;"</span><span class="keyword">.</span><span class="default">$RGB</span><span class="keyword">.</span><span class="string">"&lt;/PRE&gt;&lt;/TD&gt;&lt;/TR&gt;\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>&lt;/TABLE&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39755""></a>
  <div class="note">
   <strong class="user">thr at recide dot net</strong>
   <a href="#39755" class="date">10-Feb-2004 01:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/*<br />
* RGB-Colorcodes(i.e: 255 0 255) to HEX-Colorcodes (i.e: FF00FF)<br />
*/<br />
function rgb2hex($rgb){<br />
&nbsp;&nbsp;&nbsp; if(!is_array($rgb) || count($rgb) != 3){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "Argument must be an array with 3 integer elements";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; for($i=0;$i&lt;count($rgb);$i++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(strlen($hex[$i] = dechex($rgb[$i])) == 1){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $hex[$i] = "0".$hex[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $hex;<br />
}<br />
/* Example */<br />
print_r(rgb2hex(array(10,255,255)));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39634""></a>
  <div class="note">
   <strong class="user">mina86 at tlen dot pl</strong>
   <a href="#39634" class="date">05-Feb-2004 06:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Easiest :P way to create random hex color:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rand_color</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="string">'00000' </span><span class="keyword">. </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffffff</span><span class="keyword">)), -</span><span class="default">6</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35843""></a>
  <div class="note">
   <strong class="user">huda m elmatsani &lt;justhuda at netscape dot net&gt;</strong>
   <a href="#35843" class="date">17-Sep-2003 12:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Create Random Hex Color:<br />
<br />
function make_seed() { <br />
&nbsp;&nbsp; list($usec, $sec) = explode(' ', microtime()); <br />
&nbsp;&nbsp; return (float) $sec + ((double) $usec * 100000); <br />
} <br />
<br />
function rand_hex() {<br />
&nbsp;&nbsp; mt_srand(make_seed()); <br />
&nbsp;&nbsp; $randval = mt_rand(0,255);<br />
&nbsp;&nbsp; //convert to hex<br />
&nbsp;&nbsp; return sprintf("%02X",$randval);<br />
}<br />
<br />
function random_color(){<br />
&nbsp;&nbsp; return "#".rand_hex().rand_hex().rand_hex();<br />
}<br />
<br />
hme ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34245""></a>
  <div class="note">
   <strong class="user">allan-wegan at allan-wegan dot de</strong>
   <a href="#34245" class="date">19-Jul-2003 07:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
now, here is a nice and small function to convert integers to hex strings and it avoids use of the DECHEX funtion because that function changed it's behavior too often in the past (now, in PHP version 4.3.2 it works with numbers bigger than 0x7FFFFFFF correctly, but i need to be backward compatible).<br />
<br />
function &amp;formatIntegerForOutput($value) {<br />
&nbsp;&nbsp;&nbsp; $text = "00000000";<br />
&nbsp;&nbsp;&nbsp; $transString = "0123456789ABCDEF";<br />
&nbsp;&nbsp;&nbsp; // handle highest nibble (nibble 7):<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nibble = $value &amp; 0x70000000;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nibble &gt;&gt;= 28;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($value &lt; 0) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $nibble = $nibble | 0x00000008;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $text[0] = $transString[$nibble];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $value &amp;= 0x0FFFFFFF;<br />
&nbsp;&nbsp;&nbsp; // nibbles 0 to 6:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($a = 7; $a &gt; 0; $a --) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $nibble = $value &amp; 0x0000000F;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $text[$a] = $transString[$nibble];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $value &gt;&gt;= 4;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $text<br />
}<br />
<br />
this function should be not too slow and is really simple.<br />
I don't know, if the DECHEX function in the future will pad it's output to ever be 8 characters in length - so for backward compatibility reasons even in future PHP versions i avoided to use it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25437""></a>
  <div class="note">
   <strong class="user">monkyNOSPAM at phpfi dot org dot invalid</strong>
   <a href="#25437" class="date">24-Sep-2002 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's how to use bitwise operations for RGB2hex conversion. This function returns hexadesimal rgb value just like one submitted by gurke@bigfoot.com above.<br />
<br />
function hexColor($color) {<br />
&nbsp; return dechex(($color[0]&lt;&lt;16)|($color[1]&lt;&lt;8)|$color[2]);<br />
}<br />
<br />
example:<br />
<br />
$col[0] = 25;<br />
$col[1] = 255;<br />
$col[2] = 55;<br />
<br />
print hexColor($col);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21086""></a>
  <div class="note">
   <strong class="user">joost at bingopaleis dot com</strong>
   <a href="#21086" class="date">28-Apr-2002 06:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are two functions that will convert large dec numbers to hex and vice versa. And I really mean LARGE, much larger than any function posted earlier.<br />
<br />
&lt;pre&gt;<br />
// Input: A decimal number as a String.<br />
// Output: The equivalent hexadecimal number as a String.<br />
function dec2hex($number)<br />
{<br />
&nbsp;&nbsp;&nbsp; $hexvalues = array('0','1','2','3','4','5','6','7',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '8','9','A','B','C','D','E','F');<br />
&nbsp;&nbsp;&nbsp; $hexval = '';<br />
&nbsp;&nbsp; &nbsp; while($number != '0')<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $hexval = $hexvalues[bcmod($number,'16')].$hexval;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $number = bcdiv($number,'16',0);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $hexval;<br />
}<br />
<br />
// Input: A hexadecimal number as a String.<br />
// Output: The equivalent decimal number as a String.<br />
function hex2dec($number)<br />
{<br />
&nbsp;&nbsp;&nbsp; $decvalues = array('0' =&gt; '0', '1' =&gt; '1', '2' =&gt; '2',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '3' =&gt; '3', '4' =&gt; '4', '5' =&gt; '5',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '6' =&gt; '6', '7' =&gt; '7', '8' =&gt; '8',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '9' =&gt; '9', 'A' =&gt; '10', 'B' =&gt; '11',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'C' =&gt; '12', 'D' =&gt; '13', 'E' =&gt; '14',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'F' =&gt; '15');<br />
&nbsp;&nbsp;&nbsp; $decval = '0';<br />
&nbsp;&nbsp;&nbsp; $number = strrev($number);<br />
&nbsp;&nbsp;&nbsp; for($i = 0; $i &lt; strlen($number); $i++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $decval = bcadd(bcmul(bcpow('16',$i,0),$decvalues[$number{$i}]), $decval);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $decval;<br />
}<br />
&lt;/pre&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18989""></a>
  <div class="note">
   <strong class="user">jfren484 at hotmail dot com</strong>
   <a href="#18989" class="date">13-Feb-2002 12:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a function which works for decimal values up to 9007199254740992 (hex 20000000000000).<br />
<br />
function dec2hex($dec)<br />
{<br />
&nbsp; $hex = ($dec == 0 ? '0' : '');<br />
<br />
&nbsp; while ($dec &gt; 0)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; $hex = dechex($dec - floor($dec / 16) * 16) . $hex;<br />
&nbsp;&nbsp;&nbsp; $dec = floor($dec / 16);<br />
&nbsp; }<br />
<br />
&nbsp; return $hex;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18951""></a>
  <div class="note">
   <strong class="user">kristoffer at caveo dot se</strong>
   <a href="#18951" class="date">11-Feb-2002 02:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Heres a example of dec to html hex gradient. Have fun :)<br />
<br />
//Amount of gradients<br />
$l = 20;<br />
<br />
//Start color<br />
$start[0] = "255";&nbsp; &nbsp;&nbsp; //red<br />
$start[1] = "0";&nbsp; &nbsp;&nbsp; //green<br />
$start[2] = "255";&nbsp; &nbsp;&nbsp; //blue<br />
<br />
//End color<br />
$end[0] = "255";&nbsp; &nbsp;&nbsp; //red<br />
$end[1] = "255";&nbsp; &nbsp; //green<br />
$end[2] = "255";&nbsp; &nbsp; //blue<br />
<br />
for ($t = 1; $t &lt; $l;) {<br />
<br />
&nbsp;&nbsp;&nbsp; $x = $x * $t;<br />
<br />
&nbsp;&nbsp;&nbsp; for ($i = 0; $i &lt; 3;) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $buffer[$i] = $start[$i] - $end[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $buffer[$i] = floor($buffer[$i] / $l);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $rgb[$i] = $start[$i] - ($buffer[$i] * $t);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($rgb[$i] &gt; 255) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rgb[$i] = 255;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $rgb[$i] = dechex($rgb[$i]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $rgb[$i] = strtoupper($rgb[$i]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (strlen($rgb[$i]) &lt; 2) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rgb[$i] = "0$rgb[$i]";<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $i++;<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; $color = "$rgb[0]$rgb[1]$rgb[2]";<br />
&nbsp;&nbsp;&nbsp; echo "$color";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $t++;<br />
<br />
}<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
