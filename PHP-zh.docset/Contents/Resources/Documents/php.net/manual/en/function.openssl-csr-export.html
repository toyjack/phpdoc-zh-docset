<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Exports a CSR as a string</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.openssl-csr-export-to-file.html">? openssl_csr_export_to_file</a></li>
      <li style="float: right;"><a href="function.openssl-csr-get-public-key.html">openssl_csr_get_public_key ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.openssl.html">OpenSSL 函数</a></li>
    <li>Exports a CSR as a string</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.openssl-csr-export" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">openssl_csr_export</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5)</p><p class="refpurpose"><span class="refname">openssl_csr_export</span> &mdash; <span class="dc-title">Exports a CSR as a string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.openssl-csr-export-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>openssl_csr_export</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$csr</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$out</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$notext</code><span class="initializer"> = true</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>openssl_csr_export()</strong></span> takes the Certificate Signing
   Request represented by <code class="parameter">csr</code> and stores it as
   ascii-armoured text into <code class="parameter">out</code>, which is passed by
   reference.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-csr-export-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">csr</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">out</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">notext</code></dt>

     <dd>

      <p class="para">
可选参数 <code class="parameter">notext</code> 影响输出的冗余度。如果设为
<strong><code>FALSE</code></strong>，输出内容将包含附加的人类可读信息。<code class="parameter">notext</code> 的缺省值为 <strong><code>TRUE</code></strong>。
</p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-csr-export-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-csr-export-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.openssl-csr-export-to-file.html" class="function" rel="rdfs-seeAlso">openssl_csr_export_to_file()</a> - Exports a CSR to a file</span></li>
    <li class="member"><span class="function"><a href="function.openssl-csr-new.html" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Generates a CSR</span></li>
    <li class="member"><span class="function"><a href="function.openssl-csr-sign.html" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Sign a CSR with another certificate (or itself) and generate a certificate</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="22696""></a>
  <div class="note">
   <strong class="user">carlos AT wfmh DOT org DOT pl</strong>
   <a href="#22696" class="date">27-Jun-2002 04:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here you come with the example of how to use this function. <br />
<br />
if( $csr = openssl_csr_new( array( <br />
&nbsp;&nbsp; &nbsp; "countryName"=&gt;"PL",<br />
&nbsp;&nbsp; &nbsp; "stateOrProvinceName" =&gt; "blah",<br />
&nbsp;&nbsp; &nbsp; "organizationName" =&gt; "company ltd",<br />
&nbsp;&nbsp; &nbsp; "commonName"=&gt;"foo.bar.com",<br />
&nbsp;&nbsp; &nbsp; "Email"=&gt;"blah@foo.bar.com"), $privkey )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; openssl_csr_export_to_file( $csr, "out.csr");<br />
&nbsp;&nbsp; }<br />
else<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; printf("failed\n");<br />
&nbsp;&nbsp; }<br />
<br />
Keep in mind that keys are case sensitive (i.e. give "email" instead of "Email" and you get warning). Also remember it's important to keep the order of the arguments in array. Move the "Email" above commonName and check what you get (in case you don't know how: "openssl req -noout -text -in out.csr"). <br />
<br />
It also happened to me me I got segfault when order was rubbish (afair Email after countryName, or plenty Email's here and there), so be awared.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
