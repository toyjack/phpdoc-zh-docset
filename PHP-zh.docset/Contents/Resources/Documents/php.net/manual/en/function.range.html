<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>建立一个包含指定范围单元的数组</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.prev.html">? prev</a></li>
      <li style="float: right;"><a href="function.reset.html">reset ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>建立一个包含指定范围单元的数组</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.range" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">range</h1>
    <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">range</span> &mdash; <span class="dc-title">
     建立一个包含指定范围单元的数组
    </span></p>

   </div>
 <div class="refsect1 description" id="refsect1-function.range-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>range</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$start</code></span>
   , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$limit</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.number" class="type number">number</a></span> <code class="parameter">$step</code><span class="initializer"> = 1</span></span>
  ] )</div>

    <p class="para rdfs-comment">
   建立一个包含指定范围单元的数组。
  </p>
 </div>

   
  <div class="refsect1 parameters" id="refsect1-function.range-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">start</code></dt>

     <dd>

      <p class="para">
       序列的第一个值。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">limit</code></dt>

     <dd>

      <p class="para">
       序列结束于 <code class="parameter">limit</code> 的值。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">step</code></dt>

     <dd>

      <p class="para">
       如果给出了 <code class="parameter">step</code> 的值，它将被作为单元之间的步进值。<code class="parameter">step</code>
     应该为正值。如果未指定，<code class="parameter">step</code> 则默认为 1。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.range-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回的数组中从
     <code class="parameter">start</code> 到 <code class="parameter">limit</code> 的单元，包括它们本身。
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.range-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.0.0</td>
       <td>
        添加了可选参数  <code class="parameter">step</code>。
       </td>
      </tr>

      <tr>
       <td>4.1.0 to 4.3.2</td>
       <td>
        在 PHP 版本 4.1.0 到 4.3.2 中，<span class="function"><strong>range()</strong></span>
      将数字字符串看作字符串而不是整数，因此将会被作为字符序列使用。例如，<em>&quot;4242&quot;</em>
      会被当作 <em>&quot;4&quot;</em> 来对待。
       </td>
      </tr>

      <tr>
       <td>4.1.0</td>
       <td>
        在版本 4.1.0 之前 <span class="function"><strong>range()</strong></span>
      函数只产生递增的整数数组。对于字符序列和递减数组的支持是 4.1.0
      加入的。字符序列值的长度限定为一。如果输入的长度超过一，则只使用第一个字符。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.range-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5481">
    <p><strong>Example #1 <span class="function"><strong>range()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;array(0,&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;8,&nbsp;9,&nbsp;10,&nbsp;11,&nbsp;12)<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;step&nbsp;parameter&nbsp;was&nbsp;introduced&nbsp;in&nbsp;5.0.0<br />//&nbsp;array(0,&nbsp;10,&nbsp;20,&nbsp;30,&nbsp;40,&nbsp;50,&nbsp;60,&nbsp;70,&nbsp;80,&nbsp;90,&nbsp;100)<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Use&nbsp;of&nbsp;character&nbsp;sequences&nbsp;introduced&nbsp;in&nbsp;4.1.0<br />//&nbsp;array('a',&nbsp;'b',&nbsp;'c',&nbsp;'d',&nbsp;'e',&nbsp;'f',&nbsp;'g',&nbsp;'h',&nbsp;'i');<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'i'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$letter</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$letter</span><span style="color: #007700">;<br />}<br /></span><span style="color: #FF8000">//&nbsp;array('c',&nbsp;'b',&nbsp;'a');<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #DD0000">'c'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$letter</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$letter</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.range-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.shuffle.html" class="function" rel="rdfs-seeAlso">shuffle()</a> - 将数组打乱</span></li>
    <li class="member"><span class="function"><a href="function.array-fill.html" class="function" rel="rdfs-seeAlso">array_fill()</a> - 用给定的值填充数组</span></li>
    <li class="member"><a href="control-structures.foreach.html" class="link">foreach</a></li>
   </ul>
  </p>
 </div>
  
   
  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="119519""></a>
  <div class="note">
   <strong class="user">luca.favorido ATgmailDOT com</strong>
   <a href="#119519" class="date">28-Jun-2016 04:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The function "range" is very useful to get an array of characters as range('C','R') does.<br />
<br />
At work, I had to extend the function range($a,$b) to work in this special case: with two uppercase strings $a and $b, it should return all the possible strings between $a and $b.<br />
This could be used for example to get the excel column indexes.<br />
e.g. <span class="default">&lt;?php range</span><span class="keyword">(</span><span class="string">'A'</span><span class="keyword">,</span><span class="string">'AD'</span><span class="keyword">) ==&gt; array(</span><span class="string">'A'</span><span class="keyword">,</span><span class="string">'B'</span><span class="keyword">,</span><span class="string">'C'</span><span class="keyword">,...,</span><span class="string">'Z'</span><span class="keyword">,</span><span class="string">'AA'</span><span class="keyword">,</span><span class="string">'AB'</span><span class="keyword">,</span><span class="string">'AC'</span><span class="keyword">,</span><span class="string">'AD'</span><span class="keyword">) </span><span class="default">?&gt;<br />
</span><br />
So I wrote the function getrange($min,$max) that exactly does this.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">getcolumnrange</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$pointer</span><span class="keyword">=</span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$output</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp;&nbsp; while(</span><span class="default">positionalcomparison</span><span class="keyword">(</span><span class="default">$pointer</span><span class="keyword">,</span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">$max</span><span class="keyword">))&lt;=</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">,</span><span class="default">$pointer</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pointer</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">positionalcomparison</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">){<br />
&nbsp;&nbsp; </span><span class="default">$a1</span><span class="keyword">=</span><span class="default">stringtointvalue</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">); </span><span class="default">$b1</span><span class="keyword">=</span><span class="default">stringtointvalue</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
&nbsp;&nbsp; if(</span><span class="default">$a1</span><span class="keyword">&gt;</span><span class="default">$b1</span><span class="keyword">)return </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; else if(</span><span class="default">$a1</span><span class="keyword">&lt;</span><span class="default">$b1</span><span class="keyword">)return -</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; else return </span><span class="default">0</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">/*<br />
* e.g. A=1 - B=2 - Z=26 - AA=27 - CZ=104 - DA=105 - ZZ=702 - AAA=703<br />
*/<br />
</span><span class="keyword">function </span><span class="default">stringtointvalue</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">){<br />
&nbsp;&nbsp; </span><span class="default">$amount</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$strarra</span><span class="keyword">=</span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$amount</span><span class="keyword">+=(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$strarra</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])-</span><span class="default">64</span><span class="keyword">)*</span><span class="default">pow</span><span class="keyword">(</span><span class="default">26</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return </span><span class="default">$amount</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118692""></a>
  <div class="note">
   <strong class="user">qz</strong>
   <a href="#118692" class="date">20-Jan-2016 08:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're looking to fill an array to get a hash with 0-9 numerical values, using<br />
range(0,9);<br />
is a faster solution compared to <br />
array_fill(0, 10, '');</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118659""></a>
  <div class="note">
   <strong class="user">moficer at host dot sk</strong>
   <a href="#118659" class="date">16-Jan-2016 12:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
php 5.6.16<br />
<br />
<span class="default">&lt;?php<br />
var_export</span><span class="keyword">(</span><span class="default">range</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">));<br />
<br />
</span><span class="comment">/*<br />
array (<br />
&nbsp; 0 =&gt; 'Z',<br />
&nbsp; 1 =&gt; '[',<br />
&nbsp; 2 =&gt; '\\',<br />
&nbsp; 3 =&gt; ']',<br />
&nbsp; 4 =&gt; '^',<br />
&nbsp; 5 =&gt; '_',<br />
&nbsp; 6 =&gt; '`',<br />
&nbsp; 7 =&gt; 'a',<br />
)<br />
&nbsp;*/</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118224""></a>
  <div class="note">
   <strong class="user">Alien426</strong>
   <a href="#118224" class="date">29-Oct-2015 11:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The function will generate an array of integers even if your numerical parameters are enclosed in quotes.<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">( </span><span class="default">range</span><span class="keyword">(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">) ); </span><span class="comment">// outputs&nbsp; array(2) { [0]=&gt; int(1) [1]=&gt; int(2) }<br />
</span><span class="default">?&gt;<br />
</span><br />
An easy way to get an array of strings is to map strval() to the range:<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">( </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'strval'</span><span class="keyword">, </span><span class="default">range</span><span class="keyword">(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">)) ); </span><span class="comment">// outputs&nbsp; array(2) { [0]=&gt; string(1) "1" [1]=&gt; string(1) "2" }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115933""></a>
  <div class="note">
   <strong class="user">unicod3 at hotmail dot com</strong>
   <a href="#115933" class="date">16-Oct-2014 02:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a function to get column index by letter&nbsp; <br />
&nbsp;<br />
function getColumnNumber($char){<br />
&nbsp;&nbsp;&nbsp; $alphabet = range('a','z');<br />
&nbsp;&nbsp;&nbsp; $alphabet2 = range('a','z');<br />
&nbsp;&nbsp;&nbsp; $newAlphabet = $alphabet;<br />
&nbsp;&nbsp;&nbsp; foreach($alphabet as $k =&gt; $r)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach($alphabet2 as $row){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $newAlphabet[] = $r.$row;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; $key = array_search($char, $newAlphabet);<br />
&nbsp;&nbsp;&nbsp; return ($key !== false) ? $key : null;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114938""></a>
  <div class="note">
   <strong class="user">lsblsb at gmx dot de</strong>
   <a href="#114938" class="date">01-May-2014 12:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a function, that creates a letter range with arbitrary length.<br />
You specify via the $length parameter, how many entries you need.<br />
Logic is analog to the logic of the column-titles in a calc-sheet.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp; * create a letter range with arbitrary length<br />
&nbsp; * @param int $length<br />
&nbsp; * @return array<br />
&nbsp; */<br />
</span><span class="keyword">function </span><span class="default">createLetterRange</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$range </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$letters </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$position </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">*</span><span class="default">26</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$letters </span><span class="keyword">as </span><span class="default">$ii </span><span class="keyword">=&gt; </span><span class="default">$letter</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$position</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$position </span><span class="keyword">&lt;= </span><span class="default">$length</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$range</span><span class="keyword">[] = (</span><span class="default">$position </span><span class="keyword">&gt; </span><span class="default">26 </span><span class="keyword">? </span><span class="default">$range</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">] : </span><span class="string">''</span><span class="keyword">).</span><span class="default">$letter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$range</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114493""></a>
  <div class="note">
   <strong class="user">php at keith tyler dot com</strong>
   <a href="#114493" class="date">27-Feb-2014 07:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
So with the introduction of single-character ranges to the range() function, the internal function tries to be "smart", and (I am inferring from behavior here) apparently checks the type of the incoming values. If one is numeric, including numeric string, then the other is treated as numeric; if it is a non-numeric string, it is treated as zero. <br />
<br />
But.<br />
<br />
If you pass in a numeric string in such a way that is is forced to be recognized as type string and not type numeric, range() will function quite differently.<br />
<br />
Compare:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">range</span><span class="keyword">(</span><span class="default">9</span><span class="keyword">,</span><span class="string">"Q"</span><span class="keyword">));<br />
</span><span class="comment">// prints 9876543210<br />
<br />
</span><span class="keyword">echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">range</span><span class="keyword">(</span><span class="string">"9 "</span><span class="keyword">,</span><span class="string">"Q"</span><span class="keyword">));&nbsp; </span><span class="comment">//space after the 9<br />
// prints 9:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQ<br />
<br />
</span><span class="keyword">echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">range</span><span class="keyword">(</span><span class="string">"q"</span><span class="keyword">,</span><span class="string">"9 "</span><span class="keyword">));<br />
</span><span class="comment">// prints qponmlkjihgfedcba`_^]\[ZYXWVUTSRQPONMLKJIHGFEDCBA@</span><span class="default">?&gt;</span>=&lt;;:987654<br />
?&gt;<br />
<br />
I wouldn't call this a bug, because IMO it is even more useful than the stock usage of the function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114180""></a>
  <div class="note">
   <strong class="user">jazzduck AT gmail DOT com</strong>
   <a href="#114180" class="date">22-Jan-2014 05:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Despite the line above that says that the $step value should be "given as a positive number," the range() function will in fact correctly handle reversed (decrementing) ranges. For example:<br />
<br />
<span class="default">&lt;?php print_r</span><span class="keyword">( </span><span class="default">range</span><span class="keyword">( </span><span class="default">24</span><span class="keyword">, </span><span class="default">20 </span><span class="keyword">) ); </span><span class="default">?&gt;<br />
</span>Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 24<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 23<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 22<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 21<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; 20<br />
)<br />
<br />
<span class="default">&lt;?php print_r</span><span class="keyword">( </span><span class="default">range</span><span class="keyword">( </span><span class="default">20</span><span class="keyword">, </span><span class="default">11</span><span class="keyword">, -</span><span class="default">3 </span><span class="keyword">) ); </span><span class="default">?&gt;<br />
</span>Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 20<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 17<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 14<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 11<br />
)<br />
<br />
It will actually ignore the sign of the $step argument, and determine whether to increment or decrement based purely on whether $start &gt; $end or $end &gt; $start. For example:<br />
<br />
<span class="default">&lt;?php print_r</span><span class="keyword">( </span><span class="default">range</span><span class="keyword">( </span><span class="default">20</span><span class="keyword">, </span><span class="default">11</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">) ); </span><span class="default">?&gt;<br />
</span>Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 20<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 17<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 14<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 11<br />
)<br />
<br />
<span class="default">&lt;?php print_r</span><span class="keyword">( </span><span class="default">range</span><span class="keyword">( </span><span class="default">11</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">, -</span><span class="default">3 </span><span class="keyword">) ); </span><span class="default">?&gt;<br />
</span>Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 11<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 14<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 17<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 20<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113327""></a>
  <div class="note">
   <strong class="user">pyetrosafe at gmail dot com</strong>
   <a href="#113327" class="date">27-Sep-2013 10:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To create a simple array or a multidimensional array with defined size and null values??, use this expression:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$SimpleArray </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(function(</span><span class="default">$n</span><span class="keyword">) { return </span><span class="default">null</span><span class="keyword">; }, </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">) );<br />
</span><span class="default">$MultiArray </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(function(</span><span class="default">$n</span><span class="keyword">) { return </span><span class="default">array_map</span><span class="keyword">(function(</span><span class="default">$n</span><span class="keyword">) { return </span><span class="default">null</span><span class="keyword">; }, </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) ); }, </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">) );<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$SimpleArray</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$MultiArray</span><span class="keyword">);<br />
<br />
</span><span class="comment">// And will print:<br />
</span><span class="default">?&gt;<br />
</span>&gt;&gt;$SimpleArray<br />
array(3) {<br />
&nbsp; [0]=&gt;&nbsp; NULL<br />
&nbsp; [1]=&gt;&nbsp; NULL<br />
&nbsp; [2]=&gt;&nbsp; NULL<br />
}<br />
<br />
&gt;&gt;$MultiArray<br />
array(3) {<br />
&nbsp; [0]=&gt;&nbsp; array(2) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;&nbsp; &nbsp; NULL<br />
&nbsp;&nbsp;&nbsp; [1]=&gt;&nbsp; &nbsp; NULL<br />
&nbsp; }<br />
&nbsp; [1]=&gt;&nbsp; array(2) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;&nbsp; &nbsp; NULL<br />
&nbsp;&nbsp;&nbsp; [1]=&gt;&nbsp; &nbsp; NULL<br />
&nbsp; }<br />
&nbsp; [2]=&gt;&nbsp; array(2) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;&nbsp; &nbsp; NULL<br />
&nbsp;&nbsp;&nbsp; [1]=&gt;&nbsp; &nbsp; NULL<br />
&nbsp; }<br />
}<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113024""></a>
  <div class="note">
   <strong class="user">krdr dot mft at gmail dot com</strong>
   <a href="#113024" class="date">20-Aug-2013 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've been introduced with range() function not so long ago, and I found that examples about it is somewhat wrong, even inefficient:<br />
<br />
<span class="default">&lt;?php<br />
$o </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
</span><span class="default">$time_start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">); <br />
foreach(</span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">10000</span><span class="keyword">) as </span><span class="default">$val</span><span class="keyword">) { <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$o </span><span class="keyword">.= </span><span class="default">$val</span><span class="keyword">; <br />
} <br />
</span><span class="default">$time_end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$time </span><span class="keyword">= </span><span class="default">$time_end </span><span class="keyword">- </span><span class="default">$time_start</span><span class="keyword">; <br />
echo </span><span class="string">'rangein: '</span><span class="keyword">.</span><span class="default">$time</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">; <br />
<br />
</span><span class="default">$o </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
</span><span class="default">$time_start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">); <br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">10000</span><span class="keyword">);<br />
foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$val</span><span class="keyword">) { <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$o </span><span class="keyword">.= </span><span class="default">$val</span><span class="keyword">;&nbsp; <br />
} <br />
</span><span class="default">$time_end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$time </span><span class="keyword">= </span><span class="default">$time_end </span><span class="keyword">- </span><span class="default">$time_start</span><span class="keyword">; <br />
echo </span><span class="string">'rangeout: '</span><span class="keyword">.</span><span class="default">$time</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">; <br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Which gives results:<br />
<br />
rangein: 0.0025348663330078<br />
rangeout: 0.0019199848175049<br />
<br />
In some cases difference is even bigger and proportional to the range generated. I suppose that results of range() are cached/hashed.<br />
<br />
Note: execution order does affects execution times, but difference still exists</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112362""></a>
  <div class="note">
   <strong class="user">Ray.Paseur often uses Gmail</strong>
   <a href="#112362" class="date">07-Jun-2013 12:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Interestingly, these two statements produce identical 26-character alphabet arrays.<br />
<br />
<span class="default">&lt;?php<br />
$arr </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="string">'A'</span><span class="keyword">,&nbsp; </span><span class="string">'Z'</span><span class="keyword">);<br />
</span><span class="default">$arr </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="string">'AA'</span><span class="keyword">, </span><span class="string">'ZZ'</span><span class="keyword">);</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112036""></a>
  <div class="note">
   <strong class="user">gtisza at gmail dot com</strong>
   <a href="#112036" class="date">25-Apr-2013 07:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You might expect range($n, $n-1) to be an empty array (as in e.g. Python) but actually PHP will assume a step of -1 if start is larger than end.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110504""></a>
  <div class="note">
   <strong class="user">Palz</strong>
   <a href="#110504" class="date">30-Oct-2012 07:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To create a range array like<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [11] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [12] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [13] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [14] =&gt; 4<br />
)<br />
<br />
combine two range arrays using array_combine:<br />
<br />
array_combine(range(11,14),range(1,4))</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109642""></a>
  <div class="note">
   <strong class="user">ktamas77 at gmail dot com</strong>
   <a href="#109642" class="date">04-Aug-2012 07:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you need zero padding, string prefixes or any other masks, then a simple combination of array_map, inline functions and sprintf is your friend.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$a </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(function(</span><span class="default">$n</span><span class="keyword">) { return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'sample_%03d'</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">); }, </span><span class="default">range</span><span class="keyword">(</span><span class="default">50</span><span class="keyword">, </span><span class="default">59</span><span class="keyword">) );<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Will result:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; sample_050<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; sample_051<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; sample_052<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; sample_053<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; sample_054<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; sample_055<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; sample_056<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; sample_057<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; sample_058<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; sample_059<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108767""></a>
  <div class="note">
   <strong class="user">me at phpscott dot com</strong>
   <a href="#108767" class="date">24-May-2012 02:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
So, I needed a quick and dirty way to create a dropdown select for hours, minutes and seconds using 2 digit formatting, and to create those arrays of data, I combined range with array merge..
<br />

<br />
<span class="default">&lt;?php
<br />
$prepend </span><span class="keyword">= array(</span><span class="string">'00'</span><span class="keyword">,</span><span class="string">'01'</span><span class="keyword">,</span><span class="string">'02'</span><span class="keyword">,</span><span class="string">'03'</span><span class="keyword">,</span><span class="string">'04'</span><span class="keyword">,</span><span class="string">'05'</span><span class="keyword">,</span><span class="string">'06'</span><span class="keyword">,</span><span class="string">'07'</span><span class="keyword">,</span><span class="string">'08'</span><span class="keyword">,</span><span class="string">'09'</span><span class="keyword">);
<br />
</span><span class="default">$hours&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$prepend</span><span class="keyword">,</span><span class="default">range</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">23</span><span class="keyword">));
<br />
</span><span class="default">$minutes&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$prepend</span><span class="keyword">,</span><span class="default">range</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">59</span><span class="keyword">));
<br />
</span><span class="default">$seconds&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$minutes</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Super simple.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107440""></a>
  <div class="note">
   <strong class="user">dries at volta dot be</strong>
   <a href="#107440" class="date">09-Feb-2012 08:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Ever wanted to generate an array with a range of column names for use in Excel file related parsing?<br />
I've wrote a function that starts at the A column and adds column names up until the column you specified.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* This function creates an array with column names up until the column<br />
&nbsp;* you specified.<br />
*/<br />
</span><span class="keyword">function </span><span class="default">createColumnsArray</span><span class="keyword">(</span><span class="default">$end_column</span><span class="keyword">, </span><span class="default">$first_letters </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$columns </span><span class="keyword">= array();<br />
&nbsp; </span><span class="default">$length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$end_column</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$letters </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment">// Iterate over 26 letters.<br />
&nbsp; </span><span class="keyword">foreach (</span><span class="default">$letters </span><span class="keyword">as </span><span class="default">$letter</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// Paste the $first_letters before the next.<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$column </span><span class="keyword">= </span><span class="default">$first_letters </span><span class="keyword">. </span><span class="default">$letter</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// Add the column to the final array.<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$columns</span><span class="keyword">[] = </span><span class="default">$column</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// If it was the end column that was added, return the columns.<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$column </span><span class="keyword">== </span><span class="default">$end_column</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$columns</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="comment">// Add the column children.<br />
&nbsp; </span><span class="keyword">foreach (</span><span class="default">$columns </span><span class="keyword">as </span><span class="default">$column</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// Don't itterate if the $end_column was already set in a previous itteration.<br />
&nbsp;&nbsp; &nbsp;&nbsp; // Stop iterating if you've reached the maximum character length.<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$end_column</span><span class="keyword">, </span><span class="default">$columns</span><span class="keyword">) &amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$column</span><span class="keyword">) &lt; </span><span class="default">$length</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_columns </span><span class="keyword">= </span><span class="default">createColumnsArray</span><span class="keyword">(</span><span class="default">$end_column</span><span class="keyword">, </span><span class="default">$column</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Merge the new columns which were created with the final columns array.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$columns </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$columns</span><span class="keyword">, </span><span class="default">$new_columns</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp; return </span><span class="default">$columns</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Usage:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Return an array with all column names from A until and with BI.<br />
</span><span class="default">createColumnsArray</span><span class="keyword">(</span><span class="string">'BI'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102666""></a>
  <div class="note">
   <strong class="user">Aram Kocharyan</strong>
   <a href="#102666" class="date">28-Feb-2011 04:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a function to generate ranges from strings:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/*&nbsp; Creates an array of integers based on a given range string of format "int - int"<br />
&nbsp;&nbsp;&nbsp; Eg. range_str('2 - 5'); */<br />
</span><span class="keyword">function </span><span class="default">range_str</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'#(\\d+)\\s*-\\s*(\\d+)#'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">count</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">) == </span><span class="default">3 </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">range</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Test<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">range_str</span><span class="keyword">(</span><span class="string">' 2 - 4 '</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This outputs:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 4<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90605""></a>
  <div class="note">
   <strong class="user">jay at NOspam dot myd3 dot com</strong>
   <a href="#90605" class="date">30-Apr-2009 02:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a modified version of thomas' range_string() function. It's simpler, cleaner, and more robust, but it lacks the advanced features his function had, hopefully it will be of assitance to someone.<br />
<br />
Examples:<br />
<br />
&nbsp;&nbsp;&nbsp; input: "1, 2, 3, 4, 5, 6" --&gt; output: 1, 2, 3, 4, 5, 6<br />
&nbsp;&nbsp;&nbsp; input: "1-6" --&gt; output: 1, 2, 3, 4, 5, 6<br />
&nbsp;&nbsp;&nbsp; input: "1-6" --&gt; output: 1, 2, 3, 4, 5, 6<br />
&nbsp;&nbsp;&nbsp; input: "1 - -6" --&gt; output: 1, 2, 3, 4, 5, 6<br />
&nbsp;&nbsp;&nbsp; input: "0 - 0" --&gt; output: 0<br />
&nbsp;&nbsp;&nbsp; input: "1, 4-6, 2" --&gt; output: 1, 2, 4, 5, 6<br />
&nbsp;&nbsp;&nbsp; input: "6,3-1" --&gt; output: 1, 2, 3, 6<br />
<br />
<span class="default">&lt;?php<br />
<br />
define</span><span class="keyword">(</span><span class="string">'RANGE_ARRAY_SORT'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'RANGE_ARRAY'</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'RANGE_STRING_SORT'</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'RANGE_STRING'</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">);<br />
<br />
function </span><span class="default">range_string</span><span class="keyword">(</span><span class="default">$range_str</span><span class="keyword">, </span><span class="default">$output_type </span><span class="keyword">= </span><span class="default">RANGE_ARRAY_SORT</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Remove spaces and nother non-essential characters<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$find</span><span class="keyword">[]&nbsp; &nbsp; = </span><span class="string">"/[^\d,\-]/"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$replace</span><span class="keyword">[] = </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Remove duplicate hyphens<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$find</span><span class="keyword">[]&nbsp; &nbsp; = </span><span class="string">"/\-+/"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$replace</span><span class="keyword">[] = </span><span class="string">"-"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Remove duplicate commas<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$find</span><span class="keyword">[]&nbsp; &nbsp; = </span><span class="string">"/\,+/"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$replace</span><span class="keyword">[] = </span><span class="string">","</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$range_str </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="default">$find</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$range_str</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Remove any commas or hypens from the end of the string<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$range_str </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$range_str</span><span class="keyword">,</span><span class="string">",-"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$range_out </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ranges&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">$range_str</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$ranges </span><span class="keyword">as </span><span class="default">$range</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">) || </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Just a number; add it to the list.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$range_out</span><span class="keyword">[] = (int) </span><span class="default">$range</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Is probably a range of values.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$range_exp </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"/(\D)/"</span><span class="keyword">,</span><span class="default">$range</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">$range_exp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$end&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$range_exp</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$start </span><span class="keyword">&gt; </span><span class="default">$end</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&gt;= </span><span class="default">$end</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">-= </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$range_out</span><span class="keyword">[] = (int) </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$end</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$range_out</span><span class="keyword">[] = (int) </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; switch (</span><span class="default">$output_type</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">RANGE_ARRAY_SORT</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$range_out </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$range_out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">sort</span><span class="keyword">(</span><span class="default">$range_out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">RANGE_ARRAY</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$range_out</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">RANGE_STRING_SORT</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$range_out </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$range_out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">sort</span><span class="keyword">(</span><span class="default">$range_out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">RANGE_STRING</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">", "</span><span class="keyword">, </span><span class="default">$range_out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">// Sample Usage:<br />
</span><span class="default">$range </span><span class="keyword">= </span><span class="default">range_string</span><span class="keyword">(</span><span class="string">"6, 3-1"</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85331""></a>
  <div class="note">
   <strong class="user">ThinkMedical at Gmail dot com</strong>
   <a href="#85331" class="date">26-Aug-2008 02:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
foreach(range()) whilst efficiant in other languages, such as python, it is not (compared to a for) in php*.<br />
<br />
php is a C-inspired language and thus for is entirely in-keeping with the lanuage aethetic to use it<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//efficiant<br />
</span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$end</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">+=</span><span class="default">$step</span><span class="keyword">) <br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//do something with array <br />
</span><span class="keyword">}<br />
<br />
</span><span class="comment">//inefficiant<br />
</span><span class="keyword">foreach(</span><span class="default">range</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$step</span><span class="keyword">) as </span><span class="default">$i</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//do something with array <br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
That the officiant documentation doesnt mention the for loop is strange.<br />
<br />
Note however, that in PHP5 foreach is faster than for when iterating without incrementing a variable.<br />
<br />
* My tests using microtime and 100 000 iterations consistently (~10 times) show that for is 4x faster than foreach(range()).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82104""></a>
  <div class="note">
   <strong class="user">captvanhalen at gmail dot com</strong>
   <a href="#82104" class="date">27-Mar-2008 07:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a home rolled range() function that uses the step feature for those unfortunate souls who cannot use PHP5:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">my_range</span><span class="keyword">( </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$step </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$range </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">range</span><span class="keyword">( </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end </span><span class="keyword">) as </span><span class="default">$index</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (! ((</span><span class="default">$index </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">) % </span><span class="default">$step</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$range</span><span class="keyword">[] = </span><span class="default">$index</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$range</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75045""></a>
  <div class="note">
   <strong class="user">chris at laflash dot org</strong>
   <a href="#75045" class="date">10-May-2007 01:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quick HTML menus with minimum and maximum sets of years:<br />
<br />
<span class="default">&lt;?php <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/* <br />
&nbsp;&nbsp;&nbsp; ** Quick HTML menus with minimum and maximum sets of years.<br />
&nbsp;&nbsp;&nbsp; ** @author Chris Charlton &lt;chris@laflash.org&gt;<br />
&nbsp;&nbsp;&nbsp; ** @license FREE!<br />
&nbsp;&nbsp;&nbsp; */<br />
<br />
&nbsp;&nbsp;&nbsp; // Years range setup<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$year_built_min </span><span class="keyword">= </span><span class="default">1900</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$year_built_max </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>&lt;select id="yearBuiltMin" size="1"&gt;<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php </span><span class="comment">// Generate minimum years <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">range</span><span class="keyword">(</span><span class="default">$year_built_min</span><span class="keyword">, </span><span class="default">$year_built_max</span><span class="keyword">) as </span><span class="default">$year</span><span class="keyword">) { </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;option value="<span class="default">&lt;?php </span><span class="keyword">echo(</span><span class="default">$year</span><span class="keyword">); </span><span class="default">?&gt;</span>"&gt;<span class="default">&lt;?php </span><span class="keyword">echo(</span><span class="default">$year</span><span class="keyword">); </span><span class="default">?&gt;</span>&lt;/option&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <span class="default">&lt;?php </span><span class="keyword">} </span><span class="default">?&gt;<br />
</span>&lt;/select&gt;<br />
<br />
&lt;select id="yearBuiltMax" size="1"&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; <span class="default">&lt;?php </span><span class="comment">// Generate max years <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">range</span><span class="keyword">(</span><span class="default">$year_built_max</span><span class="keyword">, </span><span class="default">$year_built_min</span><span class="keyword">) as </span><span class="default">$year</span><span class="keyword">) { </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;option value="<span class="default">&lt;?php </span><span class="keyword">echo(</span><span class="default">$year</span><span class="keyword">); </span><span class="default">?&gt;</span>"&gt;<span class="default">&lt;?php </span><span class="keyword">echo(</span><span class="default">$year</span><span class="keyword">); </span><span class="default">?&gt;</span>&lt;/option&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <span class="default">&lt;?php </span><span class="keyword">} </span><span class="default">?&gt;<br />
</span>&lt;/select&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73579""></a>
  <div class="note">
   <strong class="user">m0sh3 at hotmail dot com</strong>
   <a href="#73579" class="date">02-Mar-2007 02:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's how i use it to check if array is associative or not:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">if (</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)===</span><span class="default">range</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">)) {<br />
</span><span class="comment">// not associative array<br />
<br />
</span><span class="keyword">} else {<br />
</span><span class="comment">// associative array <br />
<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70989""></a>
  <div class="note">
   <strong class="user">manuel at levante dot de</strong>
   <a href="#70989" class="date">07-Nov-2006 02:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">srange </span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">"/([0-9]{1,2})-?([0-9]{0,2}) ?,?;?/"</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$n </span><span class="keyword">= array ();<br />
&nbsp; foreach (</span><span class="default">$a</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$n&nbsp; </span><span class="keyword">= </span><span class="default">array_merge </span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">range </span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">, (empty(</span><span class="default">$a</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">])?</span><span class="default">$v</span><span class="keyword">:</span><span class="default">$a</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">])));<br />
&nbsp; }<br />
&nbsp; return (</span><span class="default">$n</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$s </span><span class="keyword">= </span><span class="string">'1-4 6-7 9-10'</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">srange</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Return:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 4<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; 6<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; 7<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; 10<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60479""></a>
  <div class="note">
   <strong class="user">subscription101 at hotmail dot com</strong>
   <a href="#60479" class="date">08-Jan-2006 03:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A much simpler way of creating a range of even numbers is by starting with an even number:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; range</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56023""></a>
  <div class="note">
   <strong class="user">emory underscore smith at hotmail</strong>
   <a href="#56023" class="date">21-Aug-2005 04:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
since its not stated explicitly above, thought id point out that you arent limited to using integers.<br />
<br />
however, be careful when doing so, as you might not get the range you expect!<br />
<br />
to illustrate:<br />
<br />
<span class="default">&lt;?php<br />
$am </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">500</span><span class="keyword">,</span><span class="default">1600</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">);<br />
</span><span class="default">$fm </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">88.1</span><span class="keyword">,</span><span class="default">107.9</span><span class="keyword">,</span><span class="default">.2</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$am</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$fm</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
print_r($am) yields the expected result:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 500<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 510<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 520<br />
&nbsp;&nbsp;&nbsp; ...<br />
&nbsp;&nbsp;&nbsp; [109] =&gt; 1590<br />
&nbsp;&nbsp;&nbsp; [110] =&gt; 1600<br />
)<br />
<br />
print_r($fm), however, falls a bit (1%) short:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 88.1<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 88.3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 88.5<br />
&nbsp;&nbsp;&nbsp; ...<br />
&nbsp;&nbsp;&nbsp; [97] =&gt; 107.5<br />
&nbsp;&nbsp;&nbsp; [98] =&gt; 107.7<br />
)<br />
&nbsp;&nbsp;&nbsp; <br />
so, if you want to use a non-integral step size params for numeric ranges, be sure to account for fp representation accuracy and error accumulation; a step size of something like pi or 1/10 could spell disaster for a large range. if in doubt, use integral steps and divide ... something like <span class="default">&lt;?php range</span><span class="keyword">(</span><span class="default">88.1</span><span class="keyword">,</span><span class="default">108</span><span class="keyword">,</span><span class="default">.2</span><span class="keyword">) </span><span class="default">?&gt;</span> might work to recover 107.9, but would not be scalable like, say <span class="default">&lt;?php array_map</span><span class="keyword">(</span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$x'</span><span class="keyword">,</span><span class="string">'return $x/10;'</span><span class="keyword">),</span><span class="default">range</span><span class="keyword">(</span><span class="default">881</span><span class="keyword">,</span><span class="default">1079</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)) </span><span class="default">?&gt;</span>.<br />
<br />
-emory</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52644""></a>
  <div class="note">
   <strong class="user">derek at php dot net</strong>
   <a href="#52644" class="date">08-May-2005 03:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This should emulate range() a little better.
<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">range_wroar</span><span class="keyword">(</span><span class="default">$low</span><span class="keyword">, </span><span class="default">$high</span><span class="keyword">, </span><span class="default">$step </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= array();
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$step </span><span class="keyword">= (</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)?</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">):</span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sign </span><span class="keyword">= (</span><span class="default">$low</span><span class="keyword">&lt;=</span><span class="default">$high</span><span class="keyword">)?</span><span class="default">1</span><span class="keyword">:-</span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$low</span><span class="keyword">) &amp;&amp; </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$high</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//numeric sequence
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= (float)</span><span class="default">$low</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$sign </span><span class="keyword">&lt;= </span><span class="default">$high</span><span class="keyword">*</span><span class="default">$sign</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$step</span><span class="keyword">*</span><span class="default">$sign</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; else&nbsp; &nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//character sequence
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$low</span><span class="keyword">)) 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">range</span><span class="keyword">(</span><span class="default">$low</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$step</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$high</span><span class="keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">range</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$high</span><span class="keyword">, </span><span class="default">$step</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$low </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$low</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$high </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$high</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$low</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$sign </span><span class="keyword">&lt;= </span><span class="default">$high</span><span class="keyword">*</span><span class="default">$sign</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$step</span><span class="keyword">*</span><span class="default">$sign</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[] = </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$arr</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45913""></a>
  <div class="note">
   <strong class="user">j dot gizmo at aon dot at</strong>
   <a href="#45913" class="date">23-Sep-2004 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i figured i'd add some more functionality to the myRange() functions below.<br />
now you can, besides giving a $step parameter,<br />
1. count backwards<br />
2. count with letters<br />
3. give whatever parameter you want, there's nothing (i know of) that will cause an endless loop (try a negative $step for the previous function....)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">myRange</span><span class="keyword">(</span><span class="default">$num1</span><span class="keyword">, </span><span class="default">$num2</span><span class="keyword">, </span><span class="default">$step</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num1</span><span class="keyword">) &amp;&amp; </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num2</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//we have a numeric range<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$step </span><span class="keyword">= ( </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">)&gt;</span><span class="default">0 </span><span class="keyword">? </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">) : </span><span class="default">1 </span><span class="keyword">); </span><span class="comment">//make $step positive<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dir </span><span class="keyword">= (</span><span class="default">$num1</span><span class="keyword">&lt;=</span><span class="default">$num2 </span><span class="keyword">? </span><span class="default">1 </span><span class="keyword">: -</span><span class="default">1</span><span class="keyword">); </span><span class="comment">//get the direction<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= (float)</span><span class="default">$num1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$dir </span><span class="keyword">&lt;= </span><span class="default">$num2</span><span class="keyword">*</span><span class="default">$dir</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$step</span><span class="keyword">*</span><span class="default">$dir</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//we have a character range<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$num1</span><span class="keyword">=</span><span class="default">ord</span><span class="keyword">((string)</span><span class="default">$num1</span><span class="keyword">); </span><span class="comment">//convert to ascii value<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$num2</span><span class="keyword">=</span><span class="default">ord</span><span class="keyword">((string)</span><span class="default">$num2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$step </span><span class="keyword">= ( </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">)&gt;</span><span class="default">0 </span><span class="keyword">? </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">) : </span><span class="default">1 </span><span class="keyword">); </span><span class="comment">//make $step positive<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dir </span><span class="keyword">= (</span><span class="default">$num1</span><span class="keyword">&lt;=</span><span class="default">$num2 </span><span class="keyword">? </span><span class="default">1 </span><span class="keyword">: -</span><span class="default">1</span><span class="keyword">); </span><span class="comment">//get direction<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$num1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$dir </span><span class="keyword">&lt;= </span><span class="default">$num2</span><span class="keyword">*</span><span class="default">$dir</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$step</span><span class="keyword">*</span><span class="default">$dir</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[] = </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$temp</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">myRange</span><span class="keyword">( </span><span class="default">1</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">0.5 </span><span class="keyword">)); </span><span class="comment">//you can use fractional steps<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">myRange</span><span class="keyword">( </span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"k"</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">)); </span><span class="comment">//or count letters<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">myRange</span><span class="keyword">( </span><span class="string">"5"</span><span class="keyword">, </span><span class="string">"9" </span><span class="keyword">)); </span><span class="comment">//numbers are detected even if hidden in strtings<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">myRange</span><span class="keyword">( </span><span class="string">"!"</span><span class="keyword">, </span><span class="string">"%"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">/</span><span class="default">pi</span><span class="keyword">() )); </span><span class="comment">//or mess around with senseless parameters<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
