<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Free statement memory</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.mssql-free-result.html">? mssql_free_result</a></li>
      <li style="float: right;"><a href="function.mssql-get-last-message.html">mssql_get_last_message ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.mssql.html">Mssql 函数</a></li>
    <li>Free statement memory</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.mssql-free-statement" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mssql_free_statement</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.2, PHP 5, PECL odbtp &gt;= 1.1.1)</p><p class="refpurpose"><span class="refname">mssql_free_statement</span> &mdash; <span class="dc-title">Free statement memory</span></p>

 </div>

 <div id="function.mssql-free-statement-refsynopsisdiv">
  <div class="warning"><strong class="warning">Warning</strong>
   
<p class="para">
 This function was <em class="emphasis">REMOVED</em> in PHP 7.0.0.
</p>
<p class="para">
 Alternatives to this function include:
</p>

   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.sqlsrv-free-stmt.html" class="function">sqlsrv_free_stmt()</a></span></li>
   </ul>
  </div>
 </div>

 <div class="refsect1 description" id="refsect1-function.mssql-free-statement-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>mssql_free_statement</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$stmt</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>mssql_free_statement()</strong></span> only needs to be called
   if you are worried about using too much memory while your script
   is running. All statement memory will automatically be freed when
   the script ends. You may call <span class="function"><strong>mssql_free_statement()</strong></span>
   with the statement identifier as an argument and the associated
   statement memory will be freed.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mssql-free-statement-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">stmt</code></dt>

     <dd>

      <p class="para">
       Statement resource, obtained with <span class="function"><a href="function.mssql-init.html" class="function">mssql_init()</a></span>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mssql-free-statement-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mssql-free-statement-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-1697">
    <p><strong>Example #1 <span class="function"><strong>mssql_free_statement()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Create&nbsp;a&nbsp;new&nbsp;statement<br /></span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mssql_init</span><span style="color: #007700">(</span><span style="color: #DD0000">'test'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Bind&nbsp;values&nbsp;here&nbsp;and&nbsp;execute&nbsp;the&nbsp;statement<br /><br />//&nbsp;once&nbsp;we're&nbsp;done,&nbsp;we&nbsp;clear&nbsp;it&nbsp;from&nbsp;the&nbsp;memory<br />//&nbsp;using&nbsp;mssql_free_statement&nbsp;like&nbsp;so:<br /></span><span style="color: #0000BB">mssql_free_statement</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mssql-free-statement-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mssql-bind.html" class="function" rel="rdfs-seeAlso">mssql_bind()</a> - Adds a parameter to a stored procedure or a remote stored procedure</span></li>
    <li class="member"><span class="function"><a href="function.mssql-execute.html" class="function" rel="rdfs-seeAlso">mssql_execute()</a> - Executes a stored procedure on a MS SQL server database</span></li>
    <li class="member"><span class="function"><a href="function.mssql-init.html" class="function" rel="rdfs-seeAlso">mssql_init()</a> - Initializes a stored procedure or a remote stored procedure</span></li>
    <li class="member"><span class="function"><a href="function.mssql-free-result.html" class="function" rel="rdfs-seeAlso">mssql_free_result()</a> - Free result memory</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="51213""></a>
  <div class="note">
   <strong class="user">mitch at 1800radiator dot kom</strong>
   <a href="#51213" class="date">23-Mar-2005 07:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Maybe it's unique to my FreeTDS configuration, but if I don't call mssql_free_statement() after every stored procedure (i.e. mssql_init, mssql_bind, mssql_execute, mssql_fetch_array), all subsequent stored procedures on the same database connection will fail.<br />
<br />
I only mention it because this man-page deprecates the use of mssql_free_statement(), saying it's only there for run-time memory concerns.&nbsp; At least in my case, it's also a crucial step in the process of running a stored procedure.&nbsp; If anyone else has problems running multiple stored procedures on the same connection, I hope this helps them out.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
