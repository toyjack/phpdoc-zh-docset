<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>画椭圆弧</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.imageantialias.html">? imageantialias</a></li>
      <li style="float: right;"><a href="function.imagechar.html">imagechar ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.image.html">GD 和图像处理 函数</a></li>
    <li>画椭圆弧</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.imagearc" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagearc</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">imagearc</span> &mdash; <span class="dc-title">画椭圆弧</span></p>

 </div>
 <div class="refsect1 unknown-seealsp" id="refsect1-function.imagearc-unknown-seealsp">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>imagearc</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$image</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$cx</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$cy</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$w</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$h</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$s</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$e</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$color</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>imagearc()</strong></span> 以
   <code class="parameter">cx</code>，<code class="parameter">cy</code>（图像左上角为 0, 0）为中心在
   <code class="parameter">image</code> 所代表的图像中画一个椭圆弧。<code class="parameter">w</code>
   和 <code class="parameter">h</code> 分别指定了椭圆的宽度和高度，起始和结束点以
   <code class="parameter">s</code> 和 <code class="parameter">e</code>
   参数以角度指定。0°位于三点钟位置，以顺时针方向绘画。
  </p>
  <div class="example" id="example-3384">
   <p><strong>Example #1 用 <span class="function"><strong>imagearc()</strong></span> 画一个圆</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;创建一个&nbsp;200X200&nbsp;的图像<br /></span><span style="color: #0000BB">$img&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;分配颜色<br /></span><span style="color: #0000BB">$white&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$black&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;画一个黑色的圆<br /></span><span style="color: #0000BB">imagearc</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">150</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">150</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">360</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$black</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;将图像输出到浏览器<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-type:&nbsp;image/png"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;释放内存<br /></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   参见 <span class="function"><a href="function.imageellipse.html" class="function">imageellipse()</a></span>，<span class="function"><a href="function.imagefilledellipse.html" class="function">imagefilledellipse()</a></span>
   和 <span class="function"><a href="function.imagefilledarc.html" class="function">imagefilledarc()</a></span>。
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="112636""></a>
  <div class="note">
   <strong class="user">lucas dot delmas at live dot fr</strong>
   <a href="#112636" class="date">08-Jul-2013 04:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The imagearc function has a precision of one degree. The function truncates the $start and $end values to the inferior degree.<br />
<br />
For example if the starting angle you calculated is : -178.62450462172°<br />
and the ending angle is : -152.78056427917°<br />
imagearc will draw a curve from -178° to -152°.<br />
<br />
If you need accurate curves drawing, you need to use a loop to draw little step-by-step lines. By creating a large number of short enough lines, you will create the impression of a curve with accuracy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110224""></a>
  <div class="note">
   <strong class="user">joe dot tym at gmail dot com</strong>
   <a href="#110224" class="date">03-Oct-2012 02:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I didn't have much luck with the other two functions, one of them makes circles that look like they've been printed on a dot-matrix printer. This simple function builds a border out of circles, seems to work nicely.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">imagearcunfilled</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$width</span><span class="keyword">,</span><span class="default">$height</span><span class="keyword">,</span><span class="default">$border_thickness</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">) {
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x_radius </span><span class="keyword">= </span><span class="default">$width </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y_radius </span><span class="keyword">= </span><span class="default">$height </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">360</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">TRUE</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x2 </span><span class="keyword">= </span><span class="default">$x </span><span class="keyword">+ </span><span class="default">cos</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) * </span><span class="default">$x_radius</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y2 </span><span class="keyword">= </span><span class="default">$y </span><span class="keyword">+ </span><span class="default">sin</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) * </span><span class="default">$y_radius</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagefilledarc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">,</span><span class="default">$border_thickness</span><span class="keyword">,</span><span class="default">$border_thickness</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">,</span><span class="default">IMG_ARC_PIE</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107109""></a>
  <div class="note">
   <strong class="user">chandlerklebs at gmail dot com</strong>
   <a href="#107109" class="date">08-Jan-2012 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is an example script I wrote for myself to help me learn how to used the imagearc functions. Maybe if will also help others.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//example PHP script of imagearc functions<br />
</span><span class="default">$image_width</span><span class="keyword">=</span><span class="default">360</span><span class="keyword">;</span><span class="default">$image_height</span><span class="keyword">=</span><span class="default">360</span><span class="keyword">;<br />
</span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$image_width</span><span class="keyword">,</span><span class="default">$image_height</span><span class="keyword">); </span><span class="comment">//make image variable<br />
<br />
//create a background color by making a filled rectangle<br />
</span><span class="default">$color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br />
</span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$image_width</span><span class="keyword">,</span><span class="default">$image_height</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />
<br />
</span><span class="default">$r</span><span class="keyword">=</span><span class="default">$image_width</span><span class="keyword">/</span><span class="default">2 </span><span class="keyword">- </span><span class="default">$image_width</span><span class="keyword">/</span><span class="default">32 </span><span class="keyword">; </span><span class="comment">//radius<br />
</span><span class="default">$cx</span><span class="keyword">=</span><span class="default">$image_width</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;<br />
</span><span class="default">$cy</span><span class="keyword">=</span><span class="default">$image_height</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;<br />
<br />
</span><span class="default">$color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">,&nbsp; </span><span class="default">0</span><span class="keyword">, </span><span class="default">360</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">); </span><span class="comment">//regular outlines arc<br />
<br />
</span><span class="default">imagefilledarc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">1</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">1</span><span class="keyword">,&nbsp; </span><span class="default">0</span><span class="keyword">, </span><span class="default">90</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">,</span><span class="default">IMG_ARC_CHORD</span><span class="keyword">); </span><span class="comment">//filled triangle with chord of circle<br />
</span><span class="default">imagefilledarc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">1</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">1</span><span class="keyword">,&nbsp; </span><span class="default">180</span><span class="keyword">, </span><span class="default">270</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">,</span><span class="default">IMG_ARC_PIE</span><span class="keyword">); </span><span class="comment">//pie slice<br />
<br />
</span><span class="default">$font_number</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">; </span><span class="comment">//can use built in fonts numbered 1 to 5<br />
</span><span class="default">$string</span><span class="keyword">=</span><span class="string">"Hello world!"</span><span class="keyword">;<br />
</span><span class="default">imagestring</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$font_number</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-(</span><span class="default">imagefontwidth</span><span class="keyword">(</span><span class="default">$font_number</span><span class="keyword">)*</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">))/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">-</span><span class="default">120</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />
<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);</span><span class="comment">// output image in the browser<br />
<br />
</span><span class="default">$filename</span><span class="keyword">=</span><span class="string">"imagearc"</span><span class="keyword">;<br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="string">"./frames/</span><span class="default">$filename</span><span class="string">.png"</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">); </span><span class="comment">//make highly compressed png<br />
<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102762""></a>
  <div class="note">
   <strong class="user">Michael</strong>
   <a href="#102762" class="date">04-Mar-2011 11:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi, this is a function that replaces "imagearc" to solve the thickness-problem. it does not use the global value set by imagesetthickness, so you have to pass it along. 
<br />

<br />
"connecting" the arc to lines is still a problem, it sometimes shifts by 1px, but so does the original function.
<br />

<br />
Theres still alot to improve ...
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">myimagearc</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$mid_x</span><span class="keyword">,</span><span class="default">$mid_y</span><span class="keyword">,</span><span class="default">$rad</span><span class="keyword">,</span><span class="default">$w1</span><span class="keyword">,</span><span class="default">$w2</span><span class="keyword">,</span><span class="default">$col</span><span class="keyword">,</span><span class="default">$thickness</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; global </span><span class="default">$cols</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rad</span><span class="keyword">+=</span><span class="default">$thickness</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// to calculate outer edge
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$th_fact </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">-(((</span><span class="default">$thickness</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">)/</span><span class="default">$rad</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pts </span><span class="keyword">= </span><span class="default">36</span><span class="keyword">*</span><span class="default">$rad</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// adjust density
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fact </span><span class="keyword">= </span><span class="default">$pts</span><span class="keyword">/</span><span class="default">360</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$w1 </span><span class="keyword">= </span><span class="default">$w1</span><span class="keyword">*</span><span class="default">$fact</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$w2 </span><span class="keyword">= </span><span class="default">$w2</span><span class="keyword">*</span><span class="default">$fact</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$thickness </span><span class="keyword">&gt; </span><span class="default">2</span><span class="keyword">)&nbsp; &nbsp; </span><span class="comment">// to make sure we have neither gaps nor ugly looking artefacts
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$winkel </span><span class="keyword">= (</span><span class="default">2</span><span class="keyword">*</span><span class="default">pi</span><span class="keyword">())/</span><span class="default">$pts</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$w1</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt; </span><span class="default">$w2</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= (</span><span class="default">cos</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">*</span><span class="default">$winkel</span><span class="keyword">)*(</span><span class="default">$rad</span><span class="keyword">));
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= (</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">*</span><span class="default">$winkel</span><span class="keyword">)*(</span><span class="default">$rad</span><span class="keyword">));
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x1 </span><span class="keyword">= </span><span class="default">$x</span><span class="keyword">+</span><span class="default">$mid_x</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y1 </span><span class="keyword">= </span><span class="default">$y</span><span class="keyword">+</span><span class="default">$mid_y</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x2 </span><span class="keyword">= </span><span class="default">$th_fact</span><span class="keyword">*</span><span class="default">$x</span><span class="keyword">+</span><span class="default">$mid_x</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y2 </span><span class="keyword">= </span><span class="default">$th_fact</span><span class="keyword">*</span><span class="default">$y</span><span class="keyword">+</span><span class="default">$mid_y</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">,</span><span class="default">$y1</span><span class="keyword">,</span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">,</span><span class="default">$col</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">); </span><span class="comment">// just to reset
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95928""></a>
  <div class="note">
   <strong class="user">ajim1417 at gmail dot com</strong>
   <a href="#95928" class="date">29-Jan-2010 04:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote a simple function that can draws an arc counter-clockwisekly. Here it is :<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">imagearcCC</span><span class="keyword">(&amp;</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">) {<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">360 </span><span class="keyword">- </span><span class="default">$e</span><span class="keyword">;<br />
</span><span class="default">$end </span><span class="keyword">= </span><span class="default">360 </span><span class="keyword">- </span><span class="default">$s</span><span class="keyword">;<br />
return </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The params of this function is exactly the same as the usual imagearc function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95097""></a>
  <div class="note">
   <strong class="user">anton dot vandeghinste at telenet dot be</strong>
   <a href="#95097" class="date">13-Dec-2009 04:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed an arc with a thick border and i didn't like to use 359.9 as end angle so i made a function that works pretty well:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">imagearcthick</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">, </span><span class="default">$thick </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$thick </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;(</span><span class="default">$thick</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">-(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">), </span><span class="default">$h</span><span class="keyword">-(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">),</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$e</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">+(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">), </span><span class="default">$h</span><span class="keyword">+(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">), </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59697""></a>
  <div class="note">
   <strong class="user">mojiro at awmn dot net</strong>
   <a href="#59697" class="date">13-Dec-2005 09:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A previous for the Rotated (Filled)Ellipse note from(nojer2 at yahoo dot com, 02-Apr-2001 12:06) has a mistake, at the second arc. Replace them with the following listing.<br />
<br />
if ($filled) {<br />
&nbsp;&nbsp;&nbsp; triangle($im, $cx, $cy, $cx+$px, $cy+$py, $cx+$x, $cy+$y, $colour);<br />
&nbsp;&nbsp;&nbsp; triangle($im, $cx, $cy, $cx-$px, $cy-$py, $cx-$x, $cy-$y, $colour);<br />
} else {<br />
&nbsp;&nbsp;&nbsp; imageline($im, $cx+$px, $cy+$py, $cx+$x, $cy+$y, $colour);<br />
&nbsp;&nbsp;&nbsp; imageline($im, $cx-$px, $cy-$py, $cx-$x, $cy-$y, $colour);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42451""></a>
  <div class="note">
   <strong class="user">ruturaj_v at yahoo dot com</strong>
   <a href="#42451" class="date">17-May-2004 03:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this is another piechart eg. very simple ...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">global </span><span class="default">$deg</span><span class="keyword">;<br />
<br />
function </span><span class="default">get_polar</span><span class="keyword">(</span><span class="default">$xrel</span><span class="keyword">, </span><span class="default">$yrel</span><span class="keyword">, </span><span class="default">$ang</span><span class="keyword">, </span><span class="default">$radius</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$ang</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ang </span><span class="keyword">= (</span><span class="default">$ang </span><span class="keyword">* </span><span class="default">pi</span><span class="keyword">())/ </span><span class="default">180</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$radius</span><span class="keyword">*</span><span class="default">cos</span><span class="keyword">(</span><span class="default">$ang</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$radius</span><span class="keyword">*</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$ang</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;=</span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">90</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">$xrel </span><span class="keyword">+ </span><span class="default">$ix</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">$yrel </span><span class="keyword">- </span><span class="default">$iy</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">90 </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">180</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">$xrel </span><span class="keyword">- </span><span class="default">$ix</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">$yrel </span><span class="keyword">- </span><span class="default">$iy</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">180 </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">270</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">$xrel </span><span class="keyword">- </span><span class="default">$ix</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">$yrel </span><span class="keyword">+ </span><span class="default">$iy</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">270 </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">360</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">$xrel </span><span class="keyword">+ </span><span class="default">$ix</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">$yrel </span><span class="keyword">+ </span><span class="default">$iy</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$ix</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$iy</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//echo ($ix . " $iy&lt;br&gt;");<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$returnvals </span><span class="keyword">= array (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'x1' </span><span class="keyword">=&gt; </span><span class="default">$xrel</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'y1' </span><span class="keyword">=&gt; </span><span class="default">$yrel</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'x2' </span><span class="keyword">=&gt; </span><span class="default">$ix</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'y2' </span><span class="keyword">=&gt; </span><span class="default">$iy<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$returnvals</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">get_degtotal</span><span class="keyword">(</span><span class="default">$degindex</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; global </span><span class="default">$deg</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$degindex </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; return (&nbsp; </span><span class="default">$deg</span><span class="keyword">[</span><span class="default">$degindex</span><span class="keyword">] );<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else {&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ( </span><span class="default">$deg</span><span class="keyword">[</span><span class="default">$degindex</span><span class="keyword">] + </span><span class="default">get_degtotal</span><span class="keyword">(</span><span class="default">$degindex</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
}<br />
<br />
</span><span class="default">$im&nbsp; </span><span class="keyword">= </span><span class="default">imagecreate </span><span class="keyword">(</span><span class="default">400</span><span class="keyword">, </span><span class="default">400</span><span class="keyword">); <br />
</span><span class="default">$w&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">); <br />
</span><span class="default">$black&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); <br />
</span><span class="default">$red </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); <br />
</span><span class="default">$green </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">180</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); <br />
<br />
</span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">243</span><span class="keyword">, </span><span class="default">54</span><span class="keyword">, </span><span class="default">163</span><span class="keyword">);<br />
</span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">179</span><span class="keyword">, </span><span class="default">51</span><span class="keyword">, </span><span class="default">247</span><span class="keyword">);<br />
</span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">103</span><span class="keyword">, </span><span class="default">48</span><span class="keyword">, </span><span class="default">250</span><span class="keyword">);<br />
</span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">53</span><span class="keyword">, </span><span class="default">145</span><span class="keyword">, </span><span class="default">244</span><span class="keyword">);<br />
</span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">54</span><span class="keyword">, </span><span class="default">243</span><span class="keyword">, </span><span class="default">243</span><span class="keyword">);<br />
</span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">107</span><span class="keyword">, </span><span class="default">245</span><span class="keyword">, </span><span class="default">180</span><span class="keyword">);<br />
</span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">203</span><span class="keyword">, </span><span class="default">242</span><span class="keyword">, </span><span class="default">111</span><span class="keyword">);<br />
</span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">248</span><span class="keyword">, </span><span class="default">201</span><span class="keyword">, </span><span class="default">105</span><span class="keyword">);<br />
<br />
</span><span class="default">$data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">30</span><span class="keyword">;<br />
</span><span class="default">$data</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">20</span><span class="keyword">;<br />
</span><span class="default">$data</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">15</span><span class="keyword">;<br />
</span><span class="default">$data</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="default">10</span><span class="keyword">;<br />
</span><span class="default">$data</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="default">8</span><span class="keyword">;<br />
</span><span class="default">$data</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] = </span><span class="default">7</span><span class="keyword">;<br />
</span><span class="default">$data</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">$data</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] = </span><span class="default">5</span><span class="keyword">;<br />
<br />
</span><span class="default">$datasum </span><span class="keyword">= </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
<br />
</span><span class="default">$deg</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">30 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
</span><span class="default">$deg</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">20 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
</span><span class="default">$deg</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">15 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
</span><span class="default">$deg</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">10 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
</span><span class="default">$deg</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">8 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
</span><span class="default">$deg</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">7 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
</span><span class="default">$deg</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">5 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
</span><span class="default">$deg</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">5 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
echo (</span><span class="string">'&lt;pre&gt;'</span><span class="keyword">);<br />
<br />
</span><span class="comment">//print_r($deg);<br />
<br />
</span><span class="default">$datadeg </span><span class="keyword">= array();<br />
</span><span class="default">$datapol </span><span class="keyword">= array();<br />
</span><span class="default">$degbetween </span><span class="keyword">= array();<br />
</span><span class="default">$databetweenpol </span><span class="keyword">= array();<br />
<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$deg</span><span class="keyword">) ; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$datadeg</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">get_degtotal</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$datapol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">get_polar</span><span class="keyword">(</span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">$datadeg</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">100</span><span class="keyword">);<br />
}<br />
<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$datadeg</span><span class="keyword">) ; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*this is a trick where you take 2deg angle before<br />
&nbsp;&nbsp;&nbsp; and get the smaller radius so that you can have a pt to<br />
&nbsp;&nbsp;&nbsp; `imagefill` the chartboundary<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$degbetween</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = (</span><span class="default">$datadeg</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]-</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$databetweenpol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">get_polar</span><span class="keyword">(</span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">$degbetween</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">50</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$datadeg</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$degbetween</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$databetweenpol</span><span class="keyword">);<br />
</span><span class="comment">//exit;<br />
<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$deg</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imageline </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">$datapol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'x2'</span><span class="keyword">], </span><span class="default">$datapol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'y2'</span><span class="keyword">], </span><span class="default">$black</span><span class="keyword">);<br />
}<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">360</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">); <br />
<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$deg</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imagefill </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$databetweenpol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'x2'</span><span class="keyword">], </span><span class="default">$databetweenpol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'y2'</span><span class="keyword">], </span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
<br />
}<br />
<br />
</span><span class="comment">//header ("Content-type: image/png"); <br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="string">'piechart.png'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>&lt;img src='piechart.png'&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38538""></a>
  <div class="note">
   <strong class="user">jerryscript at aol dot com</strong>
   <a href="#38538" class="date">26-Dec-2003 11:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[note-Apache/1.3.29 (Win32) PHP/4.3.4]<br />
<br />
The imagearc (and imageellipse) functions do not accept line thicknesses when drawn from 0 to 360 degrees.<br />
<br />
Drawing from 0 to 359 and again from 359 to 360 does create an ellipse with the current line thickness.<br />
<br />
Jerry</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38339""></a>
  <div class="note">
   <strong class="user">eamon at hostelworld dot com</strong>
   <a href="#38339" class="date">17-Dec-2003 04:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Right...<br />
possibly the easiest way of drawing a filled circle:<br />
Loop through the imagearc function incrementing the diameter by one pixel:<br />
&lt;?<br />
&nbsp;// --- code fragment --- //<br />
<br />
for($i=1; $i&lt;$Diameter; $i++){<br />
&nbsp; imagearc($Image, $CenterX, $CenterY, $i, $i, $Start, $End, $Color);<br />
}<br />
<br />
// --------------------- //<br />
<br />
?&gt;<br />
<br />
This works great for circles with diameters up to about 60 or 70 pixels wide. After that, you start to get pixle gaps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34712""></a>
  <div class="note">
   <strong class="user">logang at deltatee dot com</strong>
   <a href="#34712" class="date">05-Aug-2003 05:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Heres a function to make a curve between two points... This will be a downward curve but it wouldn't be hard to make a similar function to make an upward curve. The first point has to be to the left of the second point ($x1 &lt; $x2), and height is actually backwards. The larger height is the less of a crest the curve has. I imagine with a few modifications this functions could make upward curves as well.<br />
<br />
function ImageCurveDown ($image, $x1, $y1, $x2, $y2, $height, $color) {<br />
&nbsp;&nbsp;&nbsp; $presicion = 1;<br />
<br />
&nbsp;&nbsp;&nbsp; for ($left = ($x1-$x2); $left &lt; 0; $left++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($y1 &lt; $y2) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $cy = $y2 + $height;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $cx = $x1 - $left;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $cy = $y1 + $height;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $cx = $x2 + $left;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nx1 = abs($x1 - $cx);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $ny1 = abs($y1 - $cy);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nx2 = abs($x2 - $cx);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $ny2 = abs($y2 - $cy);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($y1 &lt; $y2) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($nx2 == 0 || $ny1 == 0) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $angle1 = atan($height/$nx2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $A1 = $nx2/cos ($angle1);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $B1 = $ny2/sin ($angle1);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $angle2 = pi()/2 +atan($left/$ny1);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $A2 = $nx1/cos ($angle2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $B2 = $ny1/sin ($angle2);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($ny2 == 0 || $nx1 == 0) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $angle1 = atan($ny2/$nx2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $A1 = abs($nx2/cos ($angle1));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $B1 = abs($ny2/sin ($angle1));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $angle2 = atan($height/$nx1);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $A2 = abs ($nx1/cos ($angle2));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $B2 = abs($ny1/sin ($angle2));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (abs($A1 - $A2) &lt; $presicion &amp;&amp; abs ($B1 - $B2) &lt; $presicion) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ImageArc($image, $cx, $cy, $A1*2, $B1*2, 180+rad2deg($angle2), 360-rad2deg($angle1), $color);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28773""></a>
  <div class="note">
   
   <a href="#28773" class="date">23-Jan-2003 05:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that in order to draw a complete circle or ellipse (without using the imageellipse) you mustn't use 0? for both s and e. If you do this you will get, umm, nothing. Instead set s to 0? and e to 360? to get a complete circle or ellipse.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21460""></a>
  <div class="note">
   <strong class="user">jinny at 263 dot net</strong>
   <a href="#21460" class="date">14-May-2002 07:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
imagesetstyle() sets the style to be used by all line drawing functions when drawing with the special color .<br />
<br />
Here goes a example of drawing a dashed-line circle.enjoy!<br />
<br />
<span class="default">&lt;?php<br />
<br />
header</span><span class="keyword">(</span><span class="string">"Content-type: image/jpeg"</span><span class="keyword">);<br />
</span><span class="default">$im </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">100</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">);<br />
<br />
</span><span class="default">$b&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$w&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br />
<br />
</span><span class="default">$style </span><span class="keyword">= array (</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">);<br />
<br />
</span><span class="default">imagesetstyle </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$style</span><span class="keyword">);<br />
<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">IMG_COLOR_STYLED</span><span class="keyword">);<br />
<br />
</span><span class="default">imagejpeg</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="17231""></a>
  <div class="note">
   <strong class="user">arve at skogvold dot as</strong>
   <a href="#17231" class="date">30-Nov-2001 10:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found a better way for drawing a pie chart:
<br />

<br />
header ("Content-type: image/png");
<br />
$diameter = 100;
<br />
$radius = $diameter / 2;
<br />
$centerX = $radius;
<br />
$centerY = $radius;
<br />

<br />
$im = @ImageCreate ($diameter, $diameter)
<br />
&nbsp;&nbsp;&nbsp; or die ("Cannot Initialize new GD image stream");
<br />

<br />
$background = ImageColorAllocate ($im, 0, 0, 0);
<br />
$red = ImageColorAllocate ($im, 176, 0, 0);
<br />

<br />
function fill_arc($start, $end, $color) {
<br />
&nbsp;&nbsp;&nbsp; global $diameter, $centerX, $centerY, $im, $radius;
<br />
&nbsp;&nbsp;&nbsp; imagearc($im, $centerX, $centerY, $diameter, $diameter, $start, $end, $color); 
<br />
&nbsp;&nbsp;&nbsp; imageline($im, $centerX, $centerY, $centerX + cos(deg2rad($start)) * $radius, $centerY + sin(deg2rad($start)) * $radius, $color);
<br />
&nbsp;&nbsp;&nbsp; imageline($im, $centerX, $centerY, $centerX + cos(deg2rad($end)) * $radius, $centerY + sin(deg2rad($end)) * $radius, $color);
<br />
&nbsp;&nbsp;&nbsp; imagefill ($im,$centerX + $radius * 0.5 *cos(deg2rad($start+($end-$start)/2)), $centerY + $radius * 0.5 * sin(deg2rad($start+($end-$start)/2)), $color);
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />

<br />
fill_arc(0,30,$red);
<br />
// Will make a red filled arc, starting at 0 degrees, ending at 30 degrees
<br />

<br />
ImagePng ($im);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="16678""></a>
  <div class="note">
   <strong class="user">marc at resiteit dot com</strong>
   <a href="#16678" class="date">08-Nov-2001 10:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Round cornered anti-aliased dynamically sized button.
<br />

<br />
$w=40;
<br />
$h=20;
<br />
$im = ImageCreate($w,$h);
<br />
$white=ImageColorAllocate($im,255,255,255);
<br />
ImageFilledRectangle($im,0,0,$w,$h,$white);
<br />
imagecolortransparent ($im, $white);
<br />
ImageTTFText ($im, $h+ceil($h/3)+1, 0, -1, $h-1, $col1, "arialbd.ttf", "O");
<br />
ImageTTFText ($im, $h+ceil($h/3)+1, 0, $w-$h, $h-1, $col1, "arialbd.ttf", "O");
<br />
ImageTTFText ($im, $h+ceil($h/3)+1, 0, 1, $h-1, $col1, "arialbd.ttf", "O");
<br />
ImageTTFText ($im, $h+ceil($h/3)+1, 0, $w-$h-2, $h-1, $col1, "arialbd.ttf", "O");
<br />
$points=array(
<br />
&nbsp;&nbsp;&nbsp; 1,round($h/2), 
<br />
&nbsp;&nbsp;&nbsp; round($h/4),$h-round($h/4), 
<br />
&nbsp;&nbsp;&nbsp; round($h/2),$h, 
<br />
&nbsp;&nbsp;&nbsp; $w-(round($h/2)),$h, 
<br />
&nbsp;&nbsp;&nbsp; $w-(round($h/4)),$h-round($h/4), 
<br />
&nbsp;&nbsp;&nbsp; $w-2,round($h/2), 
<br />
&nbsp;&nbsp;&nbsp; $w-round($h/4),round($h/4), 
<br />
&nbsp;&nbsp;&nbsp; $w-round($h/2),0, 
<br />
&nbsp;&nbsp;&nbsp; round($h/2),0, 
<br />
&nbsp;&nbsp;&nbsp; round($h/4),round($h/4)
<br />
);
<br />
imagefilledpolygon ($im, $points, 10, $col1);
<br />

<br />
header("content-type: image/gif");
<br />
header("Content-Disposition: filename=name.gif");
<br />
ImageGif($im);
<br />
ImageDestroy($im);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15229""></a>
  <div class="note">
   <strong class="user">foripepe at yahoo dot com</strong>
   <a href="#15229" class="date">02-Sep-2001 06:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To fill an arc (DiameterX != DiameterY):
<br />

<br />
&lt;?
<br />
function imagefilledarc($Image, $CenterX, $CenterY, $DiameterX, $DiameterY, $Start, $End, $Color) {
<br />
&nbsp;&nbsp;&nbsp; // To draw the arc
<br />
&nbsp;&nbsp;&nbsp; imagearc($Image, $CenterX, $CenterY, $DiameterX, $DiameterY, $Start, $End, $Color);
<br />
&nbsp;&nbsp;&nbsp; // To close the arc with 2 lines between the center and the 2 limits of the arc
<br />
&nbsp;&nbsp;&nbsp; $x = $CenterX + (cos(deg2rad($Start))*($DiameterX/2));
<br />
&nbsp;&nbsp;&nbsp; $y = $CenterY + (sin(deg2rad($Start))*($DiameterY/2));
<br />
&nbsp;&nbsp;&nbsp; imageline($Image, $x, $y, $CenterX, $CenterY, $Color);
<br />
&nbsp;&nbsp;&nbsp; $x = $CenterX + (cos(deg2rad($End))*($DiameterX/2));
<br />
&nbsp;&nbsp;&nbsp; $y = $CenterY + (sin(deg2rad($End))*($DiameterY/2));
<br />
&nbsp;&nbsp;&nbsp; imageline($Image, $x, $y, $CenterX, $CenterY, $Color);
<br />
&nbsp;&nbsp;&nbsp; // To fill the arc, the starting point is a point in the middle of the closed space
<br />
&nbsp;&nbsp;&nbsp; $x = $CenterX + (cos(deg2rad(($Start+$End)/2))*($DiameterX/4));
<br />
&nbsp;&nbsp;&nbsp; $y = $CenterY + (sin(deg2rad(($Start+$End)/2))*($DiameterY/4));
<br />
&nbsp;&nbsp;&nbsp; imagefilltoborder($Image, $x, $y, $Color, $Color);
<br />
}
<br />
?&gt;
<br />

<br />
To close the arc with 2 lines (DiameterX != DiameterY):
<br />

<br />
&lt;?
<br />
function imagenofilledarc($Image, $CenterX, $CenterY, $DiameterX, $DiameterY, $Start, $End, $Color) {
<br />
&nbsp;&nbsp;&nbsp; // To draw the arc
<br />
&nbsp;&nbsp;&nbsp; imagearc($Image, $CenterX, $CenterY, $DiameterX, $DiameterY, $Start, $End, $Color);
<br />
&nbsp;&nbsp;&nbsp; // To close the arc with 2 lines between the center and the 2 limits of the arc
<br />
&nbsp;&nbsp;&nbsp; $x = $CenterX + (cos(deg2rad($Start))*($DiameterX/2));
<br />
&nbsp;&nbsp;&nbsp; $y = $CenterY + (sin(deg2rad($Start))*($DiameterY/2));
<br />
&nbsp;&nbsp;&nbsp; imageline($Image, $x, $y, $CenterX, $CenterY, $Color);
<br />
&nbsp;&nbsp;&nbsp; $x = $CenterX + (cos(deg2rad($End))*($DiameterX/2));
<br />
&nbsp;&nbsp;&nbsp; $y = $CenterY + (sin(deg2rad($End))*($DiameterY/2));
<br />
&nbsp;&nbsp;&nbsp; imageline($Image, $x, $y, $CenterX, $CenterY, $Color);
<br />
}
<br />
?&gt;
<br />

<br />
An example:
<br />
&lt;?
<br />
&nbsp;&nbsp;&nbsp; $destImage = imagecreate( 216, 152 );
<br />
&nbsp;&nbsp;&nbsp; $c0 = imagecolorallocate( $destImage, 0, 255, 255 );
<br />
&nbsp;&nbsp;&nbsp; $c1 = imagecolorallocate( $destImage, 0, 0, 0 );
<br />
&nbsp;&nbsp;&nbsp; $c2 = imagecolorallocate( $destImage, 255, 0, 0 );
<br />
&nbsp;&nbsp;&nbsp; ImageFilledRectangle ( $destImage, 0, 0, 216, 152, $c0 );
<br />
&nbsp;&nbsp;&nbsp; imagefilledarc( $destImage, 108, 76, 180, 80, 0, 130, $c1 );
<br />
&nbsp;&nbsp;&nbsp; imagenofilledarc( $destImage, 108, 76, 180, 80, 0, 130, $c2 );
<br />
&nbsp;&nbsp;&nbsp; header("content-type: image/PNG");
<br />
&nbsp;&nbsp;&nbsp; ImagePNG( $destImage );
<br />
&nbsp;&nbsp;&nbsp; ImageDestroy( $destImage );
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12372""></a>
  <div class="note">
   
   <a href="#12372" class="date">09-Apr-2001 07:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following site contains heaps of different functions to draw graphs with easy to follow code for newbies and heaps of examples with OVER 60 different predefined graphs 
<br />
<a href="http://www.aditus.nu/jpgraph/index.php" rel="nofollow" target="_blank">http://www.aditus.nu/jpgraph/index.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12251""></a>
  <div class="note">
   <strong class="user">nojer2 at yahoo dot com</strong>
   <a href="#12251" class="date">01-Apr-2001 11:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a dashed circle function:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">dashedcircle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">, </span><span class="default">$dashsize</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">) {
<br />

<br />
&nbsp;&nbsp; </span><span class="default">$dash</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp; for (</span><span class="default">$angle</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$angle</span><span class="keyword">&lt;=(</span><span class="default">180</span><span class="keyword">+</span><span class="default">$dashsize</span><span class="keyword">); </span><span class="default">$angle</span><span class="keyword">+=</span><span class="default">$dashsize</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= (</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">)));
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= (</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">)));
<br />

<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$dash</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$dash</span><span class="keyword">=!</span><span class="default">$dash</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$px</span><span class="keyword">=</span><span class="default">$x</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$py</span><span class="keyword">=</span><span class="default">$y</span><span class="keyword">;
<br />
&nbsp;&nbsp; } 
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12250""></a>
  <div class="note">
   <strong class="user">nojer2 at yahoo dot com</strong>
   <a href="#12250" class="date">01-Apr-2001 11:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's the function to draw rotated ellipses again. This time I've optimised it a bit, fixed the no-fill bug, and used a 'squishratio' rather than a 'radiusmodifier', to make the curves perfect, so ignore my previous version.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">rotatedellipse</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$width</span><span class="keyword">, </span><span class="default">$height</span><span class="keyword">, </span><span class="default">$rotateangle</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">, </span><span class="default">$filled</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">) {
<br />
&nbsp;&nbsp; </span><span class="default">$step</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">;
<br />
&nbsp;&nbsp; </span><span class="default">$cosangle</span><span class="keyword">=</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$rotateangle</span><span class="keyword">));
<br />
&nbsp;&nbsp; </span><span class="default">$sinangle</span><span class="keyword">=</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$rotateangle</span><span class="keyword">));
<br />

<br />
&nbsp;&nbsp; </span><span class="default">$squishratio </span><span class="keyword">= </span><span class="default">$height</span><span class="keyword">/</span><span class="default">$width</span><span class="keyword">;
<br />
&nbsp;&nbsp; </span><span class="default">$nopreviouspoint </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; for (</span><span class="default">$angle</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$angle</span><span class="keyword">&lt;=(</span><span class="default">180</span><span class="keyword">+</span><span class="default">$step</span><span class="keyword">); </span><span class="default">$angle</span><span class="keyword">+=</span><span class="default">$step</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ox </span><span class="keyword">= (</span><span class="default">$width </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">)));
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$oy </span><span class="keyword">= (</span><span class="default">$width </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">))) * </span><span class="default">$squishratio</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">=&nbsp; + ((</span><span class="default">$ox </span><span class="keyword">* </span><span class="default">$cosangle</span><span class="keyword">) - (</span><span class="default">$oy </span><span class="keyword">* </span><span class="default">$sinangle</span><span class="keyword">));
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$centrey </span><span class="keyword">+ ((</span><span class="default">$ox </span><span class="keyword">* </span><span class="default">$sinangle</span><span class="keyword">) + (</span><span class="default">$oy </span><span class="keyword">* </span><span class="default">$cosangle</span><span class="keyword">));
<br />
&nbsp; 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$nopreviouspoint</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$px</span><span class="keyword">=</span><span class="default">$x</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$py</span><span class="keyword">=</span><span class="default">$y</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nopreviouspoint</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$filled</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">triangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">triangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; } else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$px</span><span class="keyword">=</span><span class="default">$x</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$py</span><span class="keyword">=</span><span class="default">$y</span><span class="keyword">;
<br />
&nbsp;&nbsp; } 
<br />
}
<br />

<br />
function </span><span class="default">triangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">,</span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$x3</span><span class="keyword">,</span><span class="default">$y3</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">) {
<br />
&nbsp;&nbsp; </span><span class="default">$coords </span><span class="keyword">= array(</span><span class="default">$x1</span><span class="keyword">,</span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$x3</span><span class="keyword">,</span><span class="default">$y3</span><span class="keyword">);
<br />
&nbsp;&nbsp; </span><span class="default">imagefilledpolygon</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$coords</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="8821""></a>
  <div class="note">
   <strong class="user">ericquil at yahoo dot com</strong>
   <a href="#8821" class="date">29-Sep-2000 01:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If circles overlap, a temporary border is needed when filling:
<br />
<span class="default">&lt;?php
<br />
ImageArc </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$h</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$temp_color</span><span class="keyword">);
<br />
</span><span class="default">ImageFillToBorder</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$temp_color</span><span class="keyword">,</span><span class="default">$fill_color</span><span class="keyword">);
<br />
</span><span class="default">ImageArc </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$h</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$fill_color</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="8566""></a>
  <div class="note">
   <strong class="user">cbriou at orange-art dot fr</strong>
   <a href="#8566" class="date">18-Sep-2000 04:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is another way to fill an arc :
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// To draw the arc
<br />
</span><span class="default">$Color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$Red</span><span class="keyword">, </span><span class="default">$Green</span><span class="keyword">, </span><span class="default">$Blue</span><span class="keyword">);
<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$CenterX</span><span class="keyword">, </span><span class="default">$CenterY</span><span class="keyword">, </span><span class="default">$Diameter</span><span class="keyword">, </span><span class="default">$Diameter</span><span class="keyword">, </span><span class="default">$Start</span><span class="keyword">, </span><span class="default">$End</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);
<br />
</span><span class="comment">// To close the arc with 2 lines between the center and the 2 limits of the arc
<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="default">$CenterX </span><span class="keyword">+ (</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$Start</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">));
<br />
</span><span class="default">$y </span><span class="keyword">= </span><span class="default">$CenterY </span><span class="keyword">+ (</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$Start</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">));
<br />
</span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$CenterX</span><span class="keyword">, </span><span class="default">$CenterY</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);
<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="default">$CenterX </span><span class="keyword">+ (</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$End</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">));
<br />
</span><span class="default">$y </span><span class="keyword">= </span><span class="default">$CenterY </span><span class="keyword">+ (</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$End</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">));
<br />
</span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$CenterX</span><span class="keyword">, </span><span class="default">$CenterY</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);
<br />
</span><span class="comment">// To fill the arc, the starting point is a point in the middle of the closed space
<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="default">$CenterX </span><span class="keyword">+ (</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$Start</span><span class="keyword">+</span><span class="default">$End</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">4</span><span class="keyword">));
<br />
</span><span class="default">$y </span><span class="keyword">= </span><span class="default">$CenterY </span><span class="keyword">+ (</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$Start</span><span class="keyword">+</span><span class="default">$End</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">4</span><span class="keyword">));
<br />
</span><span class="default">imagefilltoborder</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="7832""></a>
  <div class="note">
   <strong class="user">timothyhouck at yahoo dot com</strong>
   <a href="#7832" class="date">17-Aug-2000 12:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To do filled arcs, try something like this:
<br />

<br />
<span class="default">&lt;?php
<br />
$diameter </span><span class="keyword">= </span><span class="default">50</span><span class="keyword">;
<br />
</span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);
<br />
while(</span><span class="default">$diameter </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {
<br />
&nbsp; </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$start </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);
<br />
&nbsp; </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$end </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);
<br />
&nbsp; </span><span class="default">$diameter</span><span class="keyword">--;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
...well you get the point.&nbsp; It's a kludge, and *very* slow, but it's free.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="2872""></a>
  <div class="note">
   <strong class="user">travis at duluth dot com</strong>
   <a href="#2872" class="date">23-Dec-1999 03:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The wierd thing is that the first two integers tell where to place the "circle".
<br />
So for example I first create the "pallet" to place the circle on.
<br />
$image = imagecreate(500, 500);&nbsp; 
<br />
(this makes a huge 500x500 gif :) )
<br />
$colorBody = imagecolorallocate($image, 0, 0, 0);
<br />
(make the default color of the "pallet" black
<br />
$circleColor = imagecolorallocate($image, 255, 0, 255);
<br />
(going to make the circle an ugly pink color)
<br />
imagearc($image, 250, 250, 300, 300, 0, 360, $circleColor);
<br />
Places the image in the center (250,250) and the circle is 300 pixels in diameter.
<br />

<br />
Hope this helps.
<br />
&nbsp;
<br />
Travis Kent Beste</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
