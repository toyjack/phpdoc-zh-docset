<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Returns the size of a window</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.ncurses-getch.html">? ncurses_getch</a></li>
      <li style="float: right;"><a href="function.ncurses-getmouse.html">ncurses_getmouse ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.ncurses.html">Ncurses 函数</a></li>
    <li>Returns the size of a window</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.ncurses-getmaxyx" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ncurses_getmaxyx</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5 &lt; 5.3.0, PECL ncurses &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">ncurses_getmaxyx</span> &mdash; <span class="dc-title">Returns the size of a window</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.ncurses-getmaxyx-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>ncurses_getmaxyx</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$window</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$y</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$x</code></span>
   )</div>

  <div class="warning"><strong class="warning">Warning</strong><p class="simpara">此函数是<em class="emphasis">实验性</em>的。此函数的表象，包括名称及其相关文档都可能在未来的
PHP 发布版本中未通知就被修改。使用本函数风险自担 。</p></div>
  <p class="para">
   Gets the horizontal and vertical size of the given 
   <code class="parameter">window</code> into the given variables.
  </p>
  <p class="para">
   Variables must be passed as reference, so they are updated when the user
   changes the terminal size.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.ncurses-getmaxyx-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">window</code></dt>

     <dd>

      <p class="para">
       The measured window
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">y</code></dt>

     <dd>

      <p class="para">
       This will be set to the window height
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">x</code></dt>

     <dd>

      <p class="para">
       This will be set to the window width
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.ncurses-getmaxyx-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   没有返回值。
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="86298""></a>
  <div class="note">
   <strong class="user">vic at lfs dot net</strong>
   <a href="#86298" class="date">11-Oct-2008 07:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
TIP 1: If you want to know the size of the main (default) ncurses screen, you can use the defined constant STDSCR<br />
eg. ncurses_getmaxyx (STDSCR, $Height, $Width);<br />
No need to create a window, get its size and delete it again (not sure if this works on php versions &lt; 5 though).<br />
<br />
TIP 2 : If you are creating a PHP console application and want to support terminal resizing and if you find that the ncurses screen doesn't actually resize when you resize your terminal (which was the case for me (on FreeBSD 5.3 at least)) you should end the current ncurses session and restart it again. Very easy to do this if you create your own ncurses class with a nice con- and destructor.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76023""></a>
  <div class="note">
   <strong class="user">superzouz at hotmail dot com</strong>
   <a href="#76023" class="date">27-Jun-2007 02:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After some headscratching as to why my script was not detecting the terminal being resized... i discovered that the function would not report the new size of the terminal until the window is refreshed.<br />
So this is the code that I am using to get the size of the screen:<br />
<br />
$fullscreen = ncurses_newwin ( 0, 0, 0, 0); <br />
<br />
// everytime you want to find out the size of the screen, write the following 2 lines:<br />
ncurses_wrefresh($fullscreen); <br />
ncurses_getmaxyx ($fullscreen, $y, $x );</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
