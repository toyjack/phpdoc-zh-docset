<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Installation/Configuration</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="http.requirements.html">? 需求</a></li>
      <li style="float: right;"><a href="http.configuration.html">运行时配置 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="http.setup.html">安装／配置</a></li>
    <li>Installation/Configuration</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="http.install" class="section">
 <h2 class="title">Installation/Configuration</h2>
 

 <div class="section" id="http.install.pecl">
  <h2 class="title">安装</h2>
  <p class="para">
   此 <a href="http://pecl.php.net/" class="link external" title="Link : http://pecl.php.net/">&raquo;&nbsp;PECL</a> 扩展未与
PHP 捆绑。
  </p>
  <p class="para">
   安装此 PECL 扩展相关的信息可在手册中标题为
<a href="install.pecl.html" class="link">PECL
扩展的安装</a>章节中找到。更多信息如新的发行版本、下载、源文件、
维护人员信息及变更日志等，都在此处：
   <a href="http://pecl.php.net/package/pecl_http" class="link external" title="Link : http://pecl.php.net/package/pecl_http">&raquo;&nbsp;http://pecl.php.net/package/pecl_http</a>.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">The official name of this extension is <em class="emphasis">pecl_http</em>.</span>
  </p></blockquote>
  <p class="para">
   <acronym title="PHP Extension and Application Repository">PECL</acronym> 扩展的
<acronym title="Dynamic Link Library">DLL</acronym> 当前不可用。参见
<a href="install.windows.building.html" class="link">在 Windows 上构建</a>章节。
  </p>
 </div>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="116438""></a>
  <div class="note">
   <strong class="user">mikaey at bahjeez dot com</strong>
   <a href="#116438" class="date">03-Jan-2015 05:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those of you trying to build pecl_http v1 for PHP 5.6, it looks like it doesn't work and it won't be fixed: https://bugs.php.net/bug.php?id=66879&amp;thanks=6<br />
<br />
Looks like we are being forced to move to v2...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116413""></a>
  <div class="note">
   <strong class="user">TKNL</strong>
   <a href="#116413" class="date">30-Dec-2014 09:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Centos 6.5<br />
<br />
Don't use the pecl installer, you can find this module in yum:<br />
<br />
yum install php-pecl-http1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115071""></a>
  <div class="note">
   <strong class="user">dingxiaosong1987 at gmail dot com</strong>
   <a href="#115071" class="date">22-May-2014 06:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
centos 6.3 64<br />
<br />
compile error<br />
<br />
yum install libcurl-devel.x86_64<br />
<br />
then ok</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114990""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#114990" class="date">10-May-2014 04:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On debian 7 I had to do the following:<br />
<br />
root@mp1:~# apt-get install php-http<br />
root@mp1:~# apt-get install php5-dev<br />
root@mp1:~# apt-get install libcurl3<br />
root@mp1:~# apt-get install libpcre3-dev<br />
root@mp1:~# apt-get install libcurl4-openssl-dev <br />
root@mp1:~# pecl install pecl_http-1.7.6<br />
<br />
add extension=http.so into /etc/php5/apache2/php.ini <br />
&nbsp;<br />
root@mp1:~# /etc/init.d/apache2 restart</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114771""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#114771" class="date">04-Apr-2014 04:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
!!! WARNING !!!<br />
<br />
Version 2 of this library is COMPLETELY INCOMPATIBLE with Version 1!<br />
<br />
None of the HTTP functions exist in Version 2!<br />
<br />
This is NOT stated ANYWHERE in the docs on PHP.net.<br />
<br />
From the looks of it Version 2 is a completely OOP interface and drops support for all the functions listed here in the docs.<br />
<br />
If you are looking for the functional API use Version 1!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114495""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#114495" class="date">27-Feb-2014 11:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi guys<br />
<br />
I am configuring this on Ubuntu system and when I tried to run <br />
<br />
pecl install pecl_http<br />
<br />
it used to fail because it did not find pcre.h<br />
I found out that I need to apt-get install <br />
<br />
libcurl4-openssl-dev<br />
libevent-dev<br />
libpcre3-dev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; - here is where the pcre.h is available<br />
<br />
then I run it again and when it asks me for the zlib, libcurl and libevent I specify the respective folders where the src of each of them is located. <br />
<br />
So in that way it worked, and the pecl managed to corectly compile a brand new 'http.so' just under '/usr/lib/php5/20090626+lfs/http.so'<br />
<br />
Then under both of <br />
<br />
&nbsp;&nbsp;&nbsp; /etc/php5/apache2/php.ini<br />
&nbsp;&nbsp;&nbsp; and <br />
&nbsp;&nbsp;&nbsp; /etc/php5/cli/php.ini<br />
<br />
I inserted this:&nbsp; <br />
&nbsp;&nbsp; &nbsp; extension=/usr/lib/php5/20090626+lfs/http.so<br />
<br />
I'am really not sure which of the php.ini files above is the really correct one. <br />
<br />
PS: Sources of zlib, libcurl and libevent if you need to download them manually:<br />
zlib:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="http://zlib.net/zlib-1.2.8.tar.gz" rel="nofollow" target="_blank">http://zlib.net/zlib-1.2.8.tar.gz</a><br />
libcurl:&nbsp; &nbsp;&nbsp; <a href="http://curl.haxx.se/download/curl-7.35.0.tar.gz" rel="nofollow" target="_blank">http://curl.haxx.se/download/curl-7.35.0.tar.gz</a><br />
libevent: https://github.com/downloads/libevent/libevent/libevent-2.0.21-stable.tar.gz</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114021""></a>
  <div class="note">
   <strong class="user">ross dot carver at avantalytics dot com</strong>
   <a href="#114021" class="date">02-Jan-2014 06:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
on a amazon linux install with php54, you'll get errors using pecl_http 2.03 from the command line&nbsp; unless you add the following to your php.ini file:<br />
<br />
extension=json.so<br />
extension=raphf.so<br />
extension=propro.so<br />
extension=http.so<br />
<br />
also make sure chmod ug+x http.so (and any of the other extensions for that matter).<br />
<br />
If you do this and get a warning about json.so being already loaded - its likely that there is a separate ini file for json&nbsp; in /etc/php.d/json.ini where this line is included as well.&nbsp; It is necessary that you comment out line in json.ini as it is being called second and causing the warning<br />
<br />
environment - php-fpm / nginx <br />
<br />
HTH</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113853""></a>
  <div class="note">
   <strong class="user">csaltos at gmail dot com</strong>
   <a href="#113853" class="date">10-Dec-2013 12:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The pecl_http version 1 is no longer the default major version, so many of the functions and references in this documentation will not work with newer versions.<br />
<br />
Try to install the correct pecl_http package for the version 1 you want to use, or refer to a newer version described in the pecl package you want to install.<br />
<br />
In my case, I want the version 1, so I issued the command:<br />
<br />
pecl install <a href="http://pecl.php.net/get/pecl_http-1.7.6.tgz" rel="nofollow" target="_blank">http://pecl.php.net/get/pecl_http-1.7.6.tgz</a><br />
<br />
Ensure you have the latest minor versions for the pecl_http package specified at <a href="http://pecl.php.net/package/pecl_http" rel="nofollow" target="_blank">http://pecl.php.net/package/pecl_http</a><br />
<br />
The documentation for pecl_http version 2 is at <a href="http://devel-m6w6.rhcloud.com/mdref/http but I warn you, the version 2 is too different, actually simple functions like http_redirect do not exist in version 2. (I" rel="nofollow" target="_blank">http://devel-m6w6.rhcloud.com/mdref/http but I warn you, the version 2 is too different, actually simple functions like http_redirect do not exist in version 2. (I</a>'m wondering, why they did not use a different project name if the version 2 is so different !!)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113769""></a>
  <div class="note">
   <strong class="user">d4p3r</strong>
   <a href="#113769" class="date">29-Nov-2013 07:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Look out! Since version 2.0, the extension has been completely renovated. Now you need to pre-load the extensions "raphf", "propro" and "spl". This work for me in Ubuntu 12.04:<br />
<br />
apt-get install php-http<br />
pecl install pecl_http<br />
<br />
- In php.ini files:<br />
&nbsp;&nbsp;&nbsp;&nbsp; extension=raphf.so<br />
&nbsp;&nbsp;&nbsp;&nbsp; extension=propro.so<br />
&nbsp;&nbsp;&nbsp;&nbsp; extension=http.so<br />
<br />
The spl extension is compiled by default in PHP 5.0.0 and since version 5.3.0 can not be disabled.<br />
<br />
In addition, instantiation should be done using namespaces nomenclature, such as: new http \ Client ().<br />
<br />
Beware! This version is incompatible with version 1 and the&nbsp; event extension.<br />
<br />
More information: <a href="http://devel-m6w6.rhcloud.com/mdref/http/" rel="nofollow" target="_blank">http://devel-m6w6.rhcloud.com/mdref/http/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113695""></a>
  <div class="note">
   <strong class="user">phpsharma at gmail dot com</strong>
   <a href="#113695" class="date">18-Nov-2013 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A DLL for this PECL extension is currently unavailable. See also the building on Windows section.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113546""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#113546" class="date">29-Oct-2013 12:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP Warning:&nbsp; PHP Startup: Unable to load dynamic library '/usr/lib64/php/modules/http.so' - /usr/lib64/php/modules/http.so: undefined symbol: php_iconv_string in Unknown on line 0</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112967""></a>
  <div class="note">
   <strong class="user">Anon</strong>
   <a href="#112967" class="date">13-Aug-2013 08:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Latest dlls can be found here: <a href="http://windows.php.net/downloads/pecl/releases/http/" rel="nofollow" target="_blank">http://windows.php.net/downloads/pecl/releases/http/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112794""></a>
  <div class="note">
   <strong class="user">JeroenVD</strong>
   <a href="#112794" class="date">24-Jul-2013 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On my Centos 6.4:<br />
<br />
chmod +x /usr/lib64/php/modules/http.so</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111271""></a>
  <div class="note">
   <strong class="user">cheese dot cube at gmail dot com</strong>
   <a href="#111271" class="date">01-Feb-2013 05:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To install this PECL extension on Ubuntu 12.10 run the following:<br />
<br />
sudo apt-get install php-http make<br />
sudo pecl install pecl_http<br />
<br />
Then add the line "extension=http.so" to php.ini (Normally located at /etc/php5/apache2/php.ini) and restart Apache (sudo service apache2 restart).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109498""></a>
  <div class="note">
   <strong class="user">anon at anon dot com</strong>
   <a href="#109498" class="date">23-Jul-2012 07:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For others who can't find pecl_http for PHP 5.3 on Windows...<br />
<br />
You can download php_http.dll for PHP 5.3 from the official PHP for Windows site (windows.php.net) at <a href="http://downloads.php.net/pierre/" rel="nofollow" target="_blank">http://downloads.php.net/pierre/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108863""></a>
  <div class="note">
   <strong class="user">bruno dot braga at gmail dot com</strong>
   <a href="#108863" class="date">31-May-2012 12:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In Ubuntu 12.04:<br />
<br />
# (curl-devel equivalent in Ubuntu is libcurl4-gnutls-dev)<br />
sudo apt-get install libcurl3 php5-dev libcurl4-gnutls-dev libmagic-dev<br />
sudo pecl install pecl_http</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107799""></a>
  <div class="note">
   <strong class="user">aeternuslibertas at gmail dot com</strong>
   <a href="#107799" class="date">06-Mar-2012 05:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are on Arch linux you can install this via pear.<br />
just install pear first with pacman, then once php-pear is installed you can # pecl install pecl_http</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104989""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#104989" class="date">21-Jul-2011 08:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On Fedora, I had to do 'yum install curl-devel' to avoid missing curl.h error.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100588""></a>
  <div class="note">
   <strong class="user">jjrp78 at yahoo dot com</strong>
   <a href="#100588" class="date">25-Oct-2010 04:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in Ubuntu 10.10 I had to create this file:<br />
<br />
/etc/php5/conf.d/http.ini<br />
<br />
and add this line:<br />
<br />
extension=http.so</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82152""></a>
  <div class="note">
   <strong class="user">srimalj at gmail dot com</strong>
   <a href="#82152" class="date">29-Mar-2008 05:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just to add to the above.<br />
<br />
I had to install the following in Ubuntu 7.10 .<br />
<br />
(otherwise I get a message saying missing curl.h)<br />
<br />
# apt-get install libcurl4-gnutls-dev<br />
<br />
Hope this helps someone the trouble i went into, just to get the http_post_fields function working<br />
<br />
Regs<br />
<br />
Srimal.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81371""></a>
  <div class="note">
   <strong class="user">Mohd Azhar bin Ariffin</strong>
   <a href="#81371" class="date">25-Feb-2008 12:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The installation guideline is very insufficient. I've installed for Debian lenny/sid with the following step;<br />
<br />
apt-get install php5-dev (to enable pecl command)<br />
apt-get install libcurl3 (to get curl support)<br />
apt-get install libmagic<br />
<br />
and <br />
<br />
pecl install pecl_http<br />
<br />
pecl will download and compile but before that just follow the prompt. If the respective development library is not available in your system, the compilation will abort.<br />
<br />
After pecl_http got install, copy /usr/lib/php5/20060613+lfs/http.so to /usr/lib/apache2/modules and restart apache<br />
<br />
Hopefully this will help others from facing the same hassle for quite sometime.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80275""></a>
  <div class="note">
   <strong class="user">Jean-Lou Dupont</strong>
   <a href="#80275" class="date">07-Jan-2008 09:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Don't forget to copy ''http.so'' in the php/modules directory and add ''extension=http.so'' to php.ini.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75776""></a>
  <div class="note">
   <strong class="user">Christian9997</strong>
   <a href="#75776" class="date">15-Jun-2007 04:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The "Installation requirements on Windows" are confusing: <br />
<br />
If you are a Windows user you need to have the php_curl.dll extension installed before being able to install the php_http.dll extension.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
