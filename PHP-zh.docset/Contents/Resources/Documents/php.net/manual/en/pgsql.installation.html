<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>安装</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="pgsql.requirements.html">? 需求</a></li>
      <li style="float: right;"><a href="pgsql.configuration.html">运行时配置 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="pgsql.setup.html">安装／配置</a></li>
    <li>安装</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="pgsql.installation" class="section">
 <h2 class="title">安装</h2>
 <p class="para">
  为添加 PostgreSQL 支持，在编译 PHP 时需要加上
  <strong class="option configure">--with-pgsql[=DIR]</strong>

  选项。如果可以用共享模块方式，PostgreSQL 模块可以在
  <var class="filename">php.ini</var> 用 <a href="ini.core.html#ini.extension" class="link">extension</a>
  指令或者 <span class="function"><a href="function.dl.html" class="function">dl()</a></span> 函数加载。
 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="114793""></a>
  <div class="note">
   <strong class="user">zonetejasmikel at yahoo dot com</strong>
   <a href="#114793" class="date">08-Apr-2014 04:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you get <br />
/pgsql.c:789: error: 'from' undeclared (first use in this function)<br />
etc. compiling in linux its a typo in the define of pgsql.c file<br />
<br />
change to this<br />
#if !HAVE_PQESCAPE_CONN<br />
#define PQescapeStringConn(conn, to, from, len, error) PQescapeString(to, from, len)<br />
#endif</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99372""></a>
  <div class="note">
   <strong class="user">samuel+php dot net at dionne-riel dot com</strong>
   <a href="#99372" class="date">13-Aug-2010 02:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On PHP 5.3, you may encounter this error.<br />
&nbsp;&nbsp;&nbsp; Cannot create new link. Too many open links<br />
<br />
I did with Archlinux. pgsql.so was active.<br />
<br />
To resolve the issue, I had to active pdo.so and pdo_pgsql.so. Hope this helps!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93211""></a>
  <div class="note">
   <strong class="user">Serjik</strong>
   <a href="#93211" class="date">28-Aug-2009 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On a Windows server, configured with Apache, adding the following line to httpd.conf to load libpq.dll can save you a lot of time : <br />
<br />
LoadFile "C:/Program Files/PostgreSQL/8.4/bin/libpq.dll"<br />
<br />
Note that you will have to change your folder accordingly to the installation path and version of PostgreSQL you have installed. Also note that having Apache and PostgreSQL on the same server for production environments is not recommended. <br />
<br />
Cheers,<br />
Serjik</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92091""></a>
  <div class="note">
   <strong class="user">Anto Binish Kaspar</strong>
   <a href="#92091" class="date">08-Jul-2009 01:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An easy way to install in ubuntu(debain)<br />
Just run " apt-get install php5-pgsql "</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89297""></a>
  <div class="note">
   <strong class="user">Simon</strong>
   <a href="#89297" class="date">02-Mar-2009 05:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Windows users should be mindful that since 5.2.6 it seems that the version of php_pgsql.dll supplied is dynamically linked and requires libpq.dll.<br />
<br />
The version supplied in 5.2.5 is statically linked and does not have this dependency, if you cannot load the Postgres extension grab php_pgsql.dll from the 5.2.5 distribution</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
