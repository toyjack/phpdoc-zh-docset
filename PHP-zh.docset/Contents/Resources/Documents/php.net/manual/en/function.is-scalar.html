<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>检测变量是否是一个标量</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.is-resource.html">? is_resource</a></li>
      <li style="float: right;"><a href="function.is-string.html">is_string ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.var.html">Variable handling 函数</a></li>
    <li>检测变量是否是一个标量</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.is-scalar" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">is_scalar</h1>
    <p class="verinfo">(PHP 4 &gt;= 4.0.5, PHP 5)</p><p class="refpurpose"><span class="refname">is_scalar</span> &mdash; <span class="dc-title">
     检测变量是否是一个标量
    </span></p>

   </div>
   <div class="refsect1 unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-seealsz" id="refsect1-function.is-scalar-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-seealsz">
    <h3 class="title">描述</h3>
     <div class="methodsynopsis dc-description">
      <span class="type">bool</span> <span class="methodname"><strong>is_scalar</strong></span>
       ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$var</code></span>
      )</div>

    <p class="para rdfs-comment">
     如果给出的变量参数 <code class="parameter">var</code> 是一个标量，<span class="function"><strong>is_scalar()</strong></span>
     返回 <strong><code>TRUE</code></strong>，否则返回 <strong><code>FALSE</code></strong>。
    </p>
    <p class="para">
     标量变量是指那些包含了
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>、<span class="type"><a href="language.types.float.html" class="type float">float</a></span>、<span class="type"><a href="language.types.string.html" class="type string">string</a></span> 
     或 <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>的变量，而 
     <span class="type"><a href="language.types.array.html" class="type array">array</a></span>、<span class="type"><a href="language.types.object.html" class="type object">object</a></span> 和 <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> 则不是标量。
     <div class="informalexample">
      <div class="example-contents">

<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">show_var</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">is_scalar</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">$pi&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3.1416</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$proteins&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"hemoglobin"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"cytochrome&nbsp;c&nbsp;oxidase"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"ferredoxin"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">show_var</span><span style="color: #007700">(</span><span style="color: #0000BB">$pi</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;打印：3.1416<br /><br /></span><span style="color: #0000BB">show_var</span><span style="color: #007700">(</span><span style="color: #0000BB">$proteins</span><span style="color: #007700">)<br /></span><span style="color: #FF8000">//&nbsp;打印：<br />//&nbsp;array(3)&nbsp;{<br />//&nbsp;&nbsp;&nbsp;[0]=&gt;<br />//&nbsp;&nbsp;&nbsp;string(10)&nbsp;"hemoglobin"<br />//&nbsp;&nbsp;&nbsp;[1]=&gt;<br />//&nbsp;&nbsp;&nbsp;string(20)&nbsp;"cytochrome&nbsp;c&nbsp;oxidase"<br />//&nbsp;&nbsp;&nbsp;[2]=&gt;<br />//&nbsp;&nbsp;&nbsp;string(10)&nbsp;"ferredoxin"<br />//&nbsp;}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      尽管当前的 <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> 类型是居于整数的，但 
      <span class="function"><strong>is_scalar()</strong></span> 不会把它们当作是标量，因为资源是抽象数据类型。不能依赖于执行细节，因为它可能会改变。
     </p>
    </p></blockquote>
    <p class="para">
     参见 <span class="function"><a href="function.is-bool.html" class="function">is_bool()</a></span>、<span class="function"><a href="function.is-numeric.html" class="function">is_numeric()</a></span>、<span class="function"><a href="function.is-float.html" class="function">is_float()</a></span>、<span class="function"><a href="function.is-int.html" class="function">is_int()</a></span>、<span class="function"><a href="function.is-real.html" class="function">is_real()</a></span>、<span class="function"><a href="function.is-string.html" class="function">is_string()</a></span>、<span class="function"><a href="function.is-object.html" class="function">is_object()</a></span>、<span class="function"><a href="function.is-array.html" class="function">is_array()</a></span>
     和 <span class="function"><a href="function.is-integer.html" class="function">is_integer()</a></span>。
    </p>
   </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="90685""></a>
  <div class="note">
   <strong class="user">webmaster at oehoeboeroe dot nl</strong>
   <a href="#90685" class="date">04-May-2009 09:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a little function that will test whether a variable can be used as offset to an array.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_offset</span><span class="keyword">(&amp;</span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) || </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)) &amp;&amp; !</span><span class="default">is_resource</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The resource check is currently redundant, but according to the manual that may change in the future.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68522""></a>
  <div class="note">
   
   <a href="#68522" class="date">31-Jul-2006 05:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another warning in response to the previous note:<br />
&gt; just a warning as it appears that an empty value is not a scalar.<br />
<br />
That statement is wrong--or, at least, has been fixed with a later revision than the one tested.&nbsp; The following code generated the following output on PHP 4.3.9.<br />
<br />
CODE:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo(</span><span class="string">'is_scalar() test:'</span><span class="keyword">.</span><span class="default">EOL</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo(</span><span class="string">"NULL: "&nbsp; &nbsp; &nbsp; </span><span class="keyword">. </span><span class="default">print_R</span><span class="keyword">(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">NULL</span><span class="keyword">),&nbsp; &nbsp;&nbsp; </span><span class="default">true</span><span class="keyword">) . </span><span class="default">EOL</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo(</span><span class="string">"false: "&nbsp; &nbsp; </span><span class="keyword">. </span><span class="default">print_R</span><span class="keyword">(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">),&nbsp;&nbsp; </span><span class="default">true</span><span class="keyword">) . </span><span class="default">EOL</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo(</span><span class="string">"(empty): "&nbsp; </span><span class="keyword">. </span><span class="default">print_R</span><span class="keyword">(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">),&nbsp; &nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">) . </span><span class="default">EOL</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo(</span><span class="string">"0: "&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">. </span><span class="default">print_R</span><span class="keyword">(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">),&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">true</span><span class="keyword">) . </span><span class="default">EOL</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo(</span><span class="string">"'0': "&nbsp; &nbsp; &nbsp; </span><span class="keyword">. </span><span class="default">print_R</span><span class="keyword">(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="string">'0'</span><span class="keyword">),&nbsp; &nbsp;&nbsp; </span><span class="default">true</span><span class="keyword">) . </span><span class="default">EOL</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
OUTPUT:<br />
is_scalar() test:<br />
NULL: <br />
false: 1<br />
(empty): 1<br />
0: 1<br />
'0': 1<br />
<br />
THUS:<br />
&nbsp;&nbsp; * NULL is NOT a scalar<br />
&nbsp;&nbsp; * false, (empty string), 0, and "0" ARE scalars</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55925""></a>
  <div class="note">
   <strong class="user">efelch at gmail dot com</strong>
   <a href="#55925" class="date">17-Aug-2005 11:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A scalar is a single item or value, compared to things like arrays and objects which have multiple values. This tends to be the standard definition of the word in terms of programming. An integer, character, etc are scalars. Strings are probably considered scalars since they only hold "one" value (the value represented by the characters represented) and nothing else.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55813""></a>
  <div class="note">
   <strong class="user">Dr K</strong>
   <a href="#55813" class="date">14-Aug-2005 12:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Having hunted around the manual, I've not found a clear statement of what makes a type "scalar" (e.g. if some future version of the language introduces a new kind of type, what criterion will decide if it's "scalar"? - that goes beyond just listing what's scalar in the current version.)<br />
<br />
In other lanuages, it means "has ordering operators" - i.e. "less than" and friends.<br />
<br />
It (-:currently:-) appears to have the same meaning in PHP.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42397""></a>
  <div class="note">
   <strong class="user">popanowel HAT hotmailZ DOT cum</strong>
   <a href="#42397" class="date">14-May-2004 09:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi ... for newbees here, I just want to mention that reference and scalar variable aren't the same. A reference is a pointer to a scalar, just like in C or C++.<br />
<br />
&lt;? php&nbsp; // simple reference to scalar<br />
<br />
&nbsp; $a = 2;<br />
&nbsp; $ref = &amp; $a;<br />
<br />
&nbsp; echo "$a &lt;br&gt; $ref";<br />
<br />
?&gt;<br />
this should print out: "2 &lt;br&gt; 2".<br />
<br />
Scalar class also exists. Look below:<br />
&lt;? php<br />
<br />
&nbsp; class Object_t {<br />
<br />
&nbsp;&nbsp; &nbsp; var $a;<br />
<br />
&nbsp;&nbsp; &nbsp; function Object_t ()&nbsp; // constructor<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;a = 1;<br />
&nbsp;&nbsp; &nbsp; }<br />
<br />
&nbsp; }<br />
<br />
&nbsp; $a = new Object_t; // we define a scalar object<br />
<br />
&nbsp; $ref_a = &amp;a;<br />
<br />
&nbsp; echo "$a-&gt;a &lt;br&gt; $ref-&gt;a";<br />
<br />
?&gt;<br />
again, this should echo: "1 &lt;br&gt; 1";<br />
<br />
Here is another method isued in OOP to acheive on working only over reference to scalar object. Using this, you won't ever have to&nbsp; ask yourself if you work on a copy of the scalar or its reference. You will only possess reference to the scalar object. If you want to duplicate the scalar object, you will have to create a function for that purpose that would read by the reference the values and assign them to another scalar of the same type... or an other type, it is as you wish at that moment.<br />
<span class="default">&lt;?php<br />
<br />
&nbsp; </span><span class="keyword">class </span><span class="default">objet_t </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; var </span><span class="default">$a</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; function </span><span class="default">object_t<br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="string">"patate_poil"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp;&nbsp; function &amp;</span><span class="default">get_ref</span><span class="keyword">(</span><span class="default">$object_type</span><span class="keyword">) <br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// here we create a scalar object in memory<br />
&nbsp;&nbsp; &nbsp;&nbsp; // and we return it by reference to the calling<br />
&nbsp;&nbsp; &nbsp;&nbsp; // control scope.<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">return &amp;new </span><span class="default">$object_type</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; </span><span class="default">$ref_object_t </span><span class="keyword">= </span><span class="default">get_ref</span><span class="keyword">(</span><span class="default">object_t</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$ref_object_t</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="string"> &lt;br&gt;"</span><span class="keyword">;<br />
&nbsp; <br />
</span><span class="default">?&gt;<br />
</span>this should echo: "patate_poit &lt;br&gt;".<br />
<br />
The only thing that I try to demonstrate is that scalar variable ARE object in memory while a reference is usualy a variable (scalar object) that contain the address of another scalar object, which contain the informations you want by using the reference.<br />
<br />
Good Luck!<br />
<br />
otek is popanowel HAT hotmailZ DOT cum</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39729""></a>
  <div class="note">
   <strong class="user">bps7j at yahoNOSPAMo.com</strong>
   <a href="#39729" class="date">09-Feb-2004 06:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
is_scalar(null) is false.&nbsp; Apparently a variable needs to have a value to be considered a scalar.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
