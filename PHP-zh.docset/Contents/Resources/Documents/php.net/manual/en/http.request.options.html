<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Options usable with the HttpRequest class and request functions</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="http.constants.html">? 预定义常量</a></li>
      <li style="float: right;"><a href="class.httpdeflatestream.html">HttpDeflateStream ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.http.html">HTTP</a></li>
    <li>Options usable with the HttpRequest class and request functions</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="http.request.options" class="appendix">
 <h1>Options usable with the HttpRequest class and request functions</h1>

 
  <dl>

   <strong class="title">Options related to time outs</strong>
   
    <dt id="http.request.option.timeout">
     timeout (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      seconds the whole request may take to complete
     </span>
    </dd>

   
   
    <dt id="http.request.option.connecttimeout">
     connecttimeout (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      seconds the connect, including name resolving, may take
     </span>
    </dd>

   
   
    <dt id="http.request.option.dns-cache-timeout">
     dns_cache_timeout (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      seconds after an dns cache entry times out
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">Options related to urls</strong>
   
    <dt id="http.request.option.url">
     url (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      the request url
     </span>
    </dd>

   
   
    <dt id="http.request.option.port">
     port (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      use another port as specified in the url
     </span>
    </dd>

   
   
    <dt id="http.request.option.redirect">
     redirect (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      whether and how many redirects to follow; defaults to 0
     </span>
    </dd>

   
   
    <dt id="http.request.option.unrestrictedauth">
     unrestrictedauth (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      whether to continue sending credentials on redirects to a different host
     </span>
    </dd>

   
   
    <dt>

     referer (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      the referring url to send
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">Options related to cookies</strong>
   
    <dt>

     encodecookies (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      whether custom cookies should be <span class="function"><a href="function.urlencode.html" class="function">urlencode()</a></span>d prior sending
     </span>
    </dd>

   
   
    <dt>

     cookies (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      list of cookies as associative array like <em>array(&quot;cookie&quot; =&gt; &quot;value&quot;)</em>
     </span>
    </dd>

   
   
    <dt>

     cookiestore (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      path to a file where cookies are/will be stored
     </span>
    </dd>

   
   
    <dt>

     cookiesession (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      don&#039;t load session cookies from cookiestore if <strong><code>TRUE</code></strong>
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">Options related to headers</strong>
   
    <dt>

     useragent (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      the user agent to send; defaults to <em>PECL::HTTP/x.y.z (PHP/x.y.z)</em>; omitted if explicitly set to an empty string
     </span>
    </dd>

   
   
    <dt>

     lastmodified (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      timestamp for If-(Un)Modified-Since header
     </span>
    </dd>

   
   
    <dt>

     etag (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      quoted etag for If-(None-)Match header
     </span>
    </dd>

   
   
    <dt>

     headers (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      list of custom headers as associative array like <em>array(&quot;header&quot; =&gt; &quot;value&quot;)</em>
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">Options related to authentication</strong>
   
    <dt>

     httpauth (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      http credentials in &quot;user:pass&quot; format
     </span>
    </dd>

   
   
    <dt>

     httpauthtype (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      <a href="http.constants.html#http.constants.request.httpauth" class="link">HTTP authentication type constant</a>
     </span>
    </dd>

   
   
    <dt>

     (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <span class="simpara">
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">Options related to proxies</strong>
   
    <dt>

     proxyhost (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      proxy host in &quot;host[:port]&quot; format
     </span>
    </dd>

   
   
    <dt>

     proxyport (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      use another proxy port as specified in proxyhost
     </span>
    </dd>

   
   
    <dt>

     proxytype (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      <a href="http.constants.html#http.constants.request.proxy" class="link">HTTP proxy type constant</a>
     </span>
    </dd>

   
   
    <dt>

     proxyauth (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      proxy credentials in &quot;user:pass&quot; format
     </span>
    </dd>

   
   
    <dt>

     proxyauthtype (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      <a href="http.constants.html#http.constants.request.httpauth" class="link">HTTP authentication type constant</a>
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">Options related to the transfer</strong>
   
    <dt>

     compress (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      whether to request and accept a gzip/deflate content encoded response
     </span>
    </dd>

   
   
    <dt>

     resume (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      start the download at the specified byte offset if server support is given (indicated by a 206 response code)
     </span>
    </dd>

   
   
    <dt>

     range (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      array of arrays, each containing two <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>s, specifying the ranges to download if server support is given (indicated by a 206 response code);
      only recognized if the resume option is empty
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">Options imposing limits</strong>
   
    <dt>

     maxfilesize (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      maximum file size that should be downloaded;
      has no effect, if the size of the requested entity is unknown
      (eg. dynamic pages with chunked transfer encoding etc.)
     </span>
    </dd>

   
   
    <dt>

     low_speed_limit (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      the lowest transfer speed a successful request may have
     </span>
    </dd>

   
   
    <dt>

     low_speed_time (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      the time in which <em>low_speed_limit</em> must be transferred for a successful request
     </span>
    </dd>

   
   
    <dt>

     max_send_speed (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      maximum send speed in bytes per second
     </span>
    </dd>

   
   
    <dt>

     max_recv_speed (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      maximum receive speed in bytes per second
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">Callback options</strong>
   
    <dt>
onprogress (<span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>)</dt>

    <dd>
<span class="simpara">progress callback</span></dd>

   
  </dl>

  <dl>

   <strong class="title">Network options</strong>
   
    <dt>
interface (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

    <dd>
<span class="simpara">outgoing network interface (ifname, ip or hostname)</span></dd>

   
   
    <dt>
portrange (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)</dt>

    <dd>
<span class="simpara">2 integers specifying outgoing portrange to try</span></dd>

   
  </dl>

  <dl>

   <strong class="title">SSL options</strong>
   
    <dt>

     ssl (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <span class="simpara">SSL options are set through an array with the single &quot;ssl&quot; request option name.</span>
     </p></blockquote>
     <dl>

      
       <dt>
cert (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">path to certificate</span></dd>

      
      
       <dt>
certtype (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">type of certificate</span></dd>

      
      
       <dt>
certpasswd (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">password for certificate</span></dd>

      
      
       <dt>
key (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">path to key</span></dd>

      
      
       <dt>
keytype (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">type of key</span></dd>

      
      
       <dt>
keypasswd (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">password for key</span></dd>

      
      
       <dt>
engine (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">ssl engine to use</span></dd>

      
      
       <dt>
version (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)</dt>

       <dd>
<span class="simpara">ssl version to use</span></dd>

      
      
       <dt>
verifypeer (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)</dt>

       <dd>
<span class="simpara">whether to verify the peer</span></dd>

      
      
       <dt>
verifyhost (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)</dt>

       <dd>
<span class="simpara">whether to verify the host</span></dd>

      
      
       <dt>
cipher_list (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">list of allowed ciphers</span></dd>

      
      
       <dt>
cainfo (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara"/></dd>

      
      
       <dt>
capath (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara"/></dd>

      
      
       <dt>
random_file (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara"/></dd>

      
      
       <dt>
egdsocket (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara"/></dd>

      
     </dl>

    </dd>

   
  </dl>

</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="107861""></a>
  <div class="note">
   <strong class="user">sandeepone at gmail dot com</strong>
   <a href="#107861" class="date">11-Mar-2012 03:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If someone looking how to use in OOP's context:<br />
<br />
$options = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'useragent'&nbsp; &nbsp; &nbsp; =&gt; "Firefox (+<a href="http://www.firefox.org" rel="nofollow" target="_blank">http://www.firefox.org</a>)", // who am i <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'connecttimeout' =&gt; 120, // timeout on connect <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'timeout'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; 120, // timeout on response <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'redirect'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; 10, // stop after 10 redirects<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'referer'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; =&gt; "<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
<br />
$request = new HttpRequest('<a href="http://example.com" rel="nofollow" target="_blank">http://example.com</a>');<br />
$request-&gt;setOptions($options);<br />
$request-&gt;send();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82052""></a>
  <div class="note">
   <strong class="user">dav7 dot net at php (reverse)</strong>
   <a href="#82052" class="date">26-Mar-2008 02:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If anyone doesn't understand the purpose of these values and is scratching their head, they're all array indexes, and are used as the $option parameter to the various HTTP functions documented in this section. For example:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $body </span><span class="keyword">= </span><span class="default">http_get</span><span class="keyword">(</span><span class="string">'<a href="http://example.com/private_area/" rel="nofollow" target="_blank">http://example.com/private_area/</a>'</span><span class="keyword">, array(</span><span class="default">httpauth </span><span class="keyword">=&gt; </span><span class="string">'username:password'</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$body</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This only had me "...huh?!" for a little while, but might have others confused for longer as the fact that these are what they are isn't clearly printed anywhere... to find out that these did what they say they do was a guessing game for me even.<br />
<br />
-dav7</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
