<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Add weblink for current page [deprecated]</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.pdf-add-thumbnail.html">? PDF_add_thumbnail</a></li>
      <li style="float: right;"><a href="function.pdf-arc.html">PDF_arc ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.pdf.html">PDF 函数</a></li>
    <li>Add weblink for current page [deprecated]</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.pdf-add-weblink" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">PDF_add_weblink</h1>
  <p class="verinfo">(PHP 4, PECL pdflib &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">PDF_add_weblink</span> &mdash; <span class="dc-title">Add weblink for current page [deprecated]</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.pdf-add-weblink-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>PDF_add_weblink</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$pdfdoc</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$lowerleftx</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$lowerlefty</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$upperrightx</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$upperrighty</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$url</code></span>
   )</div>

  <p class="para rdfs-comment">
   Adds a weblink annotation to a target <code class="parameter">url</code> on the Web.
   成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。
  </p>
  <p class="para">
   This function is deprecated since PDFlib version 6, use
   <span class="function"><a href="function.pdf-create-action.html" class="function">PDF_create_action()</a></span> with <code class="parameter">type=URI</code>
   and <span class="function"><a href="function.pdf-create-annotation.html" class="function">PDF_create_annotation()</a></span> with
   <code class="parameter">type=Link</code> instead.
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="22082""></a>
  <div class="note">
   <strong class="user">js at justnet dot com dot au</strong>
   <a href="#22082" class="date">06-Jun-2002 06:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The example given in the above comment is potentially confusing, since the 4th and 5th arguments appear to be the width and height of the link area, but are actually the coordinates of the diagonally opposite corner. This is much more evident when the starting point for the weblink is something other than 0,0 (which is of course very likely).<br />
<br />
A better example:<br />
<br />
$starting_xpos = 100;<br />
$starting_ypos = 150;<br />
pdf_add_weblink($pdf, $starting_xpos, $starting_ypos, $starting_xpos + $width, $starting_ypos + $height, "<a href="http://goweb.com.au/" rel="nofollow" target="_blank">http://goweb.com.au/</a>");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="14513""></a>
  <div class="note">
   <strong class="user">bob at nijman dot de</strong>
   <a href="#14513" class="date">02-Aug-2001 04:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Try this:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="comment">//create &amp; open PDF-Object
<br />
</span><span class="default">$pdf </span><span class="keyword">= </span><span class="default">pdf_new</span><span class="keyword">();
<br />
</span><span class="default">pdf_open_file</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);
<br />
</span><span class="default">pdf_set_info</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="string">"Author"</span><span class="keyword">,</span><span class="string">"Bob Nijman"</span><span class="keyword">);
<br />

<br />
</span><span class="comment">//the interesting bit...
<br />
</span><span class="default">$pdfimage </span><span class="keyword">= </span><span class="default">pdf_open_image_file</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="string">"jpeg"</span><span class="keyword">, </span><span class="string">"test.jpg"</span><span class="keyword">);
<br />
</span><span class="default">$width </span><span class="keyword">= </span><span class="default">pdf_get_image_width</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">$pdfimage</span><span class="keyword">);
<br />
</span><span class="default">$height </span><span class="keyword">= </span><span class="default">pdf_get_image_height</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">$pdfimage</span><span class="keyword">);
<br />
</span><span class="default">pdf_begin_page</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">421</span><span class="keyword">, </span><span class="default">595</span><span class="keyword">);
<br />
</span><span class="default">pdf_place_image</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">$pdfimage</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br />
</span><span class="default">pdf_add_weblink</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$width</span><span class="keyword">, </span><span class="default">$height</span><span class="keyword">, </span><span class="string">"<a href="http://www.hackeschermarkt.de" rel="nofollow" target="_blank">http://www.hackeschermarkt.de</a>"</span><span class="keyword">);
<br />

<br />
</span><span class="comment">//close it up
<br />
</span><span class="default">pdf_end_page</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);
<br />
</span><span class="default">pdf_close</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);
<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">pdf_get_buffer</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);
<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: application/pdf'</span><span class="keyword">);
<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-disposition: inline; filename=myTest.pdf'</span><span class="keyword">);
<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-length: ' </span><span class="keyword">. </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">));
<br />
echo </span><span class="default">$data</span><span class="keyword">;
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
