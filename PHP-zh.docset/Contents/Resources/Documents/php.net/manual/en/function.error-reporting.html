<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>设置应该报告何种 PHP 错误</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.error-log.html">? error_log</a></li>
      <li style="float: right;"><a href="function.restore-error-handler.html">restore_error_handler ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.errorfunc.html">错误处理 函数</a></li>
    <li>设置应该报告何种 PHP 错误</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.error-reporting" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">error_reporting</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">error_reporting</span> &mdash; <span class="dc-title">设置应该报告何种 PHP 错误</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.error-reporting-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>error_reporting</strong></span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$level</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>error_reporting()</strong></span> 函数能够在运行时设置 <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a> 指令。
   PHP 有诸多错误级别，使用该函数可以设置在脚本运行时的级别。
   如果没有设置可选参数 <code class="parameter">level</code>，
   <span class="function"><strong>error_reporting()</strong></span> 仅会返回当前的错误报告级别。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.error-reporting-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">level</code></dt>

     <dd>

      <p class="para">
       新的 <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a> 级别。
       可以是一个位掩码也可以是一个已命名的常量。
       强烈建议使用已命名的常量，以确保兼容将来的版本。
       由于错误级别的添加、整数取值范围的增加，
       较久的基于整数的错误级别不会总是和预期的表现一致。
      </p>
      <p class="para">
       可用的错误级别常量及其实际含义描述在了 
       <a href="errorfunc.constants.html" class="link">predefined constants</a> 中。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.error-reporting-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回旧的 <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a> 级别，或者在 <code class="parameter">level</code> 参数未给出时返回当前的级别。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.error-reporting-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.4.0</td>
       <td><strong><code>E_STRICT</code></strong> 成为 <strong><code>E_ALL</code></strong> 的一部分</td>
      </tr>

      <tr>
       <td>5.3.0</td>
       <td>引入 <strong><code>E_DEPRECATED</code></strong> 和 <strong><code>E_USER_DEPRECATED</code></strong>。</td>
      </tr>

      <tr>
       <td>5.2.0</td>
       <td>引入 <strong><code>E_RECOVERABLE_ERROR</code></strong>。</td>
      </tr>

      <tr>
       <td>5.0.0</td>
       <td>引入 <strong><code>E_STRICT</code></strong> (但不包括在 <strong><code>E_ALL</code></strong> 之内)。</td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.error-reporting-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-447">
    <p><strong>Example #1 <span class="function"><strong>error_reporting()</strong></span> 范例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;关闭所有PHP错误报告<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Report&nbsp;simple&nbsp;running&nbsp;errors<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ERROR&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_WARNING&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_PARSE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;报告&nbsp;E_NOTICE也挺好&nbsp;(报告未初始化的变量<br />//&nbsp;或者捕获变量名的错误拼写)<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ERROR&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_WARNING&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_PARSE&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_NOTICE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;除了&nbsp;E_NOTICE，报告其他所有错误<br />//&nbsp;这是在&nbsp;php.ini&nbsp;里的默认设置<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL&nbsp;</span><span style="color: #007700">^&nbsp;</span><span style="color: #0000BB">E_NOTICE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;报告所有&nbsp;PHP&nbsp;错误&nbsp;(参见&nbsp;changelog)<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;报告所有&nbsp;PHP&nbsp;错误<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;和&nbsp;error_reporting(E_ALL);&nbsp;一样<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'error_reporting'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">E_ALL</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.error-reporting-notes">
  <h3 class="title">注释</h3>
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="simpara">
    虽然 <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a> 增强了
    包含 <strong><code>E_STRICT</code></strong> 错误的能力（反之亦然），但大多数 
    <strong><code>E_STRICT</code></strong> 的错误是在编译时被评估的，
    所以不会在文件中被报告。
   </p>
  </div>
  <div class="tip"><strong class="tip">Tip</strong>
   <p class="simpara">
    传入 <em>-1</em> 的值将尽可能显示所有错误，
    甚至包括将来 PHP 可能加入的新的错误级别和常量。
    至 PHP 5.4，常量 <strong><code>E_ALL</code></strong> 有同样的行为。
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.error-reporting-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="errorfunc.configuration.html#ini.display-errors" class="link">display_errors</a> 指令</li>
    <li class="member"><a href="errorfunc.configuration.html#ini.html-errors" class="link">html_errors</a> 指令</li>
    <li class="member"><a href="errorfunc.configuration.html#ini.xmlrpc-errors" class="link">xmlrpc_errors</a> 指令</li>
    <li class="member"><span class="function"><a href="function.ini-set.html" class="function" rel="rdfs-seeAlso">ini_set()</a> - 为一个配置选项设置值</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="116493""></a>
  <div class="note">
   <strong class="user">saeid11 at yahoo dot com</strong>
   <a href="#116493" class="date">12-Jan-2015 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If eval() is the answer, you're almost certainly asking the wrong question.<br />
<a href="http://www.asrepooya.com" rel="nofollow" target="_blank">http://www.asrepooya.com</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116441""></a>
  <div class="note">
   <strong class="user">Rash</strong>
   <a href="#116441" class="date">04-Jan-2015 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are using the PHP development server, run from the command line via `php -S servername:port`, every single error/notice/warning will be reported in the command line itself, with file name, and line number, and stack trace.<br />
<br />
So if you want to keep a log of all the errors even after page reloads (for help in debugging, maybe), running the PHP development server can be useful.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114057""></a>
  <div class="note">
   <strong class="user">Marc17</strong>
   <a href="#114057" class="date">07-Jan-2014 06:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To not display the E_DEPRECATED errors (for example) without changing the rest of the configuration :<br />
error_reporting(error_reporting() &amp; (-1 ^ E_DEPRECATED));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113891""></a>
  <div class="note">
   <strong class="user">polecat1</strong>
   <a href="#113891" class="date">14-Dec-2013 01:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Most of you know that a script can give different results online compared to your local machine (PHP versions, settings). Nobody wants to see an error message on your online website, like "Access denied for user 'YOURUSERNAME'@'localhost' (using password: YOURPASSWORD)". But sometimes we do need this information on our online site for debugging. Here's a little trick.<br />
On your local machine for your own browser create a cookie, something like:<br />
setcookie ("your-website.com-testing", "1", time()+60*60*24*300);<br />
Then in all your pages (or in includes) add the following line:<br />
if (!isset($_COOKIE["your-website.com-testing"])) {<br />
&nbsp;&nbsp;&nbsp; error_reporting(0);<br />
}<br />
This way errors will be reported ONLY when the page is displayed in YOUR browser.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113358""></a>
  <div class="note">
   <strong class="user">forcemdt</strong>
   <a href="#113358" class="date">01-Oct-2013 04:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Php &gt;5.4<br />
<br />
Creating a Custom Error Handler<br />
<br />
set_error_handler("customError",E_ALL);<br />
function customError($errno, $errstr)<br />
&nbsp; {<br />
&nbsp; echo "&lt;b&gt;Error:&lt;/b&gt; [$errno] $errstr&lt;br&gt;";<br />
&nbsp; echo "Ending Script";<br />
&nbsp; die();<br />
&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107447""></a>
  <div class="note">
   <strong class="user">teynon1 at gmail dot com</strong>
   <a href="#107447" class="date">10-Feb-2012 05:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It might be a good idea to include E_COMPILE_ERROR in error_reporting. <br />
<br />
If you have a customer error handler that does not output warnings, you may get a white screen of death if a "require" fails.<br />
<br />
Example:<br />
<span class="default">&lt;?php <br />
&nbsp; error_reporting</span><span class="keyword">(</span><span class="default">E_ERROR </span><span class="keyword">| </span><span class="default">E_WARNING </span><span class="keyword">| </span><span class="default">E_PARSE</span><span class="keyword">);<br />
<br />
&nbsp; function </span><span class="default">myErrorHandler</span><span class="keyword">(</span><span class="default">$errno</span><span class="keyword">, </span><span class="default">$errstr</span><span class="keyword">, </span><span class="default">$errfile</span><span class="keyword">, </span><span class="default">$errline</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Do something other than output message.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="default">$old_error_handler </span><span class="keyword">= </span><span class="default">set_error_handler</span><span class="keyword">(</span><span class="string">"myErrorHandler"</span><span class="keyword">);<br />
<br />
&nbsp; require </span><span class="string">"this file does not exist"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
To prevent this, simply include E_COMPILE_ERROR in the error_reporting.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; error_reporting</span><span class="keyword">(</span><span class="default">E_ERROR </span><span class="keyword">| </span><span class="default">E_WARNING </span><span class="keyword">| </span><span class="default">E_PARSE </span><span class="keyword">| </span><span class="default">E_COMPILE_ERROR</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105229""></a>
  <div class="note">
   <strong class="user">ywarnier at beeznest dot org</strong>
   <a href="#105229" class="date">04-Aug-2011 05:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Setting error_reporting in your VirtualHost has to be done through a numerical value which is the result of the options you choose summed up from the values of these options, as defined on the constants page for the error management functions: <a href="http://www.php.net/manual/en/errorfunc.constants.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/errorfunc.constants.php</a><br />
<br />
As a result, E_ALL &amp; ~E_NOTICE would be set this way (this automatically excludes E_DEPRECATED AND E_USER_DEPRECATED):<br />
<br />
&nbsp; php_value error_reporting 6135<br />
<br />
whereas E_ALL (excluding the deprecated levels) would be set this way:<br />
<br />
&nbsp; php_value error_reporting 6143<br />
<br />
The difference between those two values is 8, which is the value of the constant for E_NOTICE.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101260""></a>
  <div class="note">
   <strong class="user">rojaro at gmail dot com</strong>
   <a href="#101260" class="date">06-Dec-2010 11:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To enable error reporting for *ALL* error messages including every error level (including E_STRICT, E_NOTICE etc.), simply use:<br />
<br />
<span class="default">&lt;?php error_reporting</span><span class="keyword">(-</span><span class="default">1</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98414""></a>
  <div class="note">
   <strong class="user">keithm at aoeex dot com</strong>
   <a href="#98414" class="date">14-Jun-2010 07:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some E_STRICT errors seem to be thrown during the page's compilation process.&nbsp; This means they cannot be disabled by dynamically altering the error level at run time within that page.<br />
<br />
The work-around for this was to rename the file and replace the original with a error_reporting() call and then a require() call.<br />
<br />
Ex, rename index.php to index.inc.php, then re-create index.php as:<br />
<br />
<span class="default">&lt;?php<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL </span><span class="keyword">&amp; ~(</span><span class="default">E_STRICT</span><span class="keyword">|</span><span class="default">E_NOTICE</span><span class="keyword">));<br />
require(</span><span class="string">'index.inc.php'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
That allows you to alter the error reporting prior to the file being compiled.<br />
<br />
I discovered this recently when I was given code from another development firm that triggered several E_STRICT errors and I wanted to disable E_STRICT on a per-page basis.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95944""></a>
  <div class="note">
   <strong class="user">roberto at spadim dot com dot br</strong>
   <a href="#95944" class="date">29-Jan-2010 10:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
see more information about php 5.3 deprecated errors<br />
<br />
<a href="http://php.net/manual/en/migration53.deprecated.php" rel="nofollow" target="_blank">http://php.net/manual/en/migration53.deprecated.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91412""></a>
  <div class="note">
   <strong class="user">misplacedme at gmail dot com</strong>
   <a href="#91412" class="date">09-Jun-2009 11:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I always code with E_ALL set.<br />
After a couple of pages of<br />
<span class="default">&lt;?php<br />
$username </span><span class="keyword">= (isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'username'</span><span class="keyword">]) &amp;&amp; !empty(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'username'</span><span class="keyword">]))....<br />
</span><span class="default">?&gt;<br />
</span><br />
I made this function to make things a little bit quicker.&nbsp; Unset values passed by reference won't trigger a notice.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">test_ref</span><span class="keyword">(&amp;</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$test_function</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">,</span><span class="default">$negate</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(!isset(</span><span class="default">$var</span><span class="keyword">)) </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (!empty(</span><span class="default">$test_function</span><span class="keyword">) &amp;&amp; </span><span class="default">function_exists</span><span class="keyword">(</span><span class="default">$test_function</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">$test_function</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= (</span><span class="default">$negate</span><span class="keyword">) ? </span><span class="default">$stat</span><span class="keyword">^</span><span class="default">1 </span><span class="keyword">: </span><span class="default">$stat</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; elseif(</span><span class="default">$test_function </span><span class="keyword">== </span><span class="string">'empty'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= empty(</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= (</span><span class="default">$negate</span><span class="keyword">) ? </span><span class="default">$stat</span><span class="keyword">^</span><span class="default">1 </span><span class="keyword">: </span><span class="default">$stat</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; elseif (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="default">$test_function</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"</span><span class="default">$test_function</span><span class="string">() is not a valid function"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= (</span><span class="default">$stat</span><span class="keyword">) ? </span><span class="default">true </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$stat</span><span class="keyword">;<br />
}<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="string">'15'</span><span class="keyword">;<br />
<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">'empty'</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);&nbsp; </span><span class="comment">//False<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">'is_int'</span><span class="keyword">);&nbsp; </span><span class="comment">//False<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">'is_numeric'</span><span class="keyword">);&nbsp; </span><span class="comment">//False<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="string">'empty'</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);&nbsp; </span><span class="comment">//true<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="string">'is_int'</span><span class="keyword">);&nbsp; </span><span class="comment">//False<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="string">'is_numeric'</span><span class="keyword">);&nbsp; </span><span class="comment">//false<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$unset</span><span class="keyword">,</span><span class="string">'is_numeric'</span><span class="keyword">);&nbsp; </span><span class="comment">//false<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="string">'is_number'</span><span class="keyword">);&nbsp; </span><span class="comment">//returns false, with an error.<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89829""></a>
  <div class="note">
   <strong class="user">ecervetti at orupaca dot fr</strong>
   <a href="#89829" class="date">25-Mar-2009 10:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It could save two minutes to someone:<br />
E_ALL &amp; ~E_NOTICE&nbsp; integer value is 6135</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89017""></a>
  <div class="note">
   <strong class="user">Daz Williams (The Northeast)</strong>
   <a href="#89017" class="date">18-Feb-2009 03:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Only display php errors to the developer...
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">if(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REMOTE_ADDR'</span><span class="keyword">]==</span><span class="string">"00.00.00.00"</span><span class="keyword">)
<br />
{
<br />
&nbsp; </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'display_errors'</span><span class="keyword">,</span><span class="string">'On'</span><span class="keyword">);
<br />
}
<br />
else
<br />
{
<br />
&nbsp; </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'display_errors'</span><span class="keyword">,</span><span class="string">'Off'</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Just replace 00.00.00.00 with your ip address.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85096""></a>
  <div class="note">
   <strong class="user">info at hephoz dot de</strong>
   <a href="#85096" class="date">14-Aug-2008 03:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you just see a blank page instead of an error reporting and you have no server access so you can't edit php configuration files like php.ini try this:<br />
<br />
- create a new file in which you include the faulty script:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
&nbsp;</span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">"display_errors"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;include(</span><span class="string">"file_with_errors.php"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
- execute this file instead of the faulty script file <br />
<br />
now errors of your faulty script should be reported.<br />
this works fine with me. hope it solves your problem as well!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85013""></a>
  <div class="note">
   <strong class="user">kc8yds at gmail dot com</strong>
   <a href="#85013" class="date">10-Aug-2008 08:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this is to show all errors for code that may be run on different versions
<br />

<br />
for php 5 it shows E_ALL^E_STRICT and for other versions just E_ALL
<br />

<br />
if anyone sees any problems with it please correct this post
<br />

<br />
<span class="default">&lt;?php
<br />
ini_set</span><span class="keyword">(</span><span class="string">'error_reporting'</span><span class="keyword">, </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">PHP_VERSION</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="string">'&gt;='</span><span class="keyword">) &amp;&amp; </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">PHP_VERSION</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="string">'&lt;'</span><span class="keyword">) ?</span><span class="default">E_ALL</span><span class="keyword">^</span><span class="default">E_STRICT</span><span class="keyword">:</span><span class="default">E_ALL</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83455""></a>
  <div class="note">
   <strong class="user">derek at darkcolors dot com</strong>
   <a href="#83455" class="date">27-May-2008 10:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had the problem that if there was an error, php would just give me a blank page.&nbsp; Any error at all forced a blank page instead of any output whatsoever, even though I made sure that I had error_reporting set to E_ALL, display_errors turned on, etc etc.&nbsp; But simply running the file in a different directory allowed it to show errors!<br />
<br />
Turns out that the error_log file in the one directory was full (2.0 Gb).&nbsp; I erased the file and now errors are displayed normally.&nbsp; It might also help to turn error logging off.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74306""></a>
  <div class="note">
   <strong class="user">antickon AT gmail.com</strong>
   <a href="#74306" class="date">04-Apr-2007 02:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
regarding what vdephily at bluemetrix dot com said ( see <a href="http://be.php.net/manual/en/function.error-reporting.php#50228 " rel="nofollow" target="_blank">http://be.php.net/manual/en/function.error-reporting.php#50228 </a>)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">$foobar</span><span class="keyword">-&gt;</span><span class="default">field</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
also initializes $foobar (as an instance of stdClass), so this code will not cause any notices.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72457""></a>
  <div class="note">
   <strong class="user">Alex</strong>
   <a href="#72457" class="date">19-Jan-2007 12:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
error_reporting() may give unexpected results if the @ error suppression directive is used.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="keyword">@include </span><span class="string">'config.php'</span><span class="keyword">;<br />
&nbsp;include </span><span class="string">'foo.bar'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// non-existent file<br />
</span><span class="default">?&gt;<br />
</span><br />
config.php<br />
<span class="default">&lt;?php<br />
&nbsp;error_reporting</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
will throw an error level E_WARNING in relation to the non-existent file (depending of course on your configuration settings).&nbsp; If the suppressor is removed, this works as expected.<br />
<br />
Alternatively using ini_set('display_errors', 0) in config.php will achieve the same result.&nbsp; This is contrary to the note above which says that the two instructions are equivalent.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70126""></a>
  <div class="note">
   <strong class="user">silvan at NOSPAM dot example dot com</strong>
   <a href="#70126" class="date">04-Oct-2006 03:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On a shared debugging and production server it is convenient to use<br />
<span class="default">&lt;?php error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">); </span><span class="default">?&gt;<br />
</span>for debugging.<br />
<br />
This will not help in case of parsing errors, so make sure you enable at least E_PARSE in your php.ini. Parse errors should not exist in production scripts.<br />
<br />
Still, sometimes your script will not get executed even though no parse error is displayed (just a blank page/ no output at all). As far as I know this only happens when you redeclare a user function or class. <br />
<br />
eg.<br />
<span class="default">&lt;?php<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
<br />
function </span><span class="default">a</span><span class="keyword">(){}<br />
function </span><span class="default">a</span><span class="keyword">(){}<br />
</span><span class="default">?&gt;<br />
</span><br />
This prevents your script from running like a parse error, but is in fact a fatal run-time error (E_ERROR). Other fatal run-time errors will allow your script to apply the error_reporting, when it is executed before the <br />
error occurs (eg. put error_reporting on the first line of code.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="65884""></a>
  <div class="note">
   <strong class="user">Chris</strong>
   <a href="#65884" class="date">09-May-2006 10:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found some simple mistakes in the functions I posted yesterday, so here are the corrected versions.<br />
And a good advice: never code in the middle of the night ;)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">error2string</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$level_names </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_ERROR </span><span class="keyword">=&gt; </span><span class="string">'E_ERROR'</span><span class="keyword">, </span><span class="default">E_WARNING </span><span class="keyword">=&gt; </span><span class="string">'E_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_PARSE </span><span class="keyword">=&gt; </span><span class="string">'E_PARSE'</span><span class="keyword">, </span><span class="default">E_NOTICE </span><span class="keyword">=&gt; </span><span class="string">'E_NOTICE'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_CORE_ERROR </span><span class="keyword">=&gt; </span><span class="string">'E_CORE_ERROR'</span><span class="keyword">, </span><span class="default">E_CORE_WARNING </span><span class="keyword">=&gt; </span><span class="string">'E_CORE_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_COMPILE_ERROR </span><span class="keyword">=&gt; </span><span class="string">'E_COMPILE_ERROR'</span><span class="keyword">, </span><span class="default">E_COMPILE_WARNING </span><span class="keyword">=&gt; </span><span class="string">'E_COMPILE_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_USER_ERROR </span><span class="keyword">=&gt; </span><span class="string">'E_USER_ERROR'</span><span class="keyword">, </span><span class="default">E_USER_WARNING </span><span class="keyword">=&gt; </span><span class="string">'E_USER_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_USER_NOTICE </span><span class="keyword">=&gt; </span><span class="string">'E_USER_NOTICE' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'E_STRICT'</span><span class="keyword">)) </span><span class="default">$level_names</span><span class="keyword">[</span><span class="default">E_STRICT</span><span class="keyword">]=</span><span class="string">'E_STRICT'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$levels</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; if((</span><span class="default">$value</span><span class="keyword">&amp;</span><span class="default">E_ALL</span><span class="keyword">)==</span><span class="default">E_ALL</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$levels</span><span class="keyword">[]=</span><span class="string">'E_ALL'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">&amp;=~</span><span class="default">E_ALL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$level_names </span><span class="keyword">as </span><span class="default">$level</span><span class="keyword">=&gt;</span><span class="default">$name</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if((</span><span class="default">$value</span><span class="keyword">&amp;</span><span class="default">$level</span><span class="keyword">)==</span><span class="default">$level</span><span class="keyword">) </span><span class="default">$levels</span><span class="keyword">[]=</span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">' | '</span><span class="keyword">,</span><span class="default">$levels</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">string2error</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$level_names </span><span class="keyword">= array( </span><span class="string">'E_ERROR'</span><span class="keyword">, </span><span class="string">'E_WARNING'</span><span class="keyword">, </span><span class="string">'E_PARSE'</span><span class="keyword">, </span><span class="string">'E_NOTICE'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'E_CORE_ERROR'</span><span class="keyword">, </span><span class="string">'E_CORE_WARNING'</span><span class="keyword">, </span><span class="string">'E_COMPILE_ERROR'</span><span class="keyword">, </span><span class="string">'E_COMPILE_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'E_USER_ERROR'</span><span class="keyword">, </span><span class="string">'E_USER_WARNING'</span><span class="keyword">, </span><span class="string">'E_USER_NOTICE'</span><span class="keyword">, </span><span class="string">'E_ALL' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'E_STRICT'</span><span class="keyword">)) </span><span class="default">$level_names</span><span class="keyword">[]=</span><span class="string">'E_STRICT'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$levels</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$levels </span><span class="keyword">as </span><span class="default">$level</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$level</span><span class="keyword">=</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">)) </span><span class="default">$value</span><span class="keyword">|=(int)</span><span class="default">constant</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$value</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64060""></a>
  <div class="note">
   <strong class="user">dave at davidhbrown dot us</strong>
   <a href="#64060" class="date">06-Apr-2006 05:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The example of E_ALL ^ E_NOTICE is a 'bit' confusing for those of us not wholly conversant with bitwise operators.<br />
<br />
If you wish to remove notices from the current level, whatever that unknown level might be, use &amp; ~ instead:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//....<br />
</span><span class="default">$errorlevel</span><span class="keyword">=</span><span class="default">error_reporting</span><span class="keyword">();<br />
</span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">$errorlevel </span><span class="keyword">&amp; ~</span><span class="default">E_NOTICE</span><span class="keyword">);<br />
</span><span class="comment">//...code that generates notices<br />
</span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">$errorlevel</span><span class="keyword">);<br />
</span><span class="comment">//...<br />
</span><span class="default">?&gt;<br />
</span><br />
^ is the xor (bit flipping) operator and would actually turn notices *on* if they were previously off (in the error level on its left). It works in the example because E_ALL is guaranteed to have the bit for E_NOTICE set, so when ^ flips that bit, it is in fact turned off. &amp; ~ (and not) will always turn off the bits specified by the right-hand parameter, whether or not they were on or off.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55985""></a>
  <div class="note">
   <strong class="user">DarkGool</strong>
   <a href="#55985" class="date">19-Aug-2005 07:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In phpinfo() error reporting level display like a bit (such as 4095)
<br />

<br />
Maybe it is a simply method to understand what a level set on your host
<br />
if you are not have access to php.ini file
<br />

<br />
<span class="default">&lt;?php
<br />
$bit </span><span class="keyword">= </span><span class="default">ini_get</span><span class="keyword">(</span><span class="string">'error_reporting'</span><span class="keyword">);
<br />
while (</span><span class="default">$bit </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$bit</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">* </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">), </span><span class="default">$n</span><span class="keyword">++) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res</span><span class="keyword">[] = </span><span class="default">$end</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bit </span><span class="keyword">= </span><span class="default">$bit </span><span class="keyword">- </span><span class="default">$end</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
In $res you will have all constants of error reporting
<br />
$res[]=int(16) // E_CORE_ERROR 
<br />
$res[]=int(8)&nbsp; &nbsp; // E_NOTICE 
<br />
...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55035""></a>
  <div class="note">
   <strong class="user">fredrik at demomusic dot nu</strong>
   <a href="#55035" class="date">23-Jul-2005 01:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Remember that the error_reporting value is an integer, not a string ie "E_ALL &amp; ~E_NOTICE". 
<br />

<br />
This is very useful to remember when setting error_reporting levels in httpd.conf:
<br />

<br />
Use the table above or: 
<br />

<br />
<span class="default">&lt;?php
<br />
ini_set</span><span class="keyword">(</span><span class="string">"error_reporting"</span><span class="keyword">, </span><span class="default">E_YOUR_ERROR_LEVEL</span><span class="keyword">);
<br />
echo </span><span class="default">ini_get</span><span class="keyword">(</span><span class="string">"error_reporting"</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
To get the appropriate integer for your error-level. Then use:
<br />

<br />
php_admin_value error_reporting YOUR_INT
<br />

<br />
in httpd.conf
<br />

<br />
I want to share this rather straightforward tip as it is rather annoying for new php users trying to understand why things are not working when the error-level is set to (int) "E_ALL" = 0...
<br />

<br />
Maybe the PHP-developers should make ie error_reporting("E_ALL"); output a E_NOTICE informative message about the mistake?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50237""></a>
  <div class="note">
   <strong class="user">phpfanat at yandex dot ru</strong>
   <a href="#50237" class="date">22-Feb-2005 06:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you get a weird mysql warnings like "Warning: mysql_query() [<a href="http://www.mysql.com/doc]: Your query requires a full tablescan..." rel="nofollow" target="_blank">http://www.mysql.com/doc]: Your query requires a full tablescan...</a>", don't look for error_reporting settings - it's set in php.ini.<br />
You can turn it off with<br />
ini_set("mysql.trace_mode","Off");<br />
in your script<br />
<br />
And, as of my opinion, it should be NOTICE, not WARNING level.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50228""></a>
  <div class="note">
   <strong class="user">vdephily at bluemetrix dot com</strong>
   <a href="#50228" class="date">22-Feb-2005 12:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that E_NOTICE will warn you about uninitialized variables, but assigning a key/value pair counts as initialization, and will not trigger any error :<br />
<span class="default">&lt;?php<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="default">$bar</span><span class="keyword">; </span><span class="comment">//notice : $bar uninitialized<br />
<br />
</span><span class="default">$bar</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">] = </span><span class="string">'hello'</span><span class="keyword">; </span><span class="comment">// no notice, although $bar itself has never been initialized (with "$bar = array()" for example)<br />
<br />
</span><span class="default">$bar </span><span class="keyword">= array(</span><span class="string">'foobar' </span><span class="keyword">=&gt; </span><span class="string">'barfoo'</span><span class="keyword">);<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="default">$bar</span><span class="keyword">[</span><span class="string">'foobar'</span><span class="keyword">] </span><span class="comment">// ok<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="default">$bar</span><span class="keyword">[</span><span class="string">'nope'</span><span class="keyword">] </span><span class="comment">// notice : no such index<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48147""></a>
  <div class="note">
   <strong class="user">Fernando Piancastelli</strong>
   <a href="#48147" class="date">13-Dec-2004 10:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The error_reporting() function won't be effective if your display_errors directive in php.ini is set to "Off", regardless of level reporting you set. I had to set<br />
<br />
display_errors = On<br />
error_reporting = ~E_ALL<br />
<br />
to keep no error reporting as default, but be able to change error reporting level in my scripts.<br />
I'm using PHP 4.3.9 and Apache 2.0.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45466""></a>
  <div class="note">
   <strong class="user">ferozzahid [at] usa [dot] com</strong>
   <a href="#45466" class="date">08-Sep-2004 01:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To be enable to switch between error_reporting during development and release phases, one can define say 'php_error_reporting' in the main configuration file (ini like file: no PHP) for the application as:
<br />

<br />
# config.ini
<br />
# PHP error reporting. supported values are given below.
<br />
# 0 - Turn off all error reporting
<br />
# 1 - Running errors
<br />
# 2 - Running errors + notices
<br />
# 3 - All errors except notices and warnings
<br />
# 4 - All errors except notices
<br />
# 5 - All errors
<br />

<br />
php_error_reporting=4
<br />

<br />
# config.ini ends
<br />

<br />
Setting error_reporting in PHP files would be something like the code below, assuming the function getinivar() returns the variable value from the configuration file.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// setting PHP error reporting
<br />
</span><span class="keyword">switch(</span><span class="default">getinivar</span><span class="keyword">(</span><span class="string">'php_error_reporting'</span><span class="keyword">)) {
<br />
case </span><span class="default">0</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">); break;
<br />
case </span><span class="default">1</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ERROR </span><span class="keyword">| </span><span class="default">E_WARNING </span><span class="keyword">| </span><span class="default">E_PARSE</span><span class="keyword">); break;
<br />
case </span><span class="default">2</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ERROR </span><span class="keyword">| </span><span class="default">E_WARNING </span><span class="keyword">| </span><span class="default">E_PARSE </span><span class="keyword">| </span><span class="default">E_NOTICE</span><span class="keyword">); break;
<br />
case </span><span class="default">3</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL </span><span class="keyword">^ (</span><span class="default">E_NOTICE </span><span class="keyword">| </span><span class="default">E_WARNING</span><span class="keyword">)); break;
<br />
case </span><span class="default">4</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL </span><span class="keyword">^ </span><span class="default">E_NOTICE</span><span class="keyword">); break;
<br />
case </span><span class="default">5</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">); break;
<br />
default:
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Feroz Zahid.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="8866""></a>
  <div class="note">
   <strong class="user">j dot schriver at vindiou dot com</strong>
   <a href="#8866" class="date">03-Oct-2000 08:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
error_reporting() has no effect if you have defined your own error handler with set_error_handler()
<br />

<br />
[Editor's Note: This is not quite accurate.
<br />

<br />
E_ERROR, E_PARSE, E_CORE_ERROR, E_CORE_WARNING, E_COMPILE_ERROR and E_COMPILE_WARNING error levels will be handled as per the error_reporting settings.
<br />

<br />
All other levels of errors will be passed to the custom error handler defined by set_error_handler().
<br />

<br />
Zeev Suraski suggests that a simple way to use the defined levels of error reporting with your custom error handlers is to add the following line to the top of your error handling function:
<br />

<br />
if (!($type &amp; error_reporting())) return;
<br />

<br />
&nbsp;-zak@php.net]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="881""></a>
  <div class="note">
   <strong class="user">webmaster at l-i-e dot com</strong>
   <a href="#881" class="date">21-May-1999 11:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editor's Note: E_ALL will contain the result of OR'ing all of the applicable error constants together. For PHP 3, this will be the first 4 E_xxx constants.&nbsp; For PHP 4, this will be all constants. ]
<br />

<br />
There is also an E_ALL which is the first 4 E_xxx added up for you...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
