<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>检查数组中是否存在某个值</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.extract.html">? extract</a></li>
      <li style="float: right;"><a href="function.key-exists.html">key_exists ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>检查数组中是否存在某个值</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.in-array" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">in_array</h1>
    <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">in_array</span> &mdash; <span class="dc-title">检查数组中是否存在某个值</span></p>

   </div>
 <div class="refsect1 description" id="refsect1-function.in-array-description">
  <h3 class="title">说明</h3>
    <div class="methodsynopsis dc-description">
     <span class="type">bool</span> <span class="methodname"><strong>in_array</strong></span>
      ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$needle</code></span>
     , <span class="methodparam"><span class="type">array</span> <code class="parameter">$haystack</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$strict</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>
    ] )</div>

    <p class="para rdfs-comment">
     在 <code class="parameter">haystack</code> 中搜索
     <code class="parameter">needle</code>，如果没有设置         <code class="parameter">strict</code> 则使用宽松的比较。
    </p>
   </div>

 <div class="refsect1 parameters" id="refsect1-function.in-array-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">needle</code></dt>

     <dd>

      <p class="para">
       待搜索的值。
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        如果 <code class="parameter">needle</code> 是字符串，则比较是区分大小写的。
       </p>
      </p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">haystack</code></dt>

     <dd>

      <p class="para">
       这个数组。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">strict</code></dt>

     <dd>

      <p class="para">
        如果第三个参数 <code class="parameter">strict</code> 的值为
     <strong><code>TRUE</code></strong> 则 <span class="function"><strong>in_array()</strong></span> 函数还会检查
     <code class="parameter">needle</code> 的<a href="language.types.html" class="link">类型</a>是否和
     <code class="parameter">haystack</code> 中的相同。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.in-array-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">如果找到 <code class="parameter">needle</code> 则返回 <strong><code>TRUE</code></strong>，否则返回 <strong><code>FALSE</code></strong>。
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.in-array-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.2.0</td>
       <td>
        在 PHP 版本 4.2.0 之前，<code class="parameter">needle</code> 不允许是一个数组。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.in-array-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5423">
    <p><strong>Example #1 <span class="function"><strong>in_array()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$os&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"Mac"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"NT"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Irix"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Linux"</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"Irix"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$os</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Got&nbsp;Irix"</span><span style="color: #007700">;<br />}<br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"mac"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$os</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Got&nbsp;mac"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
      第二个条件失败，因为 <span class="function"><strong>in_array()</strong></span>
       是区分大小写的，所以以上程序显示为：
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Got Irix
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-5424">
    <p><strong>Example #2 <span class="function"><strong>in_array()</strong></span> 严格类型检查例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'1.10'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12.4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1.13</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'12.4'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'12.4'&nbsp;found&nbsp;with&nbsp;strict&nbsp;check\n"</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">1.13</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"1.13&nbsp;found&nbsp;with&nbsp;strict&nbsp;check\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
1.13 found with strict check
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-5425">
    <p><strong>Example #3 <span class="function"><strong>in_array()</strong></span> 中用数组作为 needle</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(array(</span><span style="color: #DD0000">'p'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'h'</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #DD0000">'p'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">'o'</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'p'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'h'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'ph'&nbsp;was&nbsp;found\n"</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'f'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'i'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'fi'&nbsp;was&nbsp;found\n"</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'o'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'o'&nbsp;was&nbsp;found\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
  &#039;ph&#039; was found
  &#039;o&#039; was found
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.in-array-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-search.html" class="function" rel="rdfs-seeAlso">array_search()</a> - 在数组中搜索给定的值，如果成功则返回相应的键名</span></li>
    <li class="member"><span class="function"><a href="function.isset.html" class="function" rel="rdfs-seeAlso">isset()</a> - 检测变量是否设置</span></li>
    <li class="member"><span class="function"><a href="function.array-key-exists.html" class="function" rel="rdfs-seeAlso">array_key_exists()</a> - 检查给定的键名或索引是否存在于数组中</span></li>
   </ul>
  </p>
 </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="118744""></a>
  <div class="note">
   <strong class="user">tjamadeira at gmail dot com</strong>
   <a href="#118744" class="date">30-Jan-2016 04:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is for search a needle in a multidimensional haystack:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* A special function for search in a multidimensional array a needle<br />
&nbsp;*<br />
&nbsp;* @param mixed needle The searched variable<br />
&nbsp;* @param array haystack The array where search<br />
&nbsp;* @param bool strict It is or it isn't a strict search?<br />
&nbsp;*<br />
&nbsp;* @return bool<br />
&nbsp;**/<br />
</span><span class="keyword">function </span><span class="default">in_array_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">){<br />
&nbsp;foreach(</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; if(</span><span class="default">in_array_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; if((</span><span class="default">$strict </span><span class="keyword">? </span><span class="default">$needle </span><span class="keyword">=== </span><span class="default">$item </span><span class="keyword">: </span><span class="default">$needle </span><span class="keyword">== </span><span class="default">$item</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;}<br />
&nbsp;return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118743""></a>
  <div class="note">
   <strong class="user">tjamadeira at gmail dot com</strong>
   <a href="#118743" class="date">30-Jan-2016 02:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A recursive function for a search in a multidimensional array using the in_array PHP function.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* A special function for search in a multidimensional array a needle<br />
&nbsp;*<br />
&nbsp;* This function uses many times the in_array PHP function<br />
&nbsp;*&nbsp; to search a needle in a multidimensional haystack.<br />
&nbsp;*<br />
&nbsp;* @param mixed needle The searched variable<br />
&nbsp;* @param array haystack The array where search<br />
&nbsp;* @param bool strict It is or it isn't a strict search?<br />
&nbsp;*<br />
&nbsp;* @return bool<br />
&nbsp;**/<br />
</span><span class="keyword">function </span><span class="default">in_array_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">){<br />
&nbsp; if(</span><span class="default">in_array</span><span class="keyword">(array(), </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">)){<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">in_array_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }else {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118268""></a>
  <div class="note">
   <strong class="user">splogamurugan at gmail dot com</strong>
   <a href="#118268" class="date">06-Nov-2015 08:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
var_dump(in_array('invalid', array(0,10,20))); <br />
The above code gives true since the 'invalid' is getting converted to 0 and checked against the array(0,10,20)<br />
<br />
but var_dump(in_array('invalid', array(10,20)));&nbsp; gives 'false' since 0 not there in the array</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118045""></a>
  <div class="note">
   <strong class="user">dazero0 dot ls at gmail dot com</strong>
   <a href="#118045" class="date">24-Sep-2015 07:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I would like to add something to beingmrkenny at gmail dot com comparison post. After debugging a system, i discovered a security issue in our system and his post helped me find the problem.<br />
<br />
In my additional testing i found out that not matter what you search for in an array, except for 0 and null, you get true as the result if the array contains true as the value.<br />
<br />
Examples as php code :<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= [</span><span class="string">'a'</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">, </span><span class="string">'x' </span><span class="keyword">=&gt; </span><span class="default">y</span><span class="keyword">];<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">25</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// true, one would expect false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'ggg'</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// true, one would expect false<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// false<br />
</span><span class="default">?&gt;</span> <br />
<br />
Such the best practice in our case is to use strict mode. Which was not so obvious.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117419""></a>
  <div class="note">
   <strong class="user">Kris Spencer</strong>
   <a href="#117419" class="date">09-Jun-2015 02:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if using in_array to evaluate a boolean in a _GET or _POST, be sure to put single quotes around your "haystack values" or you will get a false result.<br />
<br />
example of false/incorrect result:<br />
[whatever.php?var=1 -- $_GET['var'] is 1]<br />
<br />
if(!in_array($_GET['var'], array(0, 1), true)){<br />
&nbsp;&nbsp;&nbsp; echo 'not in array';<br />
}<br />
else{<br />
&nbsp;&nbsp;&nbsp; echo 'is in array';<br />
}<br />
<br />
output is "not in array" even though 1 === 1. Same is true without strict evaluation.<br />
<br />
example of correct evaluation/result:<br />
[whatever.php?var=1 -- $_GET['var'] is 1]<br />
<br />
if(!in_array($_GET['var'], array('0', '1'), true)){<br />
&nbsp;&nbsp;&nbsp; echo 'not in array';<br />
}<br />
else{<br />
&nbsp;&nbsp;&nbsp; echo 'is in array';<br />
}<br />
<br />
output is now correct; "is in array".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116580""></a>
  <div class="note">
   <strong class="user">Harry Willis</strong>
   <a href="#116580" class="date">24-Jan-2015 08:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Kelvin's case-insensitive in_arrayi is fine if you desire loose typing, but mapping strtolower onto the array will (attempt to) cast all array members to string. If you have an array of mixed types, and you wish to preserve the typing, the following will work:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">in_array_ci</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, array </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">) == </span><span class="string">'string' </span><span class="keyword">&amp;&amp; </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">) == </span><span class="string">'string'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">strcasecmp</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$element</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif (</span><span class="default">$strict</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$needle </span><span class="keyword">=== </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$needle </span><span class="keyword">== </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115821""></a>
  <div class="note">
   <strong class="user">Chaya Cooper</strong>
   <a href="#115821" class="date">30-Sep-2014 07:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To identify all instances of $needle when both $needle and $haystack are arrays, combine in_array() with a loop through the array&nbsp; of needles.<br />
<br />
I've posted a functional example of it here: <a href="http://sandbox.onlinephpfunctions.com/code/930385800c30595129cefb87cfa7eec9d69dce08" rel="nofollow" target="_blank">http://sandbox.onlinephpfunctions.com/code/930385800c30595129cefb87cfa7eec9d69dce08</a><br />
<br />
$needles = array('John', 'Alex');<br />
$haystack = array('John','Alexander','Kim', 'Michael');<br />
<br />
&nbsp;&nbsp;&nbsp; foreach ($needles as $needle) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Displays var name &amp; value currently searching for) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo '$needle: '.$needle;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (in_array($needle, $haystack) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo ', True; ';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo ', False; ';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
Result is:<br />
$needle: John, True; $needle: Alex, False;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115820""></a>
  <div class="note">
   <strong class="user">Chaya Cooper</strong>
   <a href="#115820" class="date">30-Sep-2014 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To identify all instances of $needle when both $needle and $haystack are arrays, combine in_array() with a loop through the array&nbsp; of needles.<br />
<br />
I've posted a functional example of it here: <a href="http://sandbox.onlinephpfunctions.com/code/930385800c30595129cefb87cfa7eec9d69dce08" rel="nofollow" target="_blank">http://sandbox.onlinephpfunctions.com/code/930385800c30595129cefb87cfa7eec9d69dce08</a><br />
<br />
$needles = array('John', 'Alex');<br />
$haystack = array('John','Alexander','Kim', 'Michael');<br />
<br />
&nbsp;&nbsp;&nbsp; foreach ($needles as $needle) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Displays var name &amp; value currently searching for) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo '$needle: '.$needle;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (in_array($needle, $haystack) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo ', True; ';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo ', False; ';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
Result is:<br />
$needle: John, True; $needle: Alex, False;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115033""></a>
  <div class="note">
   <strong class="user">i dot pinz1 at gmail dot com</strong>
   <a href="#115033" class="date">15-May-2014 08:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have noted some strange behavior of the in_array() function if you have a hash like<br />
$haystack=array (<br />
'123'=&gt;'some value',<br />
'0125'=&gt;'some value');<br />
<br />
If I test now:<br />
if (in_array('23',$haystack)) // here also TRUE is returned<br />
<br />
I switched instead to <br />
if(isset($haystack['23'])) // which return correct FALSE<br />
<br />
Maybe this helps others too.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114171""></a>
  <div class="note">
   <strong class="user">what loose checking means</strong>
   <a href="#114171" class="date">20-Jan-2014 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In a high-voted example, an array is given that contains, amongst other things, true, false and null, against which various variables are tested using in_array and loose checking.<br />
<br />
It impossible to receive false as a return value from in_array using loose checking if your arrays contains both the constants true and false. You might understandably trip over this (or the inverse - passing boolean true to check against an array of e.g. non-empty strings), but it's certainly not counter intuitive and makes perfect sense.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114140""></a>
  <div class="note">
   <strong class="user">manuel at sunred dot org</strong>
   <a href="#114140" class="date">16-Jan-2014 06:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are looking for a faster in_array function but still need the strict feature with which the type of element will be considered the following simple function might help you.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">fast_in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, array </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$strict </span><span class="keyword">!== </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$c</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] == </span><span class="default">$needle</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$c</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] === </span><span class="default">$needle</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114117""></a>
  <div class="note">
   <strong class="user">rolf dot dergham dot public at gmail dot com</strong>
   <a href="#114117" class="date">13-Jan-2014 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Watch out for this:<br />
<br />
&lt;?<br />
<br />
print_r( (int) in_array('hello',array( 0 =&gt; 0)) );<br />
<br />
?&gt;<br />
<br />
returns 1<br />
<br />
Yes, it seems that is_array thinks that a random string and 0 are the same thing.<br />
Excuse me, that's not loose checking, that's drunken logic.<br />
Or maybe I found a bug?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113035""></a>
  <div class="note">
   <strong class="user">Artur K</strong>
   <a href="#113035" class="date">21-Aug-2013 04:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As an addition to beingmrkennys note:<br />
<br />
<span class="default">&lt;?php<br />
<br />
var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'012'</span><span class="keyword">, array(</span><span class="string">'12'</span><span class="keyword">))); </span><span class="comment">//returns true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'012'</span><span class="keyword">, array(</span><span class="string">'12'</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">)); </span><span class="comment">//returns false<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Seems like PHP is making some cast. So use the strict parameter.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112884""></a>
  <div class="note">
   <strong class="user">Fabian S</strong>
   <a href="#112884" class="date">01-Aug-2013 11:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Robin's fast_in_array uses binary search, so the array has to be sorted before, using the regular sort function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112250""></a>
  <div class="note">
   <strong class="user">santi dot morel at gmail dot com</strong>
   <a href="#112250" class="date">23-May-2013 06:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
search in multidimensional array<br />
<br />
&nbsp;&nbsp;&nbsp; function in_multiarray($elem, $array) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($array as $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($value==$elem){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(is_array($value)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($this-&gt;in_multiarray($elem, $value))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112168""></a>
  <div class="note">
   <strong class="user">Valerchik</strong>
   <a href="#112168" class="date">13-May-2013 04:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware when using this function to validate user input:<br />
<br />
$a = array('0' =&gt; 'Opt 1', '1' =&gt; 'Opt 2', '2' =&gt; 'Opt 3');<br />
$v = 'sql injection';<br />
var_dump(in_array($v, array_keys($a)));<br />
<br />
This will result : true;<br />
<br />
array_keys($a) will cast array keys to int instead of string !<br />
then when in_array will compare it will cast&nbsp; 'sql injection' to int 0 !<br />
Beware of this!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111572""></a>
  <div class="note">
   <strong class="user">justinjohnmathews at gmail dot com</strong>
   <a href="#111572" class="date">05-Mar-2013 10:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think, "in_array" can be used with "range" function to check a number(dynamic value) is in between of other two numbers.<br />
<br />
<span class="default">&lt;?php <br />
&nbsp;&nbsp;&nbsp; $i </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">; </span><span class="comment">// Dynamic value&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">), </span><span class="default">$i</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">'Your number is in between of range array'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107721""></a>
  <div class="note">
   <strong class="user">janis dot janovskis at gmail dot com</strong>
   <a href="#107721" class="date">29-Feb-2012 08:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since sometimes in_array returns strange results - see notes above.<br />
I was able to find value in array by this quite a simple function;<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
* $find &lt;mixed&gt; value to find<br />
* $array&lt;array&gt; array to search in<br />
*/<br />
<br />
</span><span class="keyword">function </span><span class="default">_value_in_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$find</span><span class="keyword">){<br />
&nbsp;</span><span class="default">$exists </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)){<br />
&nbsp;&nbsp; return;<br />
}<br />
foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp; if(</span><span class="default">$find </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$exists </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
&nbsp; return </span><span class="default">$exists</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Note<br />
// You can't use wildcards and it does not check variable type<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106713""></a>
  <div class="note">
   <strong class="user">rajeevroy15 at gmail dot com dot com</strong>
   <a href="#106713" class="date">30-Nov-2011 01:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
is_array function checks only array only and giving incorrect result with multi-dimensional arrays. <br />
<br />
Here is a custom function which will give the solution to check Array or Object and Checking of multi-dimensional arrays and objects as well. <br />
<br />
<span class="default">&lt;?php <br />
<br />
</span><span class="keyword">function </span><span class="default">in_object</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">$obj</span><span class="keyword">){<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$val </span><span class="keyword">== </span><span class="string">""</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"in_object expects parameter 1 must not empty"</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$obj </span><span class="keyword">= (object)</span><span class="default">$obj</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$obj </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value </span><span class="keyword">== </span><span class="default">$val</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">in_object</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Usage&nbsp; : <br />
<span class="default">&lt;?php <br />
<br />
$array </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">=&gt;array(</span><span class="string">"x"</span><span class="keyword">, </span><span class="string">"y"</span><span class="keyword">=&gt;array(</span><span class="string">"p"</span><span class="keyword">, </span><span class="string">"q"</span><span class="keyword">=&gt;</span><span class="string">"r"</span><span class="keyword">)));<br />
<br />
if(</span><span class="default">in_object</span><span class="keyword">(</span><span class="string">"r"</span><span class="keyword">, </span><span class="default">$arrX</span><span class="keyword">)){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"r is there "</span><span class="keyword">;<br />
}else{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Its not there "</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106319""></a>
  <div class="note">
   <strong class="user">beingmrkenny at gmail dot com</strong>
   <a href="#106319" class="date">27-Oct-2011 12:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Loose checking returns some crazy, counter-intuitive results when used with certain arrays. It is completely correct behaviour, due to PHP's leniency on variable types, but in "real-life" is almost useless.<br />
<br />
The solution is to use the strict checking option.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Example array<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'egg' </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'cheese' </span><span class="keyword">=&gt; </span><span class="default">false</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'hair' </span><span class="keyword">=&gt; </span><span class="default">765</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'goblins' </span><span class="keyword">=&gt; </span><span class="default">null</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'ogres' </span><span class="keyword">=&gt; </span><span class="string">'no ogres allowed in this array'<br />
</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Loose checking -- return values are in comments<br />
<br />
// First three make sense, last four do not<br />
<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">765</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">763</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'egg'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'hhh'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(array(), </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
<br />
// Strict checking<br />
<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">765</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">763</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'egg'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'hhh'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">in_array</span><span class="keyword">(array(), </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105937""></a>
  <div class="note">
   <strong class="user">chris at axxis dot gr</strong>
   <a href="#105937" class="date">27-Sep-2011 04:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's funny how PHP has an in_array method, but not an in_object one. Here is a simple function which will check if a value can be found within an object.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="comment">// in_object method<br />
&nbsp; // to check if a value in an object exists.<br />
&nbsp; </span><span class="keyword">function </span><span class="default">in_object</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$object</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$object </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value</span><span class="keyword">==</span><span class="default">$item</span><span class="keyword">) return </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span>&nbsp; <br />
This is very useful if an object has been created dynamically (especially from external code, which you don't control, as in an application-plugin, CMS, etc), and you don't know the object's properties. <br />
The above function will return the property, so you will be able to use it in your code later on.<br />
<br />
Here is a very good basic example of how useful this function is!<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">class </span><span class="default">My_Class </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$key </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// As you can see, this is a dynamic class, its properties and values can be unknown...<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp; }<br />
<br />
&nbsp; function </span><span class="default">in_object</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$object</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$object </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value</span><span class="keyword">==</span><span class="default">$item</span><span class="keyword">) return </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; function </span><span class="default">manipulate_property</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$object</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$property </span><span class="keyword">= </span><span class="default">in_object</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$object</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// value found. I can now use this property.<br />
&nbsp;&nbsp; &nbsp;&nbsp; // I can simply echo'it (makes no sense, as I could instead simply echo "value")<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"&lt;br /&gt;I found the property holding this value: "</span><span class="keyword">.</span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">$property</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// or (here comes the good part)<br />
&nbsp;&nbsp; &nbsp;&nbsp; // change the property<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">$property </span><span class="keyword">= </span><span class="string">"This is a changed value!"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;br /&gt;I changed the value to: "</span><span class="keyword">.</span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">$property</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// or return it for use in my program flow<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$property</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">"Value NOT FOUND!&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; </span><span class="comment">// imagine if some function creates the class conditionally...<br />
&nbsp; </span><span class="keyword">if ( </span><span class="default">1 </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$class </span><span class="keyword">= new </span><span class="default">My_Class</span><span class="keyword">(</span><span class="string">"property"</span><span class="keyword">,</span><span class="string">"Unchanged Value"</span><span class="keyword">);<br />
&nbsp; } else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$class </span><span class="keyword">= new </span><span class="default">My_Class</span><span class="keyword">(</span><span class="string">"property"</span><span class="keyword">,</span><span class="string">"Some Other Value"</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; </span><span class="comment">// now let's check if the value we want exists, and if yes, let's have some fun with it...<br />
&nbsp; </span><span class="default">$property </span><span class="keyword">= </span><span class="default">manipulate_property</span><span class="keyword">(</span><span class="string">"Unchanged Value"</span><span class="keyword">,</span><span class="default">$class</span><span class="keyword">);<br />
&nbsp; if (</span><span class="default">$property</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$my_variable </span><span class="keyword">= </span><span class="default">$class</span><span class="keyword">-&gt;</span><span class="default">$property</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"&lt;br /&gt;This is my variable now:"</span><span class="keyword">.</span><span class="default">$my_variable</span><span class="keyword">; <br />
&nbsp; } else </span><span class="default">$my_variable </span><span class="keyword">= </span><span class="default">$some_other_variable</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Just run it to see for yourself!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105251""></a>
  <div class="note">
   <strong class="user">Lea Hayes</strong>
   <a href="#105251" class="date">05-Aug-2011 02:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Determine whether an object field matches needle.
<br />

<br />
Usage Example:
<br />
---------------
<br />

<br />
<span class="default">&lt;?php
<br />
$arr </span><span class="keyword">= array( new </span><span class="default">stdClass</span><span class="keyword">(), new </span><span class="default">stdClass</span><span class="keyword">() );
<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">colour </span><span class="keyword">= </span><span class="string">'red'</span><span class="keyword">;
<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]-&gt;</span><span class="default">colour </span><span class="keyword">= </span><span class="string">'green'</span><span class="keyword">;
<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]-&gt;</span><span class="default">state&nbsp; </span><span class="keyword">= </span><span class="string">'enabled'</span><span class="keyword">;
<br />

<br />
if (</span><span class="default">in_array_field</span><span class="keyword">(</span><span class="string">'red'</span><span class="keyword">, </span><span class="string">'colour'</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">))
<br />
&nbsp;&nbsp; echo </span><span class="string">'Item exists with colour red.'</span><span class="keyword">;
<br />
if (</span><span class="default">in_array_field</span><span class="keyword">(</span><span class="string">'magenta'</span><span class="keyword">, </span><span class="string">'colour'</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">))
<br />
&nbsp;&nbsp; echo </span><span class="string">'Item exists with colour magenta.'</span><span class="keyword">;
<br />
if (</span><span class="default">in_array_field</span><span class="keyword">(</span><span class="string">'enabled'</span><span class="keyword">, </span><span class="string">'state'</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">))
<br />
&nbsp;&nbsp; echo </span><span class="string">'Item exists with enabled state.'</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Output:
<br />
--------
<br />
Item exists with colour red.
<br />
Item exists with enabled state.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">in_array_field</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$needle_field</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$strict</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">$needle_field</span><span class="keyword">) &amp;&amp; </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">$needle_field </span><span class="keyword">=== </span><span class="default">$needle</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">$needle_field</span><span class="keyword">) &amp;&amp; </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">$needle_field </span><span class="keyword">== </span><span class="default">$needle</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105178""></a>
  <div class="note">
   <strong class="user">Ray dot Paseur at Gmail dot com</strong>
   <a href="#105178" class="date">01-Aug-2011 06:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be VERY careful about testing for strings in arrays that might also contain integers.&nbsp; In this snippet, the range() function turns the numeric values into integers, and loose data typing finds a match with zero.
<br />

<br />
Outputs:
<br />
PHP in_array() FOUND @#%?!! 
<br />
@#%?!! == 0 AT POSITION 26 BECAUSE OF LOOSE TYPE
<br />

<br />
<span class="default">&lt;?php </span><span class="comment">// RAY_temp_in_array.php
<br />
</span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);
<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;
<br />

<br />
</span><span class="comment">// THE ALLOWABLE SELECTIONS
<br />
</span><span class="default">$alpha </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="string">'A'</span><span class="keyword">,</span><span class="string">'Z'</span><span class="keyword">);
<br />
</span><span class="default">$alpha </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$alpha</span><span class="keyword">, </span><span class="default">range</span><span class="keyword">(</span><span class="string">'0'</span><span class="keyword">, </span><span class="string">'9'</span><span class="keyword">));
<br />

<br />
</span><span class="comment">// LOOK FOR A BOGUS SELECTION
<br />
</span><span class="default">$str </span><span class="keyword">= </span><span class="string">'@#%?!!'</span><span class="keyword">;
<br />
if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$alpha</span><span class="keyword">))
<br />
{
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"PHP in_array() FOUND </span><span class="default">$str</span><span class="string"> "</span><span class="keyword">;
<br />
}
<br />
else
<br />
{
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$str</span><span class="string"> IS NOT IN ARRAY"</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="comment">// SEARCH THE ARRAY FOR THE KEY OF THE STRING
<br />
</span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$alpha</span><span class="keyword">);
<br />
echo </span><span class="string">"&lt;br/&gt;</span><span class="default">$str</span><span class="string"> == </span><span class="default">$alpha</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]</span><span class="string"> AT POSITION </span><span class="default">$key</span><span class="string">"</span><span class="keyword">;
<br />

<br />
if (</span><span class="default">$str </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) echo </span><span class="string">" BECAUSE OF LOOSE TYPE"</span><span class="keyword">;
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104501""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#104501" class="date">18-Jun-2011 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
known issue<br />
when checking a string vs a integer<br />
<br />
$testarray = array(0,1,2,3,4);<br />
<br />
in_array("bla", $a) returns true<br />
in_array("bla6", $a) returns true<br />
in_array("6bla", $a) returns false <br />
<br />
"bla" as a integer value returns the number zero<br />
"bla6" as a integer value returns the number zero<br />
&nbsp;"6bla" returns the number six as its the only vaild part of that<br />
<br />
if you checking for unknown types eg string vs integer <br />
then you would need the strict value to be true.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102449""></a>
  <div class="note">
   <strong class="user">Joris Meijer</strong>
   <a href="#102449" class="date">15-Feb-2011 02:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A good option if your array contains objects and you wish to recursively search it (eg. with in_arrayr), is to use json_encode and json_decode first:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array </span><span class="keyword">= </span><span class="default">json_decode</span><span class="keyword">(</span><span class="default">json_encode</span><span class="keyword">(</span><span class="default">$array_with_objects</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
In my opinion this is more elegant than a recursive in_array function which converts the objects into arrays while searching for a key and/or value.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102208""></a>
  <div class="note">
   <strong class="user">user at NOSPAM at fullservicead dot com</strong>
   <a href="#102208" class="date">02-Feb-2011 05:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After reading all other notes about performance, <br />
I made a little test. <br />
<br />
fill an array in a loop with random characters, <br />
shuffle it <br />
search on it using 4 methods.<br />
<br />
I tried to have haystack as array and string; hence the strstr.<br />
<br />
I tried it on 9, 99, 999, 9999 elements and the results<br />
remain in the same order: <br />
<br />
9999 elements<br />
<br />
Function :&nbsp; execution time in miliseconds. <br />
<br />
strstr : 1.2994079589844<br />
fast_in_array : 1.0655579566956<br />
isset : 0.99128198623657 //Winner, used from another note here.<br />
in_array : 2.9410798549652 <br />
<br />
One last detail, I moved my functions around in the script to make sure there was no memory caching, reiteration op or whatever, it's all the same. in_array is the slowest and the use of isset($array[$NEEDLE]) the fastest.<br />
<br />
I hope it saves somebody else the trouble.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101976""></a>
  <div class="note">
   <strong class="user">bosdilooda at gmail dot com</strong>
   <a href="#101976" class="date">21-Jan-2011 09:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There should be a big red warning sign here because this function behaves in mysterious ways...<br />
<br />
let haystack be an array of integers:<br />
<br />
$arr = array(1,2,3,4,5);<br />
<br />
let $needle be a string of "2foobar"<br />
<br />
then<br />
<br />
in_array($needle,$arr)<br />
<br />
will return true because string ("2foobar") evaluates to integer (2).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99676""></a>
  <div class="note">
   <strong class="user">ctulek at gmail dot com</strong>
   <a href="#99676" class="date">30-Aug-2010 08:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have an array like:<br />
$arr = array(0,1,2,3,4,5);<br />
<br />
in_array(NULL, $arr) returns true because you have 0 in your array. That is, in_array does not use === for equal check.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98043""></a>
  <div class="note">
   <strong class="user">Svinto</strong>
   <a href="#98043" class="date">22-May-2010 08:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in_array() will always return true if a value in the haystack is of type bool(true).<br />
This always hold except when the needle is of type bool(false).<br />
<br />
Code:<br />
<span class="default">&lt;?php <br />
$haystack </span><span class="keyword">= array(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$needle </span><span class="keyword">= </span><span class="string">"anything except bool(false)"</span><span class="keyword">;<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">); </span><span class="comment">#Will always be true<br />
</span><span class="default">?&gt;<br />
</span><br />
Solution:<br />
run in_array() with strict set to true.<br />
<span class="default">&lt;?php<br />
in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Tested on PHP 5.2.6</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97465""></a>
  <div class="note">
   <strong class="user">bogdan AT bogdanconstantinescu DOT com</strong>
   <a href="#97465" class="date">21-Apr-2010 05:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you found yourself in need of a multidimensional array in_array like function you can use the one below. Works in a fair amount of time<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">in_multiarray</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bottom </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">$bottom </span><span class="keyword">&lt;= </span><span class="default">$top</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$bottom</span><span class="keyword">] == </span><span class="default">$elem</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$bottom</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">in_multiarray</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">, (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$bottom</span><span class="keyword">])))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bottom</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96198""></a>
  <div class="note">
   <strong class="user">jv at vip dot ie</strong>
   <a href="#96198" class="date">14-Feb-2010 01:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're working with very large 2 dimensional arrays (eg 20,000+ elements) it's much faster to do this...
<br />

<br />
<span class="default">&lt;?php
<br />
$needle </span><span class="keyword">= </span><span class="string">'test for this'</span><span class="keyword">;
<br />

<br />
</span><span class="default">$flipped_haystack </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);
<br />

<br />
if ( isset(</span><span class="default">$flipped_haystack</span><span class="keyword">[</span><span class="default">$needle</span><span class="keyword">]) )
<br />
{
<br />
&nbsp; print </span><span class="string">"Yes it's there!"</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
I had a script that went from 30+ seconds down to 2 seconds (when hunting through a 50,000 element array 50,000 times).
<br />

<br />
Remember to only flip it once at the beginning of your code though!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94885""></a>
  <div class="note">
   <strong class="user">natan dot volkovich at gmail dot com</strong>
   <a href="#94885" class="date">30-Nov-2009 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're trying to find out whether or not at least a single value of an array matches a value in your haystack then use "array_intersect" instead of "in_array".
<br />

<br />
<span class="default">&lt;?php
<br />
$needle </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);
<br />
</span><span class="default">$haystack </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"in_array: "</span><span class="keyword">.(int)</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">); </span><span class="comment">// returns 0
<br />
</span><span class="keyword">echo </span><span class="string">"array_intersect: "</span><span class="keyword">.(int)</span><span class="default">array_intersect</span><span class="keyword">((array)</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">); </span><span class="comment">// returns 1
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93880""></a>
  <div class="note">
   <strong class="user">thomas dot sahlin at gmail dot com</strong>
   <a href="#93880" class="date">05-Oct-2009 09:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're creating an array yourself and then using in_array to search it, consider setting the keys of the array and using isset instead since it's much faster.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$slow </span><span class="keyword">= array(</span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'orange'</span><span class="keyword">);<br />
<br />
if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'banana'</span><span class="keyword">, </span><span class="default">$slow</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="string">'Found it!'</span><span class="keyword">);<br />
<br />
</span><span class="default">$fast </span><span class="keyword">= array(</span><span class="string">'apple' </span><span class="keyword">=&gt; </span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'banana' </span><span class="keyword">=&gt; </span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'orange' </span><span class="keyword">=&gt; </span><span class="string">'orange'</span><span class="keyword">);<br />
<br />
if (isset(</span><span class="default">$fast</span><span class="keyword">[</span><span class="string">'banana'</span><span class="keyword">]))<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="string">'Found it!'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92460""></a>
  <div class="note">
   <strong class="user">robin at robinnixon dot com</strong>
   <a href="#92460" class="date">25-Jul-2009 09:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is five times faster than in_array(). It uses a binary search and should be able to be used as a direct replacement:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">fast_in_array</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)
<br />
{
<br />
&nbsp;&nbsp; </span><span class="default">$top </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) -</span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; </span><span class="default">$bot </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp; while(</span><span class="default">$top </span><span class="keyword">&gt;= </span><span class="default">$bot</span><span class="keyword">)
<br />
&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$p </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$top </span><span class="keyword">+ </span><span class="default">$bot</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$p</span><span class="keyword">] &lt; </span><span class="default">$elem</span><span class="keyword">) </span><span class="default">$bot </span><span class="keyword">= </span><span class="default">$p </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; elseif (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$p</span><span class="keyword">] &gt; </span><span class="default">$elem</span><span class="keyword">) </span><span class="default">$top </span><span class="keyword">= </span><span class="default">$p </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; else return </span><span class="default">TRUE</span><span class="keyword">;
<br />
&nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; 
<br />
&nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91911""></a>
  <div class="note">
   <strong class="user">john at dwarven dot co dot uk</strong>
   <a href="#91911" class="date">01-Jul-2009 01:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just struggled for a while with this, although it may be obvious to others.<br />
<br />
If you have an array with mixed type content such as:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;$ary </span><span class="keyword">= array (<br />
&nbsp;&nbsp; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp; </span><span class="string">"John"</span><span class="keyword">,<br />
&nbsp;&nbsp; </span><span class="default">0</span><span class="keyword">,<br />
&nbsp;&nbsp; </span><span class="string">"Foo"</span><span class="keyword">,<br />
&nbsp;&nbsp; </span><span class="string">"Bar"<br />
&nbsp;</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
be sure to use the strict checking when searching for a string in the array, or it will match on the 0 int in that array and give a true for all values of needle that are strings strings.<br />
<br />
<span class="default">&lt;?php<br />
<br />
var_dump</span><span class="keyword">( </span><span class="default">in_array</span><span class="keyword">( </span><span class="default">2</span><span class="keyword">, </span><span class="default">$ary </span><span class="keyword">) );<br />
<br />
</span><span class="comment">// outputs FALSE<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">in_array</span><span class="keyword">( </span><span class="string">'Not in there'</span><span class="keyword">, </span><span class="default">$ary </span><span class="keyword">) );<br />
<br />
</span><span class="comment">// outputs TRUE<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">in_array</span><span class="keyword">( </span><span class="string">'Not in there'</span><span class="keyword">, </span><span class="default">$ary</span><span class="keyword">, </span><span class="default">TRUE </span><span class="keyword">) );<br />
<br />
</span><span class="comment">// outputs FALSE<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89469""></a>
  <div class="note">
   <strong class="user">Thingmand</strong>
   <a href="#89469" class="date">09-Mar-2009 08:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little function to use an array of needles:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_in_array</span><span class="keyword">(</span><span class="default">$needles</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {
<br />

<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$needles </span><span class="keyword">as </span><span class="default">$needle</span><span class="keyword">) {
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) ) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89449""></a>
  <div class="note">
   <strong class="user">brouwer dot p at gmail dot com</strong>
   <a href="#89449" class="date">08-Mar-2009 11:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If made a in_array function that checks if the specified key matches. It works recursivly so it doesn't matter how deep your input array is.<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">myInArray</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//loop through the array<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">//if $val is an array cal myInArray again with $val as array input<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">myInArray</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$key</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">//else check if the given key has $value as value<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]==</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89256""></a>
  <div class="note">
   <strong class="user">Kelvin J</strong>
   <a href="#89256" class="date">28-Feb-2009 02:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For a case-insensitive in_array(), you can use array_map() to avoid a foreach statement, e.g.:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">in_arrayi</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">), </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'strtolower'</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88922""></a>
  <div class="note">
   <strong class="user">selmand [at] gmail.com</strong>
   <a href="#88922" class="date">13-Feb-2009 01:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Removes same text with in_array in a string.<br />
<br />
&lt;?<br />
<br />
$hizmet="aeg,akai,aeg,arcelik,aeg,arcelik,klima,kombi";<br />
<br />
// alots of same stings<br />
<br />
$x=explode(",",$hizmet);<br />
<br />
$t= array();<br />
$k=0;<br />
for($i=0;$i&lt;sizeof($x);$i++){ // this for remove its<br />
&nbsp;&nbsp;&nbsp; //echo $x[$i]."\n";<br />
&nbsp;&nbsp;&nbsp; if(!in_array($x[$i],$t))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $t[$k]=$x[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $k++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
for($i=0;$i&lt;sizeof($t);$i++){ // rebuilding $hizmet strings.<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; echo $t[$i].",";<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88554""></a>
  <div class="note">
   <strong class="user">soxred93 at gmail dot com</strong>
   <a href="#88554" class="date">28-Jan-2009 10:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a simple little function I wrote that is a case insensitive version of in_array():
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">in_arrayi</span><span class="keyword">( </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack </span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$value </span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) == </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">$needle </span><span class="keyword">) ) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$found</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88376""></a>
  <div class="note">
   <strong class="user">jordigirones at gmail dot com</strong>
   <a href="#88376" class="date">21-Jan-2009 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
function similar to in_array but implements LIKE '&lt;string&gt;%'
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">in_array_like</span><span class="keyword">(</span><span class="default">$referencia</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$ref</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$referencia</span><span class="keyword">,</span><span class="default">$ref</span><span class="keyword">)){&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88260""></a>
  <div class="note">
   <strong class="user">rhill at xenu-directory dot net</strong>
   <a href="#88260" class="date">17-Jan-2009 10:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found out that in_array will *not* find an associative array within a haystack of associative arrays in strict mode if the keys were not generated in the *same order*:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$needle </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'fruit'</span><span class="keyword">=&gt;</span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'vegetable'</span><span class="keyword">=&gt;</span><span class="string">'carrot'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
<br />
</span><span class="default">$haystack </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'vegetable'</span><span class="keyword">=&gt;</span><span class="string">'carrot'</span><span class="keyword">, </span><span class="string">'fruit'</span><span class="keyword">=&gt;</span><span class="string">'banana'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'fruit'</span><span class="keyword">=&gt;</span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'vegetable'</span><span class="keyword">=&gt;</span><span class="string">'celery'</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; );<br />
<br />
echo </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">) ? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">;<br />
</span><span class="comment">// Output is 'false'<br />
<br />
</span><span class="keyword">echo </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) ? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">;<br />
</span><span class="comment">// Output is 'true'<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
I had wrongly assumed the order of the items in an associative array were irrelevant, regardless of whether 'strict' is TRUE or FALSE: The order is irrelevant *only* if not in strict mode.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86695""></a>
  <div class="note">
   <strong class="user">james dot ellis at gmail dot com</strong>
   <a href="#86695" class="date">30-Oct-2008 06:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be aware of oddities when dealing with 0 (zero) values in an array...<br />
<br />
This script:<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="string">'testing'</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="string">'name'</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="comment">//this will return true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">));<br />
</span><span class="comment">//this will return false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
It seems in non strict mode, the 0 value in the array is evaluating to boolean FALSE and in_array returns TRUE. Use strict mode to work around this peculiarity.<br />
This only seems to occur when there is an integer 0 in the array. A string '0' will return FALSE for the first test above (at least in 5.2.6).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85749""></a>
  <div class="note">
   <strong class="user">james dot randell at hotmail dot co dot uk</strong>
   <a href="#85749" class="date">16-Sep-2008 11:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Small method i built for my Array module, after looking through the manual I wanted a small compact way of making a wildcard search through an arrays values, and returning only those that it found.
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**
<br />
&nbsp;&nbsp; &nbsp; * Takes a needle and haystack (just like in_array()) and does a wildcard search on it's values.
<br />
&nbsp;&nbsp; &nbsp; *
<br />
&nbsp;&nbsp; &nbsp; * @param&nbsp; &nbsp; string&nbsp; &nbsp; &nbsp; &nbsp; $string&nbsp; &nbsp; &nbsp; &nbsp; Needle to find
<br />
&nbsp;&nbsp; &nbsp; * @param&nbsp; &nbsp; array&nbsp; &nbsp; &nbsp; &nbsp; $array&nbsp; &nbsp; &nbsp; &nbsp; Haystack to look through
<br />
&nbsp;&nbsp; &nbsp; * @result&nbsp; &nbsp; array&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Returns the elements that the $string was found in
<br />
&nbsp;&nbsp; &nbsp; */
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">find </span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$array </span><span class="keyword">= array ())
<br />
&nbsp;&nbsp;&nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84602""></a>
  <div class="note">
   <strong class="user">crashrox at gmail dot com</strong>
   <a href="#84602" class="date">21-Jul-2008 05:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Recursive in array using SPL
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">in_array_recursive</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$it </span><span class="keyword">= new </span><span class="default">RecursiveIteratorIterator</span><span class="keyword">(new </span><span class="default">RecursiveArrayIterator</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">));
<br />

<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$it </span><span class="keyword">AS </span><span class="default">$element</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$element </span><span class="keyword">== </span><span class="default">$needle</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83285""></a>
  <div class="note">
   <strong class="user">Martijn Wieringa</strong>
   <a href="#83285" class="date">19-May-2008 11:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using numbers as needle, it gets tricky:<br />
<br />
Note this behaviour (3rd statement):<br />
<br />
in_array(0, array(42)) = FALSE<br />
in_array(0, array('42')) = FALSE<br />
in_array(0, array('Foo')) = TRUE<br />
in_array('0', array('Foo')) = FALSE</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81593""></a>
  <div class="note">
   <strong class="user">sick949 at hotmail dot com</strong>
   <a href="#81593" class="date">05-Mar-2008 12:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A first idea for a function that checks if a text is in a specific column of an array.<br />
It does not use in_array function because it doesn't check via columns.<br />
Its a test, could be much better. Do not use it without test.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">in_array_column</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$column</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!empty(</span><span class="default">$array</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">]==</span><span class="default">$text </span><span class="keyword">|| </span><span class="default">strcmp</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">],</span><span class="default">$text</span><span class="keyword">)==</span><span class="default">0</span><span class="keyword">) return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80709""></a>
  <div class="note">
   <strong class="user">guitar king</strong>
   <a href="#80709" class="date">29-Jan-2008 08:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP 4, the first argument seems not allowed to be an object. In PHP 5, also objects are allowed as $needle.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76857""></a>
  <div class="note">
   <strong class="user">info at b1g dot de</strong>
   <a href="#76857" class="date">02-Aug-2007 07:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful with checking for "zero" in arrays when you are not in strict mode.<br />
in_array(0, array()) == true<br />
in_array(0, array(), true) == false</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75263""></a>
  <div class="note">
   <strong class="user">Quaquaversal</strong>
   <a href="#75263" class="date">21-May-2007 05:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple function to type less when wanting to check if any one of many values is in a single array.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Make sure $needle is an array for foreach<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">)) </span><span class="default">$needle </span><span class="keyword">= array(</span><span class="default">$needle</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//For each value in $needle, return TRUE if in $haystack<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$needle </span><span class="keyword">as </span><span class="default">$pin</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$pin</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)) return </span><span class="default">TRUE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Return FALSE if none of the values from $needle are found in $haystack<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">FALSE</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67159""></a>
  <div class="note">
   <strong class="user">musik at krapplack dot de</strong>
   <a href="#67159" class="date">04-Jun-2006 02:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a version of in_array() that supports wildcards in the haystack. Here it is:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">my_inArray</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># this function allows wildcards in the array to be searched<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">true </span><span class="keyword">=== </span><span class="default">fnmatch</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$haystack </span><span class="keyword">= array(</span><span class="string">'*krapplack.de'</span><span class="keyword">);<br />
</span><span class="default">$needle </span><span class="keyword">= </span><span class="string">'www.krapplack.de'</span><span class="keyword">;<br />
<br />
echo </span><span class="default">my_inArray</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">); </span><span class="comment"># outputs "true"<br />
</span><span class="default">?&gt;<br />
</span><br />
Unfortunately, fnmatch() is not available on Windows or other non-POSIX compliant systems.<br />
<br />
Cheers,<br />
Thomas</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64161""></a>
  <div class="note">
   <strong class="user">rick at fawo dot nl</strong>
   <a href="#64161" class="date">09-Apr-2006 05:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's another deep_in_array function, but this one has a case-insensitive option :)<br />
&lt;?<br />
function deep_in_array($value, $array, $case_insensitive = false){<br />
&nbsp;&nbsp;&nbsp; foreach($array as $item){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_array($item)) $ret = deep_in_array($value, $item, $case_insensitive);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else $ret = ($case_insensitive) ? strtolower($item)==$value : $item==$value;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($ret)return $ret;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return false;<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62211""></a>
  <div class="note">
   <strong class="user">sandrejev at gmail dot com</strong>
   <a href="#62211" class="date">22-Feb-2006 04:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sorry, that deep_in_array() was a bit broken.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">deep_in_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) { 
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">) { 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$item </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">) return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else continue; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">)) return </span><span class="default">true</span><span class="keyword">; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">deep_in_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">)) return </span><span class="default">true</span><span class="keyword">; 
<br />
&nbsp;&nbsp;&nbsp; } 
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">; 
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61491""></a>
  <div class="note">
   <strong class="user">kitchin</strong>
   <a href="#61491" class="date">05-Feb-2006 03:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a gotcha, and another reason to always use strict with this function.<br />
<br />
$x= array('this');<br />
$test= in_array(0, $x);<br />
var_dump($test); // true<br />
<br />
$x= array(0);<br />
$test= in_array('that', $x);<br />
var_dump($test); // true<br />
<br />
$x= array('0');<br />
$test= in_array('that', $x);<br />
var_dump($test); // false<br />
<br />
It's hard to think of a reason to use this function *without* strict.<br />
<br />
This is important for validating user input from a set of allowed values, such as from a &lt;select&gt; tag.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60696""></a>
  <div class="note">
   
   <a href="#60696" class="date">14-Jan-2006 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in_arrayr -- Checks if the value is in an array recursively
<br />

<br />
Description
<br />
bool in_array (mixed needle, array haystack)
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">in_arrayr</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$needle </span><span class="keyword">== </span><span class="default">$v</span><span class="keyword">) return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) return </span><span class="default">in_arrayr</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
}
<br />
</span><span class="comment">// i think it works
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58560""></a>
  <div class="note">
   <strong class="user">adrian foeder</strong>
   <a href="#58560" class="date">08-Nov-2005 10:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
hope this function may be useful to you, it checks an array recursively (if an array has sub-array-levels) and also the keys, if wanted:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rec_in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$alsokeys</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) || (</span><span class="default">$alsokeys </span><span class="keyword">&amp;&amp; </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)) )) return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$haystack </span><span class="keyword">AS </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">rec_in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$element</span><span class="keyword">, </span><span class="default">$alsokeys</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53745""></a>
  <div class="note">
   <strong class="user">Aragorn5551 at gmx dot de</strong>
   <a href="#53745" class="date">11-Jun-2005 02:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have a multidimensional array filled only with Boolean values like me, you need to use 'strict', otherwise in_array() will return an unexpected result.
<br />

<br />
Example:
<br />

<br />
<span class="default">&lt;?php
<br />
$error_arr </span><span class="keyword">= array(</span><span class="string">'error_one' </span><span class="keyword">=&gt; </span><span class="default">FALSE</span><span class="keyword">, </span><span class="string">'error_two' </span><span class="keyword">=&gt; </span><span class="default">FALSE</span><span class="keyword">, array(</span><span class="string">'error_three' </span><span class="keyword">=&gt; </span><span class="default">FALSE</span><span class="keyword">, </span><span class="string">'error_four' </span><span class="keyword">=&gt; </span><span class="default">FALSE</span><span class="keyword">));
<br />

<br />
if (</span><span class="default">in_array </span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">, </span><span class="default">$error_arr</span><span class="keyword">)) { 
<br />
&nbsp;&nbsp; echo </span><span class="string">'An error occurred'</span><span class="keyword">;
<br />
}
<br />
else {
<br />
&nbsp;&nbsp; echo </span><span class="string">'No error occurred'</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This will return 'An error occurred' although theres no TRUE value inside the array in any dimension. With 'strict' the function will return the correct result 'No error occurred'.
<br />

<br />
Hope this helps somebody, cause it took me some time to figure this out.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24227""></a>
  <div class="note">
   <strong class="user">tom at orbittechservices dot com</strong>
   <a href="#24227" class="date">10-Aug-2002 04:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I searched the general mailing list and found that in PHP versions before 4.2.0 needle was not allowed to be an array.
<br />

<br />
Here's how I solved it to check if a value is in_array to avoid duplicates;
<br />

<br />
<span class="default">&lt;?php
<br />
$myArray </span><span class="keyword">= array(array(</span><span class="string">'p'</span><span class="keyword">, </span><span class="string">'h'</span><span class="keyword">), array(</span><span class="string">'p'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">));
<br />

<br />
</span><span class="default">$newValue </span><span class="keyword">= </span><span class="string">"q"</span><span class="keyword">;
<br />
</span><span class="default">$newInsert </span><span class="keyword">= array(</span><span class="string">'p'</span><span class="keyword">,</span><span class="string">'q'</span><span class="keyword">);
<br />

<br />
</span><span class="default">$itBeInThere </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
foreach (</span><span class="default">$myArray </span><span class="keyword">as </span><span class="default">$currentValue</span><span class="keyword">) {
<br />
&nbsp; if (</span><span class="default">in_array </span><span class="keyword">(</span><span class="default">$newValue</span><span class="keyword">, </span><span class="default">$currentValue</span><span class="keyword">)) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$itBeInThere </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp; }
<br />
if (</span><span class="default">$itBeInThere </span><span class="keyword">!= </span><span class="default">1</span><span class="keyword">) {
<br />
&nbsp; </span><span class="default">array_unshift </span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">, </span><span class="default">$newInsert</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
