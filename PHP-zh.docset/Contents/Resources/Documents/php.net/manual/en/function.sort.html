<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>对数组排序</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.sizeof.html">? sizeof</a></li>
      <li style="float: right;"><a href="function.uasort.html">uasort ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>对数组排序</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.sort" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sort</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">sort</span> &mdash; <span class="dc-title">对数组排序</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.sort-description">
  <h3 class="title">说明</h3>
   <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>sort</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter reference">&$array</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$sort_flags</code><span class="initializer"> = SORT_REGULAR</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   本函数对数组进行排序。当本函数结束时数组单元将被从最低到最高重新安排。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.sort-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       要排序的数组。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">sort_flags</code></dt>

     <dd>

      <p class="para">
       可选的第二个参数 <code class="parameter">sort_flags</code>
   可以用以下值改变排序的行为：
      </p>
      <p class="para">
       排序类型标记：
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_REGULAR</code></strong>  - 正常比较单元（不改变类型）</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_NUMERIC</code></strong> - 单元被作为数字来比较</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_STRING</code></strong> - 单元被作为字符串来比较</span>
        </li>
        <li class="listitem">
         <span class="simpara"> <strong><code>SORT_LOCALE_STRING</code></strong> -
      根据当前的区域（locale）设置来把单元当作字符串比较，可以用
      <span class="function"><a href="function.setlocale.html" class="function">setlocale()</a></span> 来改变。
          
         </span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_NATURAL</code></strong> - 和 <span class="function"><a href="function.natsort.html" class="function">natsort()</a></span> 类似对每个单元以"自然的顺序"对字符串进行排序。 PHP 5.4.0 中新增的。</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_FLAG_CASE</code></strong> - 能够与 <strong><code>SORT_STRING</code></strong> 或 
         <strong><code>SORT_NATURAL</code></strong> 合并（OR 位运算），不区分大小写排序字符串。</span>
        </li>
       </ul>
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.sort-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.sort-changelog">
  <h3 class="title">更新日志</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>版本</th>
      <th>说明</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>5.4.0</td>
      <td>
       添加了 <code class="parameter">sort_flags</code> 内 <strong><code>SORT_NATURAL</code></strong> 和
       <strong><code>SORT_FLAG_CASE</code></strong> 的支持。 
      </td>
     </tr>

     <tr>
      <td>5.0.2</td>
      <td>
       添加了  <strong><code>SORT_LOCALE_STRING</code></strong>。
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>

 <div class="refsect1 examples" id="refsect1-function.sort-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5485">
    <p><strong>Example #1 <span class="function"><strong>sort()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$fruits&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"lemon"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"orange"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"banana"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"apple"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">sort</span><span style="color: #007700">(</span><span style="color: #0000BB">$fruits</span><span style="color: #007700">);<br />foreach&nbsp;(</span><span style="color: #0000BB">$fruits&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"fruits["&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"]&nbsp;=&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
fruits[0] = apple
fruits[1] = banana
fruits[2] = lemon
fruits[3] = orange
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   fruits 被按照字母顺序排序。
  </p>
  <p class="para">
   <div class="example" id="example-5486">
    <p><strong>Example #2 使用不区分大小写自然排序的 <span class="function"><strong>sort()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$fruits&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Orange1"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"orange2"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Orange3"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"orange20"<br /></span><span style="color: #007700">);<br /></span><span style="color: #0000BB">sort</span><span style="color: #007700">(</span><span style="color: #0000BB">$fruits</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SORT_NATURAL&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">SORT_FLAG_CASE</span><span style="color: #007700">);<br />foreach&nbsp;(</span><span style="color: #0000BB">$fruits&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"fruits["&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"]&nbsp;=&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
fruits[0] = Orange1
fruits[1] = orange2
fruits[2] = Orange3
fruits[3] = orange20
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   fruits 排序得像 <span class="function"><a href="function.natcasesort.html" class="function">natcasesort()</a></span> 的结果。
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.sort-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">此函数为 <code class="parameter">array</code>
中的元素赋与新的键名。这将删除原有的键名，而不是仅仅将键名重新排序。</span></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    和大多数 PHP 排序函数一样，<span class="function"><strong>sort()</strong></span> 
    使用了 <a href="http://en.wikipedia.org/wiki/Quicksort" class="link external" title="Link : http://en.wikipedia.org/wiki/Quicksort">&raquo;&nbsp;Quicksort</a> 实现的。
   </span>
  </p></blockquote>
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="simpara">
    在对含有混合类型值的数组排序时要小心，因为
    <span class="function"><strong>sort()</strong></span> 可能会产生不可预知的结果。
   </p>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.sort-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.asort.html" class="function" rel="rdfs-seeAlso">asort()</a> - 对数组进行排序并保持索引关系</span></li>
    <li class="member"><a href="array.sorting.html" class="link">数组排序函数对比</a></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="119448""></a>
  <div class="note">
   <strong class="user">Abhishek Banerjee</strong>
   <a href="#119448" class="date">08-Jun-2016 04:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
EDIT: To the original note by "phpdotnet at m4tt dot co dot uk" <br />
Use array_push instead of $new_array[$k] for some reason it was <br />
giving me string indexes.<br />
<br />
Simple function to sort an array by a specific key. Maintains index association.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_sort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$on</span><span class="keyword">, </span><span class="default">$order</span><span class="keyword">=</span><span class="default">SORT_ASC</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$new_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sortable_array </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$v </span><span class="keyword">as </span><span class="default">$k2 </span><span class="keyword">=&gt; </span><span class="default">$v2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$k2 </span><span class="keyword">== </span><span class="default">$on</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sortable_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sortable_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">$order</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">SORT_ASC</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$sortable_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">SORT_DESC</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$sortable_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$sortable_array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$new_array</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$people </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">12345 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">12345</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'first_name' </span><span class="keyword">=&gt; </span><span class="string">'Joe'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'surname' </span><span class="keyword">=&gt; </span><span class="string">'Bloggs'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'age' </span><span class="keyword">=&gt; </span><span class="default">23</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'sex' </span><span class="keyword">=&gt; </span><span class="string">'m'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">12346 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">12346</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'first_name' </span><span class="keyword">=&gt; </span><span class="string">'Adam'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'surname' </span><span class="keyword">=&gt; </span><span class="string">'Smith'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'age' </span><span class="keyword">=&gt; </span><span class="default">18</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'sex' </span><span class="keyword">=&gt; </span><span class="string">'m'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">12347 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">12347</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'first_name' </span><span class="keyword">=&gt; </span><span class="string">'Amy'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'surname' </span><span class="keyword">=&gt; </span><span class="string">'Jones'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'age' </span><span class="keyword">=&gt; </span><span class="default">21</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'sex' </span><span class="keyword">=&gt; </span><span class="string">'f'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_sort</span><span class="keyword">(</span><span class="default">$people</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">, </span><span class="default">SORT_DESC</span><span class="keyword">)); </span><span class="comment">// Sort by oldest first<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_sort</span><span class="keyword">(</span><span class="default">$people</span><span class="keyword">, </span><span class="string">'surname'</span><span class="keyword">, </span><span class="default">SORT_ASC</span><span class="keyword">)); </span><span class="comment">// Sort by surname<br />
<br />
/*<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [12345] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12345<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Joe<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Bloggs<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 23<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; m<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [12347] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12347<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Amy<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Jones<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 21<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; f<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [12346] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12346<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Adam<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Smith<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 18<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; m<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [12345] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12345<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Joe<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Bloggs<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 23<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; m<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [12347] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12347<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Amy<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Jones<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 21<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; f<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [12346] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12346<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Adam<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Smith<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 18<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; m<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118737""></a>
  <div class="note">
   <strong class="user">totszwai at gail dot com</strong>
   <a href="#118737" class="date">29-Jan-2016 12:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those who wanna go with simple approach without hammering your head too much... This does the job, granted might not be efficient, but is really short. :P<br />
<br />
Let $all be a key/value paired array...<br />
<br />
$keys = array_keys($all);<br />
sort($keys);<br />
$sorted = array();<br />
foreach($keys as $k) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; $sorted[$k] = $all[$k];<br />
}<br />
$all = $sorted;<br />
unset($sorted);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117777""></a>
  <div class="note">
   <strong class="user">aditycse at gmail dot com</strong>
   <a href="#117777" class="date">07-Aug-2015 07:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/*<br />
&nbsp;* Name : Aditya Mehrotra <br />
&nbsp;* Email: aditycse@gmail.com<br />
&nbsp;*/<br />
//Example for sorting by values for an alphanumeric array also having case-sensitive data<br />
$exampleArray1 = $exampleArray2 = array(<br />
&nbsp;&nbsp;&nbsp; 0 =&gt; 'example1',<br />
&nbsp;&nbsp;&nbsp; 1 =&gt; 'Example10',<br />
&nbsp;&nbsp;&nbsp; 2 =&gt; 'example12',<br />
&nbsp;&nbsp;&nbsp; 3 =&gt; 'Example2',<br />
&nbsp;&nbsp;&nbsp; 4 =&gt; 'example3',<br />
&nbsp;&nbsp;&nbsp; 5 =&gt; 'EXAMPLE10',<br />
&nbsp;&nbsp;&nbsp; 6 =&gt; 'example10'<br />
);<br />
<br />
//default sorting<br />
asort($exampleArray1);<br />
<br />
// alphanumeric with case-sensitive data sorting by values<br />
asort($exampleArray2, SORT_STRING | SORT_FLAG_CASE | SORT_NATURAL);<br />
<br />
//output of defaut sorting<br />
print_r($exampleArray1);<br />
/*<br />
&nbsp;* output of default sorting<br />
&nbsp; Array<br />
&nbsp; (<br />
&nbsp; [5] =&gt; EXAMPLE10<br />
&nbsp; [1] =&gt; Example10<br />
&nbsp; [3] =&gt; Example2<br />
&nbsp; [0] =&gt; example1<br />
&nbsp; [6] =&gt; example10<br />
&nbsp; [2] =&gt; example12<br />
&nbsp; [4] =&gt; example3<br />
&nbsp; )<br />
&nbsp;*/<br />
<br />
print_r($exampleArray2);<br />
/*<br />
&nbsp;* output of alphanumeric with case-sensitive data sorting by values<br />
&nbsp;Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; example1<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; Example2<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; example3<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; EXAMPLE10<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Example10<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; example10<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; example12<br />
)<br />
&nbsp;*/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113948""></a>
  <div class="note">
   <strong class="user">williamprogphp at[pleaseNOTSPAM] yahoo d</strong>
   <a href="#113948" class="date">20-Dec-2013 09:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In order to make some multidimensional quick sort implementation, take advantage of this stuff<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">quickSortMultiDimensional</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$chave</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">count</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) &lt; </span><span class="default">2 </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$left </span><span class="keyword">= </span><span class="default">$right </span><span class="keyword">= array( );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">reset</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pivot_key&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pivot&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">$v</span><span class="keyword">[</span><span class="default">$chave</span><span class="keyword">] &lt; </span><span class="default">$pivot</span><span class="keyword">[</span><span class="default">$chave</span><span class="keyword">] )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$left</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="default">$chave</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">[</span><span class="default">$chave</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$right</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="default">$chave</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">[</span><span class="default">$chave</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">quickSortMultiDimensional</span><span class="keyword">(</span><span class="default">$left</span><span class="keyword">, </span><span class="default">$chave</span><span class="keyword">), <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="default">$pivot_key </span><span class="keyword">=&gt; </span><span class="default">$pivot</span><span class="keyword">), <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">quickSortMultiDimensional</span><span class="keyword">(</span><span class="default">$right</span><span class="keyword">, </span><span class="default">$chave</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
I make it using the idea from pageconfig dot com<br />
<br />
tks for viewing</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110942""></a>
  <div class="note">
   <strong class="user">me[ at ]szczepan[ dot ]info</strong>
   <a href="#110942" class="date">27-Dec-2012 09:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sorting the keys, but keep the values in order is not possible by just ordering, because it would result in a new array. This is also the solution: Create a new array<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array(</span><span class="default">9</span><span class="keyword">=&gt;</span><span class="string">"a"</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">=&gt;</span><span class="string">"c"</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">=&gt;</span><span class="string">"d"</span><span class="keyword">);<br />
<br />
</span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">);<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_combine</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">, </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">));<br />
<br />
</span><span class="comment">//Result : array(5=&gt;"a",8=&gt;"c",9=&gt;"d");<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106900""></a>
  <div class="note">
   <strong class="user">Walter Tross</strong>
   <a href="#106900" class="date">16-Dec-2011 11:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
unless you specify the second argument, "regular" comparisons will be used. I quote from the page on comparison operators:<br />
"If you compare a number with a string or the comparison involves numerical strings, then each string is converted to a number and the comparison performed numerically."<br />
What this means is that "10" &lt; "1a", and "1a" &lt; "2", but "10" &gt; "2". In other words, regular PHP string comparisons are not transitive.<br />
This implies that the output of sort() can in rare cases depend on the order of the input array:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">echo_sorted</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; echo </span><span class="string">"</span><span class="keyword">{</span><span class="default">$a</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string"> </span><span class="keyword">{</span><span class="default">$a</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string"> </span><span class="keyword">{</span><span class="default">$a</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">sort</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp; echo </span><span class="string">" =&gt; </span><span class="keyword">{</span><span class="default">$a</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string"> </span><span class="keyword">{</span><span class="default">$a</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string"> </span><span class="keyword">{</span><span class="default">$a</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]}</span><span class="string">\n"</span><span class="keyword">;<br />
}<br />
</span><span class="comment">// on PHP 5.2.6:<br />
</span><span class="default">echo_sorted</span><span class="keyword">(array( </span><span class="string">"10"</span><span class="keyword">, </span><span class="string">"1a"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">)); </span><span class="comment">// =&gt; 10 1a 2<br />
</span><span class="default">echo_sorted</span><span class="keyword">(array( </span><span class="string">"10"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"1a"</span><span class="keyword">)); </span><span class="comment">// =&gt; 1a 2 10<br />
</span><span class="default">echo_sorted</span><span class="keyword">(array( </span><span class="string">"1a"</span><span class="keyword">, </span><span class="string">"10"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">)); </span><span class="comment">// =&gt; 2 10 1a<br />
</span><span class="default">echo_sorted</span><span class="keyword">(array( </span><span class="string">"1a"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"10"</span><span class="keyword">)); </span><span class="comment">// =&gt; 1a 2 10<br />
</span><span class="default">echo_sorted</span><span class="keyword">(array( </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"10"</span><span class="keyword">, </span><span class="string">"1a"</span><span class="keyword">)); </span><span class="comment">// =&gt; 2 10 1a<br />
</span><span class="default">echo_sorted</span><span class="keyword">(array( </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"1a"</span><span class="keyword">, </span><span class="string">"10"</span><span class="keyword">)); </span><span class="comment">// =&gt; 10 1a 2<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106243""></a>
  <div class="note">
   <strong class="user">ajanata at gmail dot com</strong>
   <a href="#106243" class="date">21-Oct-2011 06:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This took me longer than it should have to figure out, but if you want the behavior of sort($array, SORT_STRING) (that is, re-indexing the array unlike natcasesort) in a case-insensitive manner, it is a simple matter of doing usort($array, strcasecmp).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104952""></a>
  <div class="note">
   <strong class="user">holdoffhunger at gmail dot com</strong>
   <a href="#104952" class="date">18-Jul-2011 06:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have discovered an interesting trick with the sort function.&nbsp; Many coders are using it to sort options for a user, because a computer will only need sorted data in limited cases.&nbsp; However, every coder wants their sorted data to be usable.&nbsp; It's very common to find any sorted data online, and to find options, "Sort by Date," "Sort Alphabetically," etc., etc., whether you're looking at an online catalogue or some bulletin board.<br />
<br />
The trick is to use a combination of html commenting and str_pad's to do definitive "sort by" functions.&nbsp; Let me demonstrate with an example: consider two arrays, Sorted_By_Date and Sorted_By_Name.&nbsp; You want every element to be "&lt;option value=something&gt;Option Name&lt;/option", so that you can do a simple foreach statement that prints every option value.&nbsp; But, sorting these arrays will technically sort just sort whatever you put into "value".&nbsp; So, here's a neat trick.&nbsp; Make every entry "&lt;!-- Sort_Value --&gt;&lt;option value=something&gt;Option Name&lt;/option."&nbsp; That way, when you sort, it'll have to sort technically by whatever is the Sort_Value.<br />
<br />
The greatness of this trick is that you can make as many "sort this data by X" fields as you want!&nbsp; Just create multiple arrays, each with the same option values and names, but with a different value put in "Sort_Value", which could be a date, a name, a price, etc..&nbsp; With numbers, you may need to use the str_pad function, to push all of the zeros out to the left, for a proper sort.&nbsp; For instance, in my code, that looks like...<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $number_of_versions_sort_value </span><span class="keyword">= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$number_of_versions</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104464""></a>
  <div class="note">
   <strong class="user">alex dot hristov dot 88 at gmail dot com</strong>
   <a href="#104464" class="date">16-Jun-2011 04:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As some people have mentioned before sorting a multidimentional array can be a bit tricky. it took me quite a while to get it going but it works as a charm:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//$order has to be either asc or desc<br />
&nbsp;</span><span class="keyword">function </span><span class="default">sortmulti </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">, </span><span class="default">$order</span><span class="keyword">, </span><span class="default">$natsort</span><span class="keyword">=</span><span class="default">FALSE</span><span class="keyword">, </span><span class="default">$case_sensitive</span><span class="keyword">=</span><span class="default">FALSE</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) as </span><span class="default">$key</span><span class="keyword">) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">$natsort</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$order</span><span class="keyword">==</span><span class="string">'asc'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$case_sensitive</span><span class="keyword">===</span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">natsort</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">natcasesort</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$order</span><span class="keyword">!=</span><span class="string">'asc'</span><span class="keyword">) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">=</span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">) as </span><span class="default">$key</span><span class="keyword">) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sorted</span><span class="keyword">[]=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sorted</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$sorted</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$sorted</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104221""></a>
  <div class="note">
   <strong class="user">markrose at markrose dot ca</strong>
   <a href="#104221" class="date">01-Jun-2011 08:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've yet to come across a fast way to merge sorted arrays by a user value. Merging the arrays and using PHP's usort isn't efficient, as it doesn't take advantage of the existing sorting. So I wrote my own merge sorted arrays by user value function. The limit parameter can be used be used to limit the number of results (there is no point sorting more results than needed). This sort is stable: values will be taken preferentially from the first, then second, etc., array inside $merge_arrays.
<br />

<br />
Note that this function will fail if a user value is boolean false. It could be adapted to hold the best value inside an array at some performance penalty. It could also be adapted to comparing strings case-insensitively.
<br />

<br />
To give you some idea of the performance, my machine will sort out the first 1000 values of 10 sorted arrays of 1000 values each in under 40 ms, using an integer sort field. Not fast by C standards, but a vast improvement over usort'ing 10,000 values.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">merge_sorted_arrays_by_field </span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">, </span><span class="default">$sort_field</span><span class="keyword">, </span><span class="default">$sort_desc </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$limit </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array_count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// fast special cases...
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">switch (</span><span class="default">$array_count</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">0</span><span class="keyword">: return array();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">: return </span><span class="default">$limit </span><span class="keyword">? </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, </span><span class="default">$limit</span><span class="keyword">) : </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$limit </span><span class="keyword">=== </span><span class="default">0</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$limit </span><span class="keyword">= </span><span class="default">PHP_INT_MAX</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// rekey merge_arrays array 0-&gt;N
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$merge_arrays </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">);
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$best_array </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$best_value </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$results </span><span class="keyword">= array();
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// move sort order logic outside the inner loop to speed things up
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$sort_desc</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$limit</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$array_count</span><span class="keyword">; ++</span><span class="default">$j</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// if the array $merge_arrays[$j] is empty, skip to next
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">false </span><span class="keyword">=== (</span><span class="default">$current_value </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">])))
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// if we don't have a value for this round, or if the current value is bigger...
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$best_value </span><span class="keyword">=== </span><span class="default">false </span><span class="keyword">|| </span><span class="default">$current_value</span><span class="keyword">[</span><span class="default">$sort_field</span><span class="keyword">] &gt; </span><span class="default">$best_value</span><span class="keyword">[</span><span class="default">$sort_field</span><span class="keyword">])
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$best_array </span><span class="keyword">= </span><span class="default">$j</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$best_value </span><span class="keyword">= </span><span class="default">$current_value</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// all arrays empty?
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$best_value </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$results</span><span class="keyword">[] = </span><span class="default">$best_value</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$best_value </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">[</span><span class="default">$best_array</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; else
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$limit</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$array_count</span><span class="keyword">; ++</span><span class="default">$j</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">false </span><span class="keyword">=== (</span><span class="default">$current_value </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">])))
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// if we don't have a value for this round, or if the current value is smaller...
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$best_value </span><span class="keyword">=== </span><span class="default">false </span><span class="keyword">|| </span><span class="default">$current_value</span><span class="keyword">[</span><span class="default">$sort_field</span><span class="keyword">] &lt; </span><span class="default">$best_value</span><span class="keyword">[</span><span class="default">$sort_field</span><span class="keyword">])
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$best_array </span><span class="keyword">= </span><span class="default">$j</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$best_value </span><span class="keyword">= </span><span class="default">$current_value</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// all arrays empty?
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$best_value </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$results</span><span class="keyword">[] = </span><span class="default">$best_value</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$best_value </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$merge_arrays</span><span class="keyword">[</span><span class="default">$best_array</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$results</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104009""></a>
  <div class="note">
   <strong class="user">cmarshall at gmx dot de</strong>
   <a href="#104009" class="date">17-May-2011 12:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I read up on various problems re: sort() and German Umlaut chars and my head was soon spinning - bug in sort() or not, solution via locale or not, etc. ... (a total newbie here).<br />
<br />
The obvious solution for me was quick and dirty: transform the Umlaut chars (present as HTML codes in my case) to their normal equivalent ('?' = 'ae', '?' = 'oe', 'ü' = 'ue', '?' = 'ss' etc.), sort the array, then transform back. However there are cases in which a 'Mueller' is really that and does NOT need to be transformed into 'Müller' afterwards. Hence I for example replace the Umlaut itself with it's normal equivalent plus a char not used in the string otherwise (e.g. '_') so that the transfer back to Umlaut would only take place on certain combinations.<br />
<br />
Of course any other char instead of '_' can be used as additional char (influencing the sort result). I know that my solution is rough at the edges and may cause other sort problems but it was sufficient for my purpose.<br />
<br />
The array '$dat' in this example was filled with German town names (I actually worked with a multiple array ('$dat[][]') but stripped the code down to this as it's easier to understand):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// START Pre-sorting (Umlaut -&gt; normal letters)<br />
</span><span class="default">$max </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$dat</span><span class="keyword">);<br />
for(</span><span class="default">$totcnt </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$totcnt </span><span class="keyword">&lt; </span><span class="default">$max</span><span class="keyword">; </span><span class="default">$totcnt</span><span class="keyword">++){<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&amp;szlig;'</span><span class="keyword">,</span><span class="string">'ss_'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&amp;Auml;'</span><span class="keyword">,</span><span class="string">'Ae_'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&amp;auml;'</span><span class="keyword">,</span><span class="string">'ae_'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&amp;Ouml;'</span><span class="keyword">,</span><span class="string">'Oe_'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&amp;ouml;'</span><span class="keyword">,</span><span class="string">'oe_'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&amp;Uuml;'</span><span class="keyword">,</span><span class="string">'Ue_'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&amp;uuml;'</span><span class="keyword">,</span><span class="string">'ue_'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
}<br />
</span><span class="comment">// END Pre-sorting (Umlaut -&gt; normal letters)<br />
<br />
// START Sorting //<br />
</span><span class="keyword">function </span><span class="default">compare_towns</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">)<br />
{<br />
return </span><span class="default">strnatcmp</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">);<br />
}<br />
</span><span class="default">usort</span><span class="keyword">(</span><span class="default">$dat</span><span class="keyword">, </span><span class="string">'compare_towns'</span><span class="keyword">);<br />
</span><span class="comment">// END Sorting //<br />
<br />
// START Post-sorting (normal letters -&gt; Umlaut)<br />
</span><span class="keyword">for(</span><span class="default">$totcnt </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$totcnt </span><span class="keyword">&lt; </span><span class="default">$max</span><span class="keyword">; </span><span class="default">$totcnt</span><span class="keyword">++){<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'ss_'</span><span class="keyword">,</span><span class="string">'&amp;szlig;'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'Ae_'</span><span class="keyword">,</span><span class="string">'&amp;Auml;'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'ae_'</span><span class="keyword">,</span><span class="string">'&amp;auml;'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'Oe_'</span><span class="keyword">,</span><span class="string">'&amp;Ouml;'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'oe_'</span><span class="keyword">,</span><span class="string">'&amp;ouml;'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'Ue_'</span><span class="keyword">,</span><span class="string">'&amp;Uuml;'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'ue_'</span><span class="keyword">,</span><span class="string">'&amp;uuml;'</span><span class="keyword">,</span><span class="default">$dat</span><span class="keyword">[</span><span class="default">$totcnt</span><span class="keyword">]);<br />
}<br />
</span><span class="comment">// END Post-sorting (normal letters -&gt; Umlaut)<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101558""></a>
  <div class="note">
   <strong class="user">anaz114119 at gmail dot com</strong>
   <a href="#101558" class="date">24-Dec-2010 11:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
sort from textfile by coloumn
<br />
example name||date||time||comments
<br />
if you want to sort by date
<br />
$column = 2
<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_sort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$column</span><span class="keyword">){
<br />
&nbsp;</span><span class="default">$column </span><span class="keyword">= </span><span class="default">$column</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">){
<br />
&nbsp;</span><span class="default">$bits </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"||"</span><span class="keyword">,</span><span class="default">$line</span><span class="keyword">);
<br />
&nbsp;</span><span class="default">$bits </span><span class="keyword">=</span><span class="string">"</span><span class="default">$bits</span><span class="keyword">[</span><span class="default">$column</span><span class="keyword">]</span><span class="string">**</span><span class="default">$line</span><span class="string">"</span><span class="keyword">;
<br />
&nbsp;</span><span class="default">$array1</span><span class="keyword">[]=</span><span class="default">$bits</span><span class="keyword">;
<br />
}
<br />
&nbsp;</span><span class="default">asort</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);
<br />
&nbsp;foreach(</span><span class="default">$array1 </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">){
<br />
&nbsp;</span><span class="default">$bit </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"**"</span><span class="keyword">,</span><span class="default">$line</span><span class="keyword">);
<br />
&nbsp;</span><span class="default">$bit </span><span class="keyword">=</span><span class="string">"</span><span class="default">$bit</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]</span><span class="string">"</span><span class="keyword">;
<br />
&nbsp;</span><span class="default">$array2</span><span class="keyword">[]=</span><span class="default">$bit</span><span class="keyword">;
<br />
}
<br />
&nbsp;return</span><span class="default">$array2</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101495""></a>
  <div class="note">
   <strong class="user">poulou_0 at hotmail dot com</strong>
   <a href="#101495" class="date">21-Dec-2010 09:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you are not interested in high or low case sort<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//where<br />
</span><span class="default">$sortable_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v2</span><span class="keyword">; <br />
</span><span class="comment">//put<br />
</span><span class="default">$sortable_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$v2</span><span class="keyword">);<br />
<br />
</span><span class="comment">//and where<br />
</span><span class="default">$sortable_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />
</span><span class="comment">//put<br />
</span><span class="default">$sortable_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99419""></a>
  <div class="note">
   <strong class="user">phpdotnet at m4tt dot co dot uk</strong>
   <a href="#99419" class="date">16-Aug-2010 04:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple function to sort an array by a specific key. Maintains index association.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_sort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$on</span><span class="keyword">, </span><span class="default">$order</span><span class="keyword">=</span><span class="default">SORT_ASC</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$new_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sortable_array </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$v </span><span class="keyword">as </span><span class="default">$k2 </span><span class="keyword">=&gt; </span><span class="default">$v2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$k2 </span><span class="keyword">== </span><span class="default">$on</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sortable_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sortable_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">$order</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">SORT_ASC</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$sortable_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">SORT_DESC</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$sortable_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$sortable_array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$new_array</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$people </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">12345 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">12345</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'first_name' </span><span class="keyword">=&gt; </span><span class="string">'Joe'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'surname' </span><span class="keyword">=&gt; </span><span class="string">'Bloggs'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'age' </span><span class="keyword">=&gt; </span><span class="default">23</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'sex' </span><span class="keyword">=&gt; </span><span class="string">'m'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">12346 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">12346</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'first_name' </span><span class="keyword">=&gt; </span><span class="string">'Adam'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'surname' </span><span class="keyword">=&gt; </span><span class="string">'Smith'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'age' </span><span class="keyword">=&gt; </span><span class="default">18</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'sex' </span><span class="keyword">=&gt; </span><span class="string">'m'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">12347 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">12347</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'first_name' </span><span class="keyword">=&gt; </span><span class="string">'Amy'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'surname' </span><span class="keyword">=&gt; </span><span class="string">'Jones'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'age' </span><span class="keyword">=&gt; </span><span class="default">21</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'sex' </span><span class="keyword">=&gt; </span><span class="string">'f'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_sort</span><span class="keyword">(</span><span class="default">$people</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">, </span><span class="default">SORT_DESC</span><span class="keyword">)); </span><span class="comment">// Sort by oldest first<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_sort</span><span class="keyword">(</span><span class="default">$people</span><span class="keyword">, </span><span class="string">'surname'</span><span class="keyword">, </span><span class="default">SORT_ASC</span><span class="keyword">)); </span><span class="comment">// Sort by surname<br />
<br />
/*<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [12345] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12345<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Joe<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Bloggs<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 23<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; m<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; [12347] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12347<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Amy<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Jones<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 21<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; f<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; [12346] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12346<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Adam<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Smith<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 18<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; m<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [12345] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12345<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Joe<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Bloggs<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 23<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; m<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; [12347] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12347<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Amy<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Jones<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 21<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; f<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; [12346] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 12346<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [first_name] =&gt; Adam<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [surname] =&gt; Smith<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 18<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [sex] =&gt; m<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;<br />
)<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97046""></a>
  <div class="note">
   <strong class="user">eriewave at hotmail dot com</strong>
   <a href="#97046" class="date">29-Mar-2010 10:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to sort an array containing some equivalent values and you want the equivalents to end up next to each other in the overall order (similar to a MySQL's ORDER BY output), rather than breaking the function, do this:<br />
<br />
<span class="default">&lt;?php<br />
<br />
sort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
-When the sort() function finds two equivalents, it will sort them arbitrarily by their key #'s as a second parameter.<br />
<br />
-Dirk</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96704""></a>
  <div class="note">
   <strong class="user">Dollar Hauler Admin</strong>
   <a href="#96704" class="date">12-Mar-2010 07:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I could never find a way to sort multidimensional arrays with 5+ keys while maintaining the data structure, but here it is:<br />
<br />
(you can add an infinite number of keys, but it has to be added manually :\ )<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">]&nbsp; = </span><span class="string">'Chris'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'phone'</span><span class="keyword">] = </span><span class="string">'3971095'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'year'</span><span class="keyword">]&nbsp; = </span><span class="string">'1978'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'address'</span><span class="keyword">] = </span><span class="string">'Street 1'</span><span class="keyword">;<br />
<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">]&nbsp; = </span><span class="string">'Breanne'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'phone'</span><span class="keyword">] = </span><span class="string">'3766350'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'year'</span><span class="keyword">]&nbsp; = </span><span class="string">'1990'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'address'</span><span class="keyword">] = </span><span class="string">'Street 2'</span><span class="keyword">;<br />
<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">]&nbsp; = </span><span class="string">'Dusty'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'phone'</span><span class="keyword">] = </span><span class="string">'1541120'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'year'</span><span class="keyword">]&nbsp; = </span><span class="string">'1982'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'address'</span><span class="keyword">] = </span><span class="string">'Street 3'</span><span class="keyword">;<br />
<br />
function </span><span class="default">multisort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$sort_by</span><span class="keyword">, </span><span class="default">$key1</span><span class="keyword">, </span><span class="default">$key2</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$key3</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$key4</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$key5</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$key6</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// sort by ?<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$pos </span><span class="keyword">=&gt;&nbsp; </span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp_array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">[</span><span class="default">$sort_by</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$tmp_array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// display however you want<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$tmp_array </span><span class="keyword">as </span><span class="default">$pos </span><span class="keyword">=&gt;&nbsp; </span><span class="default">$val</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$sort_by</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$sort_by</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key1</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$key2</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key2</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$key3</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key3</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key3</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$key4</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key4</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key4</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$key5</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key5</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key5</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$key6</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key6</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">][</span><span class="default">$key6</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return_array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="comment">//usage (only enter the keys you want sorted):<br />
<br />
</span><span class="default">$sorted </span><span class="keyword">= </span><span class="default">multisort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="string">'year'</span><span class="keyword">,</span><span class="string">'name'</span><span class="keyword">,</span><span class="string">'phone'</span><span class="keyword">,</span><span class="string">'address'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$sorted</span><span class="keyword">);<br />
<br />
</span><span class="comment">//output:<br />
</span><span class="keyword">Array ( [</span><span class="default">0</span><span class="keyword">] =&gt; Array ( [</span><span class="default">year</span><span class="keyword">] =&gt; </span><span class="default">1978 </span><span class="keyword">[</span><span class="default">name</span><span class="keyword">] =&gt; </span><span class="default">Chris </span><span class="keyword">[</span><span class="default">phone</span><span class="keyword">] =&gt; </span><span class="default">3971095 </span><span class="keyword">[</span><span class="default">address</span><span class="keyword">] =&gt; </span><span class="default">Street 1 </span><span class="keyword">) [</span><span class="default">2</span><span class="keyword">] =&gt; Array ( [</span><span class="default">year</span><span class="keyword">] =&gt; </span><span class="default">1982 </span><span class="keyword">[</span><span class="default">name</span><span class="keyword">] =&gt; </span><span class="default">Dusty </span><span class="keyword">[</span><span class="default">phone</span><span class="keyword">] =&gt; </span><span class="default">1541120 </span><span class="keyword">[</span><span class="default">address</span><span class="keyword">] =&gt; </span><span class="default">Street 3 </span><span class="keyword">) [</span><span class="default">1</span><span class="keyword">] =&gt; Array ( [</span><span class="default">year</span><span class="keyword">] =&gt; </span><span class="default">1990 </span><span class="keyword">[</span><span class="default">name</span><span class="keyword">] =&gt; </span><span class="default">Breanne </span><span class="keyword">[</span><span class="default">phone</span><span class="keyword">] =&gt; </span><span class="default">3766350 </span><span class="keyword">[</span><span class="default">address</span><span class="keyword">] =&gt; </span><span class="default">Street 2 </span><span class="keyword">) )</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94765""></a>
  <div class="note">
   <strong class="user">Brecht Cloetens</strong>
   <a href="#94765" class="date">24-Nov-2009 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="comment">/**<br />
&nbsp;* function: array_columns<br />
&nbsp;* author: Brecht Cloetens<br />
&nbsp;* params: $a = array() // original array<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $c = int() // number of columns<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_columns</span><span class="keyword">(&amp;</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$m </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)/</span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$m</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$k</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">&lt;</span><span class="default">$c</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">+(</span><span class="default">$m</span><span class="keyword">*</span><span class="default">$k</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">settype</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="string">'integer'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$b</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$j</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$b</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$arr </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">,</span><span class="string">'z'</span><span class="keyword">);<br />
</span><span class="default">array_columns</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
array(1,2,3,4,5) will be converted to array(1,4,2,5,3);<br />
<br />
This can be easy if you want to display an array into a specified number of columns.<br />
<br />
&lt;table&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;$arr[0] =&gt; 1&lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;$arr[1] =&gt; 4&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;$arr[2] =&gt; 2&lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;$arr[3] =&gt; 5&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;$arr[4] =&gt; 3&lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br />
&lt;/table&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94663""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#94663" class="date">17-Nov-2009 03:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[EDIT BY danbrown AT php DOT net: The code provided by this anonymous author contains bugfixes for and additions to code originally donated by "toenie" on 07-NOV-09.&nbsp; The original author included the following note: "If you want to sort while using an 2 dimensional array, you can use this script I just wrote for myself. I thought it could be helpful for other people too."]
<br />

<br />
I also added the ability to sort in ascending and descending order.
<br />

<br />
$order = "ASC" will sort the array in ascending order
<br />
$order = "DESC" will sort the array in descending order
<br />

<br />
Here is the code:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">order_array_num </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$order </span><span class="keyword">= </span><span class="string">"ASC"</span><span class="keyword">) 
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= array();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$akey </span><span class="keyword">=&gt; </span><span class="default">$array2</span><span class="keyword">) 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">$akey</span><span class="keyword">] = </span><span class="default">$array2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$order </span><span class="keyword">== </span><span class="string">"DESC"</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {</span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$tmp </span><span class="keyword">, </span><span class="default">SORT_NUMERIC </span><span class="keyword">);}
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {</span><span class="default">asort</span><span class="keyword">(</span><span class="default">$tmp </span><span class="keyword">, </span><span class="default">SORT_NUMERIC </span><span class="keyword">);}
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp2 </span><span class="keyword">= array();&nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$tmp </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$tmp2</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93473""></a>
  <div class="note">
   <strong class="user">petr dot biza at gmail dot com</strong>
   <a href="#93473" class="date">11-Sep-2009 03:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function to sort an array by the key of his sub-array with keep key in top level.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">sksort</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$subkey</span><span class="keyword">=</span><span class="string">"id"</span><span class="keyword">, </span><span class="default">$sort_descending</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">, </span><span class="default">$keep_keys_in_sub </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$temp_array </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$temp_array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; &amp;</span><span class="default">$value</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$sort </span><span class="keyword">= array();
<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$value </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sort</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">[</span><span class="default">$subkey</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$sort</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$sort</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$newValue </span><span class="keyword">= array();
<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$index</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$keep_keys_in_sub</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newValue</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newValue</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">$sort_descending</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$newValue</span><span class="keyword">, </span><span class="default">$keep_keys_in_sub</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$newValue</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">$temp_array</span><span class="keyword">;
<br />
&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93187""></a>
  <div class="note">
   <strong class="user">phpnet at theindy dot net</strong>
   <a href="#93187" class="date">27-Aug-2009 07:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to the msort function I find that the array_multisort function is a lot faster.<br />
<br />
-John</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93157""></a>
  <div class="note">
   <strong class="user">danm68 at gmail dot com</strong>
   <a href="#93157" class="date">26-Aug-2009 06:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
sort() used with strings doesn't sort just alphabetically. It sorts all upper-case strings alphabetically first and then sorts lower-case strings alphabetically second. <br />
Just in case anyone was as confused as I was and I've never seen this mentioned anywhere.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89004""></a>
  <div class="note">
   <strong class="user">otobrglez at gmail dot com</strong>
   <a href="#89004" class="date">18-Feb-2009 09:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This will select number of unique keys from array and order them in original order.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
$rows - array of records<br />
$st - number of keys that you want to have<br />
<br />
By Oto Brglez.<br />
<br />
*/<br />
<br />
</span><span class="default">$pom_k </span><span class="keyword">= array();<br />
for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$st</span><span class="keyword">;){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pom </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$rows</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$pom</span><span class="keyword">,</span><span class="default">$pom_k</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pom_k</span><span class="keyword">[] = </span><span class="default">$pom</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; };<br />
};<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$pom_k</span><span class="keyword">,</span><span class="default">SORT_NUMERIC</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87548""></a>
  <div class="note">
   <strong class="user">stepmuel at ee dot ethz dot ch</strong>
   <a href="#87548" class="date">10-Dec-2008 05:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little shorter way to sort an array of objects; with a callback function.<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">function </span><span class="default">objSort</span><span class="keyword">(&amp;</span><span class="default">$objArray</span><span class="keyword">,</span><span class="default">$indexFunction</span><span class="keyword">,</span><span class="default">$sort_flags</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$indices </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$objArray </span><span class="keyword">as </span><span class="default">$obj</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$indeces</span><span class="keyword">[] = </span><span class="default">$indexFunction</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_multisort</span><span class="keyword">(</span><span class="default">$indeces</span><span class="keyword">,</span><span class="default">$objArray</span><span class="keyword">,</span><span class="default">$sort_flags</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">getIndex</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getPosition</span><span class="keyword">();<br />
}<br />
<br />
</span><span class="default">objSort</span><span class="keyword">(</span><span class="default">$objArray</span><span class="keyword">,</span><span class="string">'getIndex'</span><span class="keyword">); <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87032""></a>
  <div class="note">
   <strong class="user">jalil at measat dot org</strong>
   <a href="#87032" class="date">15-Nov-2008 10:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this is an implementation of the complement of 
<br />
Matthew Hood's objectSort (<a href="http://my.php.net/manual/en/function.sort.php#75036" rel="nofollow" target="_blank">http://my.php.net/manual/en/function.sort.php#75036</a>), which i found very convenient for sorting objects.
<br />

<br />
this does the reverse, it sorts according to the key
<br />
selected for the object but in reverse order.
<br />
and having both sort methods allows consistency and convenience for sorting objects, if speed isn't your major concern. 
<br />

<br />
the only change ( apart form data being reworded as object )&nbsp; is the use of &lt; instead of &gt; in the original.
<br />
you could of couse incorporate all in one routine, but why
<br />
complicate matters.
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">objectRSort</span><span class="keyword">(&amp;</span><span class="default">$object</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$swapped </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$i</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$object</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]-&gt;</span><span class="default">$key </span><span class="keyword">&lt; </span><span class="default">$object</span><span class="keyword">[</span><span class="default">$j </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">]-&gt;</span><span class="default">$key</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">$object</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$object</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="default">$object</span><span class="keyword">[</span><span class="default">$j </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">];&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$object</span><span class="keyword">[</span><span class="default">$j </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">] = </span><span class="default">$tmp</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$swapped </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">$swapped</span><span class="keyword">) return;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85620""></a>
  <div class="note">
   <strong class="user">www at designdetector dot com</strong>
   <a href="#85620" class="date">09-Sep-2008 04:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To sort an array of multiple text fields alphabetically you have to make the text lowercase before sorting the array. Otherwise PHP puts acronyms before words. You can see this in my example code. Simply store the original text field at the end of the array line and call it later from there. You can safely ignore the lowercase version which is added to the start of the array line.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'&lt;pre&gt;ORIGINAL DATA:<br />
&lt;br /&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">$data </span><span class="keyword">= array(<br />
</span><span class="string">'Saturn|7|8|9|0||'</span><span class="keyword">,<br />
</span><span class="string">'Hello|0|1|2|3||'</span><span class="keyword">,<br />
</span><span class="string">'SFX|5|3|2|4||'</span><span class="keyword">,<br />
</span><span class="string">'HP|9|0|5|6||'<br />
</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
<br />
echo </span><span class="string">'&lt;br /&gt;RAW SORT:<br />
&lt;br /&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
<br />
for (</span><span class="default">$c </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$c </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">); </span><span class="default">$c</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; list (</span><span class="default">$letter</span><span class="keyword">,</span><span class="default">$g1</span><span class="keyword">,</span><span class="default">$g2</span><span class="keyword">,</span><span class="default">$g3</span><span class="keyword">,</span><span class="default">$g4</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">) = </span><span class="default">explode </span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">, </span><span class="default">$data</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$lowercase </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$letter</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$data2</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">] = array(</span><span class="default">$lowercase</span><span class="keyword">,</span><span class="default">$g1</span><span class="keyword">,</span><span class="default">$g2</span><span class="keyword">,</span><span class="default">$g3</span><span class="keyword">,</span><span class="default">$g4</span><span class="keyword">,</span><span class="default">$letter</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$data2</span><span class="keyword">);<br />
</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$data2</span><span class="keyword">);<br />
<br />
echo </span><span class="string">'&lt;br /&gt;LOWERCASE SORT:<br />
&lt;br /&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$data2</span><span class="keyword">);<br />
<br />
echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80592""></a>
  <div class="note">
   <strong class="user">matpatnik at hotmail dot com</strong>
   <a href="#80592" class="date">24-Jan-2008 12:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function will sort entity letters eg:&amp;eacute;<br />
<br />
I hope that help someone<br />
<br />
function sort_entity($array) {<br />
&nbsp;&nbsp;&nbsp; $total = count($array);<br />
&nbsp;&nbsp;&nbsp; for ($i=0;$i&lt;$total;$i++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($array[$i]{0} == '&amp;') {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array[$i] = $array[$i]{1}.$array[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array[$i] = $array[$i]{0}.$array[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; sort($array);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for ($i=0;$i&lt;$total;$i++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $array[$i] = substr($array[$i],1);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return $array;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76198""></a>
  <div class="note">
   <strong class="user">NBS Studio</strong>
   <a href="#76198" class="date">04-Jul-2007 10:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is my way of sorting files into date modified date order. It worked for me!<br />
<br />
$dir='topics';<br />
$ext='php5';<br />
$files=scandir($dir);<br />
foreach($files as $fs){<br />
&nbsp;&nbsp;&nbsp; if(($fs!='.')&amp;&amp;($fs!='..')){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $fs1.='?'.filemtime($dir.'/'.$fs).'#'.$fs;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
$fs2=split('[?]',$fs1);<br />
arsort($fs2);<br />
foreach($fs2 as $fs3){<br />
&nbsp;&nbsp;&nbsp; if(eregi($ext,$fs3)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $fs4.='?'.$fs3;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
$fs5=split('[#]',$fs4);<br />
foreach($fs5 as $fs6){<br />
&nbsp;&nbsp;&nbsp; if(eregi($ext,$fs6)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $fs7.='?'.$fs6;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
$fs8=split('[?]',$fs7);<br />
foreach($fs8 as $fs9){<br />
&nbsp;&nbsp;&nbsp; $file_list.=$fs9.'<br />
&lt;/br&gt;';<br />
}<br />
<br />
print $file_list;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75957""></a>
  <div class="note">
   <strong class="user">sinan at sinaneldem dot com</strong>
   <a href="#75957" class="date">24-Jun-2007 05:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here is little script which will merge arrays, remove duplicates and sort it by alphabetical order:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array1 </span><span class="keyword">= array(</span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'banana'</span><span class="keyword">,</span><span class="string">'pear'</span><span class="keyword">);<br />
</span><span class="default">$array2 </span><span class="keyword">= array(</span><span class="string">'grape'</span><span class="keyword">, </span><span class="string">'pear'</span><span class="keyword">,</span><span class="string">'orange'</span><span class="keyword">);<br />
<br />
function </span><span class="default">array_unique_merge_sort</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$array2</span><span class="keyword">){<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$array2</span><span class="keyword">));<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$new</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
}<br />
return </span><span class="default">$new</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">print_r </span><span class="keyword">(</span><span class="default">array_unique_merge_sort</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$array2</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
this will print out:<br />
<br />
Array ( [0] =&gt; apple [1] =&gt; banana [2] =&gt; grape [3] =&gt; orange [4] =&gt; pear )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75381""></a>
  <div class="note">
   <strong class="user">alishahnovin at hotmail dot com</strong>
   <a href="#75381" class="date">26-May-2007 01:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had a multidimensional array, which needed to be sorted by one of the keys. This is what I came up with...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">msort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">=</span><span class="string">"id"</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$lowest_id </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$index</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$item</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">]&lt;</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$lowest_id</span><span class="keyword">][</span><span class="default">$id</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$lowest_id </span><span class="keyword">= </span><span class="default">$index</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$index</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp_array</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$lowest_id</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">,</span><span class="default">$lowest_id</span><span class="keyword">), </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$lowest_id</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$temp_array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Ex:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//oh no, this is not in the ordered by id!!<br />
</span><span class="default">$data</span><span class="keyword">[] = array(</span><span class="string">"item"</span><span class="keyword">=&gt;</span><span class="string">"item 4"</span><span class="keyword">, </span><span class="string">"id"</span><span class="keyword">=&gt;</span><span class="default">4</span><span class="keyword">);<br />
</span><span class="default">$data</span><span class="keyword">[] = array(</span><span class="string">"item"</span><span class="keyword">=&gt;</span><span class="string">"item 1"</span><span class="keyword">, </span><span class="string">"id"</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$data</span><span class="keyword">[] = array(</span><span class="string">"item"</span><span class="keyword">=&gt;</span><span class="string">"item 3"</span><span class="keyword">, </span><span class="string">"id"</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$data</span><span class="keyword">[] = array(</span><span class="string">"item"</span><span class="keyword">=&gt;</span><span class="string">"item 2"</span><span class="keyword">, </span><span class="string">"id"</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(&nbsp; </span><span class="default">msort</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)&nbsp; ); </span><span class="comment">//just msort it!<br />
<br />
/* outputs <br />
<br />
array<br />
&nbsp; 0 =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'item' =&gt; 'item 1' (length=6)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'id' =&gt; 1<br />
&nbsp; 1 =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'item' =&gt; 'item 2' (length=6)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'id' =&gt; 2<br />
&nbsp; 2 =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'item' =&gt; 'item 3' (length=6)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'id' =&gt; 3<br />
&nbsp; 3 =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'item' =&gt; 'item 4' (length=6)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'id' =&gt; 4<br />
<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72780""></a>
  <div class="note">
   <strong class="user">joris at mangrove dot nl</strong>
   <a href="#72780" class="date">01-Feb-2007 02:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Commenting on note <a href="http://www.php.net/manual/en/function.sort.php#62311 :" rel="nofollow" target="_blank">http://www.php.net/manual/en/function.sort.php#62311 :</a><br />
<br />
Sorting an array of objects will not always yield the results you desire.<br />
<br />
As pointed out correctly in the note above, sort() sorts the array by value of the first member variable. However, you can not always assume the order of your member variables! You must take into account your class hierarchy!<br />
<br />
By default, PHP places the inherited member variables on top, meaning your first member variable is NOT the first variable in your class definition! <br />
However, if you use code analyzers or a compile cache, things can be very different. E.g., in eAccelerator, the inherited member variables are at the end, meaning you get different sort results with caching on or off.<br />
<br />
Conclusion:<br />
Never use sort on arrays with values of a type other than scalar or array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72618""></a>
  <div class="note">
   <strong class="user">alex [at] vkpb [dot] com</strong>
   <a href="#72618" class="date">26-Jan-2007 12:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sorting of an array by a method of inserts.<br />
<br />
&lt;?<br />
<br />
&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; function sortByField($multArray,$sortField,$desc=true){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $tmpKey='';<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ResArray=array();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $maIndex=array_keys($multArray);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $maSize=count($multArray)-1;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for($i=0; $i &lt; $maSize ; $i++) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $minElement=$i;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tempMin=$multArray[$maIndex[$i]][$sortField];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tmpKey=$maIndex[$i];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for($j=$i+1; $j &lt;= $maSize; $j++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($multArray[$maIndex[$j]][$sortField] &lt; $tempMin ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $minElement=$j;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tmpKey=$maIndex[$j];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tempMin=$multArray[$maIndex[$j]][$sortField];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $maIndex[$minElement]=$maIndex[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $maIndex[$i]=$tmpKey;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($desc)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for($j=0;$j&lt;=$maSize;$j++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ResArray[$maIndex[$j]]=$multArray[$maIndex[$j]];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for($j=$maSize;$j&gt;=0;$j--)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ResArray[$maIndex[$j]]=$multArray[$maIndex[$j]];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $ResArray;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
<br />
// make array<br />
$array['aaa']=array("name"=&gt;"vasia","order"=&gt;1);<br />
$array['bbb']=array("name"=&gt;"petia","order"=&gt;2);<br />
$array['ccc']=array("name"=&gt;"kolia","order"=&gt;3);<br />
$array['ddd']=array("name"=&gt;"zenia","order"=&gt;4);<br />
<br />
// set sort <br />
$SortOrder=0; // desc by default , 1- asc<br />
<br />
var_dump(sortByField($array,'order',$SortOrder));<br />
<br />
array<br />
&nbsp; 'ddd' =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'name' =&gt; 'zenia' (length=5)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'order' =&gt; 4<br />
&nbsp; 'aaa' =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'name' =&gt; 'vasia' (length=5)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'order' =&gt; 1<br />
&nbsp; 'bbb' =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'name' =&gt; 'petia' (length=5)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'order' =&gt; 2<br />
&nbsp; 'ccc' =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'name' =&gt; 'kolia' (length=5)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'order' =&gt; 3<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68148""></a>
  <div class="note">
   <strong class="user">g8z at yahoo dot com</strong>
   <a href="#68148" class="date">15-Jul-2006 01:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
This sort function allows you to sort an associative array while "sticking" some fields.<br />
<br />
$sticky_fields = an array of fields that should not be re-sorted. This is a method of achieving sub-sorts within contiguous groups of records that have common data in some fields.<br />
<br />
For example:<br />
<br />
$a = array();<br />
<br />
$a []= array(<br />
&nbsp;&nbsp;&nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; =&gt; 'Sam',<br />
&nbsp;&nbsp;&nbsp; 'age'&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; =&gt; 23,<br />
&nbsp;&nbsp;&nbsp; 'hire_date'&nbsp; &nbsp; =&gt; '2004-01-01'<br />
);<br />
$a []= array(<br />
&nbsp;&nbsp;&nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Sam',<br />
&nbsp;&nbsp;&nbsp; 'age'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 44,<br />
&nbsp;&nbsp;&nbsp; 'hire_date'&nbsp; &nbsp; =&gt; '2003-03-23'<br />
);<br />
$a []= array(<br />
&nbsp;&nbsp;&nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Jenny',<br />
&nbsp;&nbsp;&nbsp; 'age'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 20,<br />
&nbsp;&nbsp;&nbsp; 'hire_date' =&gt; '2000-12-31'<br />
);<br />
$a []= array(<br />
&nbsp;&nbsp;&nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Samantha',<br />
&nbsp;&nbsp;&nbsp; 'age'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 50,<br />
&nbsp;&nbsp;&nbsp; 'hire_date' =&gt; '2000-12-14'<br />
);<br />
<br />
$sticky_fields = array( 'name' );<br />
print_r( stickysort( $a, 'age', DESC_NUM, $sticky_fields ) );<br />
<br />
OUTPUT:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Sam<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 44<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [hire_date] =&gt; 2003-03-23<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Sam<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 23<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [hire_date] =&gt; 2004-01-01<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Jenny<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 20<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [hire_date] =&gt; 2000-12-31<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Samantha<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [age] =&gt; 50<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [hire_date] =&gt; 2000-12-14<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)<br />
<br />
Here's why this is the correct output - the "name" field is sticky, so it cannot change its sort order. Thus, the "age" field is only sorted as a sub-sort within records where "name" is identical. Thus, the "Sam" records are reversed, because 44 &gt; 23, but Samantha remains at the bottom, even though her age is 50. This is a way of achieving "sub-sorts" and "sub-sub-sorts" (and so on) within records of identical data for specific fields.<br />
<br />
Courtesy of the $5 Script Archive: <a href="http://www.tufat.com" rel="nofollow" target="_blank">http://www.tufat.com</a><br />
**/<br />
<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">'ASC_AZ'</span><span class="keyword">, </span><span class="default">1000 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">'DESC_AZ'</span><span class="keyword">, </span><span class="default">1001 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">'ASC_NUM'</span><span class="keyword">, </span><span class="default">1002 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">'DESC_NUM'</span><span class="keyword">, </span><span class="default">1003 </span><span class="keyword">);<br />
<br />
function </span><span class="default">stickysort</span><span class="keyword">( </span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">, </span><span class="default">$sort_type</span><span class="keyword">, </span><span class="default">$sticky_fields </span><span class="keyword">= array() ) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$is_contiguous </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!empty(</span><span class="default">$grouped_arr</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last_value </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!(</span><span class="default">$sticky_fields </span><span class="keyword">== array())) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$sticky_fields </span><span class="keyword">as </span><span class="default">$sticky_field</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value</span><span class="keyword">[</span><span class="default">$sticky_field</span><span class="keyword">] &lt;&gt; </span><span class="default">$last_value</span><span class="keyword">[</span><span class="default">$sticky_field</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$is_contiguous </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$is_contiguous</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$grouped_arr</span><span class="keyword">[++</span><span class="default">$i</span><span class="keyword">][] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">$sort_type</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">ASC_AZ</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return strcasecmp($a["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"], $b["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"]);'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">DESC_AZ</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return (-1*strcasecmp($a["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"], $b["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"]));'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">ASC_NUM</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return ($a["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"] - $b["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"]);'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">DESC_NUM</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return ($b["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"] - $a["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"]);'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$compare </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$a, $b'</span><span class="keyword">, </span><span class="default">$code</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$grouped_arr </span><span class="keyword">as </span><span class="default">$grouped_arr_key</span><span class="keyword">=&gt;</span><span class="default">$grouped_arr_value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">usort </span><span class="keyword">( </span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$grouped_arr_key</span><span class="keyword">], </span><span class="default">$compare </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$grouped_arr </span><span class="keyword">as </span><span class="default">$grouped_arr_key</span><span class="keyword">=&gt;</span><span class="default">$grouped_arr_value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$grouped_arr_key</span><span class="keyword">] as </span><span class="default">$grouped_arr_arr_key</span><span class="keyword">=&gt;</span><span class="default">$grouped_arr_arr_value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[] = </span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$grouped_arr_key</span><span class="keyword">][</span><span class="default">$grouped_arr_arr_key</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$arr</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68024""></a>
  <div class="note">
   <strong class="user">g8z at yahoo dot com</strong>
   <a href="#68024" class="date">10-Jul-2006 05:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
This sort function allows you to sort an associative array while "sticking" some fields.<br />
<br />
$sticky_fields = an array of fields that should not be re-sorted. This is a method of achieving sub-sorts within contiguous groups of records that have common data in some fields.<br />
<br />
Courtesy of the $5 Script Archive: <a href="http://www.tufat.com" rel="nofollow" target="_blank">http://www.tufat.com</a><br />
**/<br />
<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">'ASC_AZ'</span><span class="keyword">, </span><span class="default">1000 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">'DESC_AZ'</span><span class="keyword">, </span><span class="default">1001 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">'ASC_NUM'</span><span class="keyword">, </span><span class="default">1002 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">'DESC_NUM'</span><span class="keyword">, </span><span class="default">1003 </span><span class="keyword">);<br />
<br />
function </span><span class="default">stickysort</span><span class="keyword">( </span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">, </span><span class="default">$sort_type</span><span class="keyword">, </span><span class="default">$sticky_fields </span><span class="keyword">= array() ) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$is_contiguous </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!empty(</span><span class="default">$grouped_arr</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last_value </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!(</span><span class="default">$sticky_fields </span><span class="keyword">== array())) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$sticky_fields </span><span class="keyword">as </span><span class="default">$sticky_field</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value</span><span class="keyword">[</span><span class="default">$sticky_field</span><span class="keyword">] &lt;&gt; </span><span class="default">$last_value</span><span class="keyword">[</span><span class="default">$sticky_field</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$is_contiguous </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$is_contiguous</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$grouped_arr</span><span class="keyword">[++</span><span class="default">$i</span><span class="keyword">][] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">$sort_type</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">ASC_AZ</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return strcasecmp($a["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"], $b["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"]);'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">DESC_AZ</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return (-1*strcasecmp($a["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"], $b["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"]));'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">ASC_NUM</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return ($a["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"] - $b["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"]);'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">DESC_NUM</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return ($b["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"] - $a["'</span><span class="keyword">.</span><span class="default">$field</span><span class="keyword">.</span><span class="string">'"]);'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$compare </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$a, $b'</span><span class="keyword">, </span><span class="default">$code</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$grouped_arr </span><span class="keyword">as </span><span class="default">$grouped_arr_key</span><span class="keyword">=&gt;</span><span class="default">$grouped_arr_value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">usort </span><span class="keyword">( </span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$grouped_arr_key</span><span class="keyword">], </span><span class="default">$compare </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$grouped_arr </span><span class="keyword">as </span><span class="default">$grouped_arr_key</span><span class="keyword">=&gt;</span><span class="default">$grouped_arr_value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$grouped_arr_key</span><span class="keyword">] as </span><span class="default">$grouped_arr_arr_key</span><span class="keyword">=&gt;</span><span class="default">$grouped_arr_arr_value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[] = </span><span class="default">$grouped_arr</span><span class="keyword">[</span><span class="default">$grouped_arr_key</span><span class="keyword">][</span><span class="default">$grouped_arr_arr_key</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$arr</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63715""></a>
  <div class="note">
   <strong class="user">Emiliyan at ServicesBG dot Com</strong>
   <a href="#63715" class="date">29-Mar-2006 04:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
#This is a function that will sort an array...<br />
function sort_by($array,&nbsp; $keyname = null, $sortby) {<br />
&nbsp;&nbsp; $myarray = $inarray = array();&nbsp; &nbsp; <br />
&nbsp;&nbsp; # First store the keyvalues in a seperate array<br />
&nbsp;&nbsp;&nbsp; foreach ($array as $i =&gt; $befree) { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $myarray[$i] = $array[$i][$keyname];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; # Sort the new array by<br />
&nbsp;&nbsp;&nbsp; switch ($sortby) {<br />
&nbsp;&nbsp;&nbsp; case 'asc':<br />
&nbsp;&nbsp;&nbsp; # Sort an array and maintain index association...<br />
&nbsp;&nbsp;&nbsp; asort($myarray); <br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; case 'arsort':<br />
&nbsp;&nbsp;&nbsp; # Sort an array in reverse order and maintain index association <br />
&nbsp;&nbsp;&nbsp; arsort($myarray); <br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; case 'natcasesor':<br />
&nbsp;&nbsp;&nbsp; # Sort an array using a case insensitive "natural order" algorithm<br />
&nbsp;&nbsp;&nbsp; natcasesort($myarray); <br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; # Rebuild the old array<br />
&nbsp;&nbsp;&nbsp; foreach ( $myarray as $key=&gt; $befree) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; $inarray[$key] = $array[$key];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $inarray;<br />
} <br />
sort_by(); example...<br />
$info = sort_by($myarray, 'name', $use = 'asc');&nbsp; &nbsp; <br />
print_r($info);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62341""></a>
  <div class="note">
   <strong class="user">ludvig dot ericson at gmail dot com</strong>
   <a href="#62341" class="date">25-Feb-2006 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A tip for those who like "raul at jimi dot com dot mx" need to preserve keys after changing stuff in the middle of an array:<br />
array_values.<br />
<br />
Example:<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]); </span><span class="comment">// Remove index 3, which is 9.<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Hint: array_values can be fine for removing keys and reindex them by number instead, too (applies to functions like posix_pwgetuid which returns an associative array, unlike C and others, call array_values on it, and it'll be the same format IIRC.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62311""></a>
  <div class="note">
   <strong class="user">jesper at snt dot utwente dot nl</strong>
   <a href="#62311" class="date">24-Feb-2006 10:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you sort an array of objects, the first variable in the object will be used for sorting:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">foo<br />
</span><span class="keyword">{<br />
&nbsp; var </span><span class="default">$value</span><span class="keyword">; </span><span class="comment">//First variable: Used for sorting<br />
&nbsp; </span><span class="keyword">var </span><span class="default">$id</span><span class="keyword">;<br />
<br />
&nbsp; function </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value </span><span class="keyword">= </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
}<br />
<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp; </span><span class="default">$bar</span><span class="keyword">[] = new </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">,</span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="comment">// This will sort on value<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Compare the piece of code above with the following:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">foo<br />
</span><span class="keyword">{<br />
&nbsp; var </span><span class="default">$id</span><span class="keyword">; </span><span class="comment">//First variable: Used for sorting<br />
&nbsp; </span><span class="keyword">var </span><span class="default">$value</span><span class="keyword">;<br />
<br />
&nbsp; function </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value </span><span class="keyword">= </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
}<br />
<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp; </span><span class="default">$bar</span><span class="keyword">[] = new </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">,</span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="comment">// This will sort on id<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
As you can see the location of declaration of the variables matter!<br />
If you want to sort on both or on a combination of variables, use ksort()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62222""></a>
  <div class="note">
   <strong class="user">jerome a-t+ yamafoto d*o*t com</strong>
   <a href="#62222" class="date">22-Feb-2006 06:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
when sorting an array, beware of variable type from elements you put in this array<br />
<br />
Example:<br />
<br />
$a = 2; // $a is an integer<br />
$b = 'item';<br />
$arr = array($a, $b);<br />
sort($arr);<br />
<br />
print_r($arr);<br />
<br />
this will output:<br />
$arr[0] = 'item';<br />
$arr[1] = 2;<br />
<br />
$a = '2'; // $a is a string<br />
$b = 'item';<br />
$arr = array($a, $b);<br />
sort($arr);<br />
<br />
print_r($arr);<br />
<br />
this will output:<br />
$arr[0] = '2';<br />
$arr[1] = 'item'<br />
<br />
to avoid this problem use:<br />
<br />
sort($arr, SORT_STRING)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61305""></a>
  <div class="note">
   <strong class="user">nm at thenoodleman dot com</strong>
   <a href="#61305" class="date">31-Jan-2006 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Faster, more effective function:<br />
<br />
array_sort (array, ['asc'/'desc'])<br />
<br />
Second parameter specifies whether to order ascending or descending. Default is ascending.<br />
<br />
function array_sort($array, $type='asc'){<br />
&nbsp;&nbsp;&nbsp; $result=array();<br />
&nbsp;&nbsp;&nbsp; foreach($array as $var =&gt; $val){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $set=false;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach($result as $var2 =&gt; $val2){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($set==false){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($val&gt;$val2 &amp;&amp; $type=='desc' || $val&lt;$val2 &amp;&amp; $type=='asc'){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $temp=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach($result as $var3 =&gt; $val3){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($var3==$var2) $set=true;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($set){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $temp[$var3]=$val3;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset($result[$var3]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $result[$var]=$val;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach($temp as $var3 =&gt; $val3){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $result[$var3]=$val3;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!$set){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $result[$var]=$val;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $result;<br />
}<br />
<br />
Works for ordering by integers or strings, no need to specify which.<br />
<br />
Example:<br />
<br />
$array=array('a' =&gt; 50, 'b' =&gt; 25, 'c' =&gt; 75);<br />
print_r(array_sort($array));<br />
<br />
Returns:<br />
Array<br />
(<br />
[b] =&gt; 25<br />
[a] =&gt; 50<br />
[c] =&gt; 75<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61063""></a>
  <div class="note">
   <strong class="user">james at miicro dot net</strong>
   <a href="#61063" class="date">24-Jan-2006 07:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Further to john dot dutcher at highmark dot com's comments - padding the name could cause a problem if you get abnormally long names, it might be better to rebuild the array thus:<br />
<br />
Array (<br />
[0] =&gt; Array ( [sortname_01] =&gt; Dutcher [sortname_02] =&gt; F [sortname_03] =&gt; John [name] =&gt; Dutcher, John F )<br />
[1] =&gt; Array ( [sortname_01] =&gt; Dutch [sortname_02] =&gt; A [sortname_03] =&gt; Roger [name] =&gt; Dutch, Roger A )<br />
[2] =&gt; Array ( [sortname_01] =&gt; Dut [sortname_02] =&gt; H [sortname_03] =&gt; Maurice [name] =&gt; Dut, Maurice H )<br />
[3] =&gt; Array ( [sortname_01] =&gt; Dut [sortname_02] =&gt; S [sortname_03] =&gt; Mildred [name] =&gt; Dut, Mildred S )<br />
)<br />
<br />
which should give:<br />
<br />
Array (<br />
[0] =&gt; Array ( [sortname_01] =&gt; Dut [sortname_02] =&gt; H [sortname_03] =&gt; Maurice [name] =&gt; Dut, Maurice H )<br />
[1] =&gt; Array ( [sortname_01] =&gt; Dut [sortname_02] =&gt; S [sortname_03] =&gt; Mildred [name] =&gt; Dut, Mildred S )<br />
[2] =&gt; Array ( [sortname_01] =&gt; Dutch [sortname_02] =&gt; A [sortname_03] =&gt; Roger [name] =&gt; Dutch, Roger A )<br />
[3] =&gt; Array ( [sortname_01] =&gt; Dutcher [sortname_02] =&gt; F [sortname_03] =&gt; John [name] =&gt; Dutcher, John F )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59292""></a>
  <div class="note">
   <strong class="user">raul at jimi dot com dot mx</strong>
   <a href="#59292" class="date">02-Dec-2005 06:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had an array like this:<br />
$arr=array (1,4,3,6,5);<br />
<br />
which returns this:<br />
$arr[0]=1<br />
$arr[1]=4<br />
$arr[2]=3<br />
$arr[3]=6<br />
$arr[4]=5<br />
<br />
But lets say i remove [2] which is number 3, i get:<br />
<br />
$arr[0]=1<br />
$arr[1]=4<br />
$arr[3]=6<br />
$arr[4]=5<br />
<br />
And i want to reindex without doing a sort because i dont want to lose the order of the numbers (like a pop in a stack but in the middle of the list), i do this:<br />
<br />
$arr=array_chunk($arr,count($arr));<br />
$arr=$arr[0];<br />
<br />
the result is:<br />
<br />
$arr[0]=1<br />
$arr[1]=4<br />
$arr[2]=6<br />
$arr[3]=5<br />
<br />
This can be applied mostly for tree sorting, when you only have the id and the parent values of the node, and you want to have N levels.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54903""></a>
  <div class="note">
   <strong class="user">james at miicro dot net</strong>
   <a href="#54903" class="date">19-Jul-2005 11:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's useful to know that if you're using this function on a multidimensional array, php will sort the first key, then the second and so on. This is similar to being able to use SQL to order by field1, field2 etc.<br />
<br />
So:<br />
<br />
Array ( <br />
[0] =&gt; Array ( [category] =&gt; work [name] =&gt; Smith ) <br />
[1] =&gt; Array ( [category] =&gt; play [name] =&gt; Johnson ) <br />
[2] =&gt; Array ( [category] =&gt; work [name] =&gt; Berger )<br />
)<br />
<br />
will become:<br />
<br />
Array ( <br />
[0] =&gt; Array ( [category] =&gt; play [name] =&gt; Johnson )<br />
[1] =&gt; Array ( [category] =&gt; work [name] =&gt; Berger ) <br />
[2] =&gt; Array ( [category] =&gt; work [name] =&gt; Smith ) <br />
)<br />
<br />
Hope it helps someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50099""></a>
  <div class="note">
   <strong class="user">timc at hlyw dot com</strong>
   <a href="#50099" class="date">18-Feb-2005 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I dig the multi_sort function(s) from above.&nbsp; But, they don't work for hash arrays.&nbsp; I added a keys variable to keep track of the key value as the array gets sorted.&nbsp; Feed back welcome.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_qsort </span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$column</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$order</span><span class="keyword">=</span><span class="default">SORT_ASC</span><span class="keyword">, </span><span class="default">$first</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$last</span><span class="keyword">= -</span><span class="default">2</span><span class="keyword">) <br />
{ <br />
&nbsp; </span><span class="comment">// $array&nbsp; - the array to be sorted <br />
&nbsp; // $column - index (column) on which to sort <br />
&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; can be a string if using an associative array <br />
&nbsp; // $order&nbsp; - SORT_ASC (default) for ascending or SORT_DESC for descending <br />
&nbsp; // $first&nbsp; - start index (row) for partial array sort <br />
&nbsp; // $last&nbsp; - stop&nbsp; index (row) for partial array sort <br />
&nbsp; // $keys&nbsp; - array of key values for hash array sort<br />
&nbsp; <br />
&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp; if(</span><span class="default">$last </span><span class="keyword">== -</span><span class="default">2</span><span class="keyword">) </span><span class="default">$last </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">; <br />
&nbsp; if(</span><span class="default">$last </span><span class="keyword">&gt; </span><span class="default">$first</span><span class="keyword">) { <br />
&nbsp;&nbsp; </span><span class="default">$alpha </span><span class="keyword">= </span><span class="default">$first</span><span class="keyword">; <br />
&nbsp;&nbsp; </span><span class="default">$omega </span><span class="keyword">= </span><span class="default">$last</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$key_alpha </span><span class="keyword">= </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$alpha</span><span class="keyword">]; <br />
&nbsp;&nbsp; </span><span class="default">$key_omega </span><span class="keyword">= </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$omega</span><span class="keyword">];<br />
&nbsp;&nbsp; </span><span class="default">$guess </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_alpha</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">]; <br />
&nbsp;&nbsp; while(</span><span class="default">$omega </span><span class="keyword">&gt;= </span><span class="default">$alpha</span><span class="keyword">) { <br />
&nbsp;&nbsp; &nbsp; if(</span><span class="default">$order </span><span class="keyword">== </span><span class="default">SORT_ASC</span><span class="keyword">) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; while(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_alpha</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">] &lt; </span><span class="default">$guess</span><span class="keyword">) {</span><span class="default">$alpha</span><span class="keyword">++; </span><span class="default">$key_alpha </span><span class="keyword">= </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$alpha</span><span class="keyword">]; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; while(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_omega</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">] &gt; </span><span class="default">$guess</span><span class="keyword">) {</span><span class="default">$omega</span><span class="keyword">--; </span><span class="default">$key_omega </span><span class="keyword">= </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$omega</span><span class="keyword">]; }<br />
&nbsp;&nbsp; &nbsp; } else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; while(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_alpha</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">] &gt; </span><span class="default">$guess</span><span class="keyword">) {</span><span class="default">$alpha</span><span class="keyword">++; </span><span class="default">$key_alpha </span><span class="keyword">= </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$alpha</span><span class="keyword">]; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; while(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_omega</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">] &lt; </span><span class="default">$guess</span><span class="keyword">) {</span><span class="default">$omega</span><span class="keyword">--; </span><span class="default">$key_omega </span><span class="keyword">= </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$omega</span><span class="keyword">]; }<br />
&nbsp;&nbsp; &nbsp; } <br />
&nbsp;&nbsp; &nbsp; if(</span><span class="default">$alpha </span><span class="keyword">&gt; </span><span class="default">$omega</span><span class="keyword">) break; <br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$temporary </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_alpha</span><span class="keyword">]; <br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_alpha</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_omega</span><span class="keyword">]; </span><span class="default">$alpha</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$key_alpha </span><span class="keyword">= </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$alpha</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key_omega</span><span class="keyword">] = </span><span class="default">$temporary</span><span class="keyword">; </span><span class="default">$omega</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$key_omega </span><span class="keyword">= </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$omega</span><span class="keyword">];<br />
&nbsp;&nbsp; } <br />
&nbsp;&nbsp; </span><span class="default">array_qsort </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$column</span><span class="keyword">, </span><span class="default">$order</span><span class="keyword">, </span><span class="default">$first</span><span class="keyword">, </span><span class="default">$omega</span><span class="keyword">); <br />
&nbsp;&nbsp; </span><span class="default">array_qsort </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$column</span><span class="keyword">, </span><span class="default">$order</span><span class="keyword">, </span><span class="default">$alpha</span><span class="keyword">, </span><span class="default">$last</span><span class="keyword">); <br />
&nbsp; } <br />
} <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45484""></a>
  <div class="note">
   <strong class="user">anthony at ectrolinux dot com</strong>
   <a href="#45484" class="date">09-Sep-2004 01:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In a brief addition to the previous poster's message, the ascending sorting order used by PHP directly corresponds to ISO-8859-1 (ASCII). Therefore the character \48 (numeral 0) would be placed before the character \82 (R), which would be placed before the character \110 (n), and so forth.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45214""></a>
  <div class="note">
   <strong class="user">teunkloosterman at hotmail dot com</strong>
   <a href="#45214" class="date">30-Aug-2004 10:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just to show how it sorts:<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= Array(</span><span class="string">"1"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"3"</span><span class="keyword">, </span><span class="string">"4"</span><span class="keyword">, </span><span class="string">"5"</span><span class="keyword">, </span><span class="string">"6"</span><span class="keyword">, </span><span class="string">"7"</span><span class="keyword">, </span><span class="string">"8"</span><span class="keyword">, </span><span class="string">"9"</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">, </span><span class="string">"d"</span><span class="keyword">, </span><span class="string">"e"</span><span class="keyword">, </span><span class="string">"f"</span><span class="keyword">, </span><span class="string">"g"</span><span class="keyword">, </span><span class="string">"h"</span><span class="keyword">, </span><span class="string">"i"</span><span class="keyword">, </span><span class="string">"j"</span><span class="keyword">, </span><span class="string">"k"</span><span class="keyword">, </span><span class="string">"l"</span><span class="keyword">, </span><span class="string">"m"</span><span class="keyword">, </span><span class="string">"n"</span><span class="keyword">, </span><span class="string">"o"</span><span class="keyword">, </span><span class="string">"p"</span><span class="keyword">, </span><span class="string">"q"</span><span class="keyword">, </span><span class="string">"r"</span><span class="keyword">, </span><span class="string">"s"</span><span class="keyword">, </span><span class="string">"t"</span><span class="keyword">, </span><span class="string">"u"</span><span class="keyword">, </span><span class="string">"v"</span><span class="keyword">, </span><span class="string">"w"</span><span class="keyword">, </span><span class="string">"x"</span><span class="keyword">, </span><span class="string">"y"</span><span class="keyword">, </span><span class="string">"z"</span><span class="keyword">, </span><span class="string">"A"</span><span class="keyword">, </span><span class="string">"B"</span><span class="keyword">, </span><span class="string">"C"</span><span class="keyword">, </span><span class="string">"D"</span><span class="keyword">, </span><span class="string">"E"</span><span class="keyword">, </span><span class="string">"F"</span><span class="keyword">, </span><span class="string">"G"</span><span class="keyword">, </span><span class="string">"H"</span><span class="keyword">, </span><span class="string">"I"</span><span class="keyword">, </span><span class="string">"J"</span><span class="keyword">, </span><span class="string">"K"</span><span class="keyword">, </span><span class="string">"L"</span><span class="keyword">, </span><span class="string">"M"</span><span class="keyword">, </span><span class="string">"N"</span><span class="keyword">, </span><span class="string">"O"</span><span class="keyword">, </span><span class="string">"P"</span><span class="keyword">, </span><span class="string">"Q"</span><span class="keyword">, </span><span class="string">"R"</span><span class="keyword">, </span><span class="string">"S"</span><span class="keyword">, </span><span class="string">"T"</span><span class="keyword">, </span><span class="string">"U"</span><span class="keyword">, </span><span class="string">"V"</span><span class="keyword">, </span><span class="string">"W"</span><span class="keyword">, </span><span class="string">"X"</span><span class="keyword">, </span><span class="string">"Y"</span><span class="keyword">, </span><span class="string">"Z"</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">, </span><span class="string">"!"</span><span class="keyword">, </span><span class="string">"@"</span><span class="keyword">, </span><span class="string">"#"</span><span class="keyword">, </span><span class="string">"\\\$"</span><span class="keyword">, </span><span class="string">"%"</span><span class="keyword">, </span><span class="string">"^"</span><span class="keyword">, </span><span class="string">"&amp;"</span><span class="keyword">, </span><span class="string">"*"</span><span class="keyword">, </span><span class="string">"("</span><span class="keyword">, </span><span class="string">")"</span><span class="keyword">, </span><span class="string">"_"</span><span class="keyword">, </span><span class="string">"-"</span><span class="keyword">, </span><span class="string">"="</span><span class="keyword">, </span><span class="string">"+"</span><span class="keyword">, </span><span class="string">"\\\\"</span><span class="keyword">, </span><span class="string">"|"</span><span class="keyword">, </span><span class="string">","</span><span class="keyword">, </span><span class="string">"&lt;"</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">"&gt;"</span><span class="keyword">, </span><span class="string">"?"</span><span class="keyword">, </span><span class="string">"'"</span><span class="keyword">, </span><span class="string">"\\\""</span><span class="keyword">, </span><span class="string">"`"</span><span class="keyword">, </span><span class="string">"~"</span><span class="keyword">);<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
returns:<br />
<br />
&nbsp;!"#$%&amp;'()*+,-.0123456789&lt;=&gt;?<br />
@ABCDEFGHIJKLMNOPQRSTUVWXYZ<br />
\^_`abcdefghijklmnopqrstuvwxyz|~<br />
<br />
note: the result begins with a space</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29058""></a>
  <div class="note">
   <strong class="user">arjan321 at hotmail dot com</strong>
   <a href="#29058" class="date">31-Jan-2003 09:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Ik you want to sort case insensitive, use the natcasesort()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13839""></a>
  <div class="note">
   <strong class="user">phpdotnetNO_SPAM at electronic-strategy dot com</strong>
   <a href="#13839" class="date">05-Jul-2001 06:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/*
<br />
Small function to Alphabetically sort Multidimensional arrays by index values of an n dimension array. 
<br />

<br />
I have only tested this for sorting an array of up to 6 dimensions by a value within the second dimension. This code is very rough and works for my purposes, but has not been tested beyond my needs.
<br />

<br />
Although a little clunky and not a mathematical type algorithm, it get's the job done. It theoretically overcomes many of the problems I have seen with multidimensional arrays in that it is possible to specify within the function, not by reference :-(, which index you wish to sort by, no matter how many dimensions down.
<br />

<br />
call function by assigning it to a new / existing array:
<br />

<br />
$row_array = multidimsort($row_array);
<br />
*/
<br />

<br />
function multidimsort($array_in) {
<br />
&nbsp;&nbsp; &nbsp; $multiarray = array();
<br />
&nbsp;&nbsp;&nbsp; $array_out = array();
<br />
&nbsp;&nbsp;&nbsp; $loopvalue = 0;
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; /* -1 as traversal of array starts from 0, count() starts from 1 */
<br />
&nbsp;&nbsp;&nbsp; $multicount = count($array_in) - 1; 
<br />

<br />
&nbsp;&nbsp;&nbsp; /* add the indexes you wish to sort array by to a new array in this case index is two levels down, but shouldn't make a difference if it goes further indexes down. (Not tested!) */
<br />
&nbsp;&nbsp;&nbsp; for($i = 0; $i &lt;= $multicount; $i++) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array_push($multiarray, $array_in[$i][2]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //array_push($multiarray, $array_in[$i][2][4]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //array_push($multiarray, $array_in[$i][1][3][7]);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; /* alphabetically sort the new array (Ascending in this case) can chage sort to whatever type you like. Even apply user-defined sort. */
<br />
&nbsp;&nbsp;&nbsp; asort($multiarray);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; /* reset internal pointer to beginning of array after above sort */
<br />
&nbsp;&nbsp;&nbsp; reset($multiarray);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; /* traverse new array of index values and add the corresponding element of the input array to the correct position in the output array */
<br />
&nbsp;&nbsp;&nbsp; while (list ($key, $val) = each ($multiarray)) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $array_out[$loopvalue] = $array_in[$key];
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $loopvalue++;
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; /* return the output array which is all nicely sorted by the index you wanted! */
<br />
&nbsp;&nbsp;&nbsp; return $array_out;
<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12360""></a>
  <div class="note">
   <strong class="user">peek at mailandnews dot com</strong>
   <a href="#12360" class="date">07-Apr-2001 01:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I ran into the same problem with case insensitive sorting. Actually I think there should be a SORT_STRING_CASE flag but I tried the following:
<br />

<br />
usort($listing, 'strcasecmp');
<br />

<br />
This didn't work (why not?), but you can do a proper case insensitive sort like this:
<br />

<br />
usort($listing, create_function('$a,$b','return strcasecmp($a,$b);'));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
