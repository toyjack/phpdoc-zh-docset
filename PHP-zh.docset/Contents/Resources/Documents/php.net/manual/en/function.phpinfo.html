<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>输出关于 PHP 配置的信息</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.phpcredits.html">? phpcredits</a></li>
      <li style="float: right;"><a href="function.phpversion.html">phpversion ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.info.html">PHP 选项/信息 函数</a></li>
    <li>输出关于 PHP 配置的信息</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.phpinfo" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">phpinfo</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">phpinfo</span> &mdash; <span class="dc-title">输出关于 PHP 配置的信息</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.phpinfo-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>phpinfo</strong></span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$what</code><span class="initializer"> = INFO_ALL</span></span>
  ] )</div>

  <p class="para rdfs-comment">
  输出 PHP 当前状态的大量信息，包含了 PHP 编译选项、启用的扩展、PHP 版本、服务器信息和环境变量（如果编译为一个模块的话）、PHP环境变量、操作系统版本信息、path 变量、配置选项的本地值和主值、HTTP 头和PHP授权信息(License)。
  </p>
  <p class="para">
  因为每个系统安装得有所不同，<span class="function"><strong>phpinfo()</strong></span> 常用于在系统上检查 <a href="configuration.html" class="link">配置设置</a>和
  <a href="language.variables.predefined.html" class="link">预定义变量</a>。
  </p>
  <p class="para">
   <span class="function"><strong>phpinfo()</strong></span> 同时是个很有价值的、包含所有 EGPCS(Environment, GET, POST, Cookie, Server) 数据的调试工具。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.phpinfo-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">what</code></dt>

     <dd>

      <p class="para">
       可以用以下的一个或多个 <em class="emphasis">constants</em> 用位运算传递给可选的 <code class="parameter">what</code> 参数来定制输出的信息。
       该参数可以把常量相加或者用 <a href="language.operators.bitwise.html" class="link">or</a> 操作符按位运算。
      </p>
      <p class="para">
       <table class="doctable table">
        <caption><strong><span class="function"><strong>phpinfo()</strong></span> 选项</strong></caption>
        
         <thead>
          <tr>
           <th>Name (constant)</th>
           <th>Value</th>
           <th>Description</th>
          </tr>

         </thead>

         <tbody class="tbody">
          <tr>
           <td>INFO_GENERAL</td>
           <td>1</td>
           <td>
            配置的命令行、 <var class="filename">php.ini</var> 的文件位置、建立的时间、Web 服务器、系统及更多其他信息。
           </td>
          </tr>

          <tr>
           <td>INFO_CREDITS</td>
           <td>2</td>
           <td>
            PHP 贡献者名单。参加 <span class="function"><a href="function.phpcredits.html" class="function">phpcredits()</a></span>。
           </td>
          </tr>

          <tr>
           <td>INFO_CONFIGURATION</td>
           <td>4</td>
           <td>
            当前PHP指令的本地值和主值。参见 <span class="function"><a href="function.ini-get.html" class="function">ini_get()</a></span>。
           </td>
          </tr>

          <tr>
           <td>INFO_MODULES</td>
           <td>8</td>
           <td>
            已加载的模块和模块相应的设置。参见
            <span class="function"><a href="function.get-loaded-extensions.html" class="function">get_loaded_extensions()</a></span>。
           </td>
          </tr>

          <tr>
           <td>INFO_ENVIRONMENT</td>
           <td>16</td>
           <td>
            环境变量信息也可以用 <var class="varname"><var class="varname"><a href="reserved.variables.environment.html" class="classname">$_ENV</a></var></var> 获取。
           </td>
          </tr>

          <tr>
           <td>INFO_VARIABLES</td>
           <td>32</td>
           <td>
            显示所有来自 EGPCS (Environment, GET,
            POST, Cookie, Server) 的 <a href="language.variables.predefined.html" class="link">
            预定义变量</a>。
           </td>
          </tr>

          <tr>
           <td>INFO_LICENSE</td>
           <td>64</td>
           <td>
            PHP许可证信息。参见 <a href="http://www.php.net/license/" class="link external" title="Link : http://www.php.net/license/">&raquo;&nbsp;license FAQ</a>。
           </td>
          </tr>

          <tr>
           <td>INFO_ALL</td>
           <td>-1</td>
           <td>
            显示以上所有信息。
           </td>
          </tr>

         </tbody>
        
       </table>

      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.phpinfo-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.phpinfo-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>5.5.0</th>
       <th>
        Logo GUIDs were replaced with data URIs, and so turning off expose_php
        now has no effect on the result of phpinfo(). Credits are also now
        embedded within the output itself instead of linked.
       </th>
      </tr>

      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.2.2</td>
       <td>
        增加了"已加载的配置文件"信息，之前只存在"配置文件路径(php.ini)&quot;。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.phpinfo-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-507">
    <p><strong>Example #1 <span class="function"><strong>phpinfo()</strong></span> 范例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;显示所有信息，默认显示&nbsp;INFO_ALL<br /></span><span style="color: #0000BB">phpinfo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Show&nbsp;just&nbsp;the&nbsp;module&nbsp;information.&nbsp;仅仅显示PHP模块信息，<br />//&nbsp;phpinfo(8)&nbsp;返回同样的结果。<br /></span><span style="color: #0000BB">phpinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">INFO_MODULES</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.phpinfo-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    在 PHP 5.5 之前版本，当 <a href="ini.core.html#ini.expose-php" class="link">expose_php</a> 设置为 <em>off</em> 可以禁用一部分信息。
    这包括了 PHP 和 Zend 的 logo，以及贡献者名单。
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    在命令行（CLI）模式下 <span class="function"><strong>phpinfo()</strong></span> 仅会输出纯文本，而不是HTML。
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.phpinfo-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.phpversion.html" class="function" rel="rdfs-seeAlso">phpversion()</a> - 获取当前的PHP版本</span></li>
    <li class="member"><span class="function"><a href="function.phpcredits.html" class="function" rel="rdfs-seeAlso">phpcredits()</a> - 打印 PHP 贡献者名单</span></li>
    <li class="member"><span class="function"><a href="function.php-logo-guid.html" class="function" rel="rdfs-seeAlso">php_logo_guid()</a> - 获取 logo 的 guid</span></li>
    <li class="member"><span class="function"><a href="function.ini-get.html" class="function" rel="rdfs-seeAlso">ini_get()</a> - 获取一个配置选项的值</span></li>
    <li class="member"><span class="function"><a href="function.ini-set.html" class="function" rel="rdfs-seeAlso">ini_set()</a> - 为一个配置选项设置值</span></li>
    <li class="member"><span class="function"><a href="function.get-loaded-extensions.html" class="function" rel="rdfs-seeAlso">get_loaded_extensions()</a> - 返回所有编译并加载模块名的 array</span></li>
    <li class="member"><a href="language.variables.predefined.html" class="link">Predefined Variables</a></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="116715""></a>
  <div class="note">
   <strong class="user">LewisR</strong>
   <a href="#116715" class="date">16-Feb-2015 05:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Building on SimonD's elegant example to hide the logged-in username and password, which otherwise appear in plain text, the following should work for PHP 5.4+:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// start output buffering<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// send phpinfo content<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">phpinfo</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// get phpinfo content<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$html </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// flush the output buffer<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_end_clean</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// remove auth data<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if ( isset( </span><span class="default">$_SERVER</span><span class="keyword">[ </span><span class="string">'PHP_AUTH_USER' </span><span class="keyword">] ) ) </span><span class="default">$html </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">( </span><span class="default">$_SERVER</span><span class="keyword">[ </span><span class="string">'PHP_AUTH_USER' </span><span class="keyword">], </span><span class="string">'[ protected ]' </span><span class="keyword">, </span><span class="default">$html</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if ( isset( </span><span class="default">$_SERVER</span><span class="keyword">[ </span><span class="string">'PHP_AUTH_PW' </span><span class="keyword">] ) ) </span><span class="default">$html </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">( </span><span class="default">$_SERVER</span><span class="keyword">[ </span><span class="string">'PHP_AUTH_PW' </span><span class="keyword">], </span><span class="string">'[ protected ]' </span><span class="keyword">, </span><span class="default">$html</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$html</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
To remove additional items, just add them as above.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114915""></a>
  <div class="note">
   <strong class="user">cbar at vmait dot com</strong>
   <a href="#114915" class="date">26-Apr-2014 10:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// NOTE: When accessing a element from the above phpinfo_array(), you can do:<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">phpinfo_array</span><span class="keyword">();<br />
<br />
</span><span class="comment">// This will work<br />
</span><span class="keyword">echo </span><span class="default">$array</span><span class="keyword">[</span><span class="string">"General"</span><span class="keyword">][</span><span class="string">"System "</span><span class="keyword">];&nbsp; <br />
<br />
</span><span class="comment">// This should work also, but it doesn't because there is a space after System in the array.<br />
&nbsp; </span><span class="keyword">echo </span><span class="default">$array</span><span class="keyword">[</span><span class="string">"General"</span><span class="keyword">][</span><span class="string">"System"</span><span class="keyword">];&nbsp; <br />
<br />
</span><span class="comment">// I hope the coder will fix it, so as to save someone else from wasting time. Otherwise, nice script.<br />
&nbsp;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114859""></a>
  <div class="note">
   <strong class="user">goengoen</strong>
   <a href="#114859" class="date">16-Apr-2014 05:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//FORM DIV<br />
&lt;div id="form_bericht"&gt;&lt;/div&gt;<br />
<br />
//toevoegen aan form:<br />
value="&nbsp; Vul hier uw voor- en achternaam in..." onfocus="this.value=''"<br />
<br />
//JS code:<br />
function showFormError(inText) {<br />
&nbsp;&nbsp;&nbsp; document.getElementById('form_bericht').style.display = "block";<br />
&nbsp;&nbsp;&nbsp; if (inText) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; document.getElementById('form_bericht').innerHTML = inText;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; document.getElementById('form_bericht').innerHTML = "Niet alle verplichte velden zijn ingevuld.";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
function checkEmail(inValue) {<br />
&nbsp;&nbsp;&nbsp; var x=inValue<br />
&nbsp;&nbsp;&nbsp; var atpos=x.indexOf("@");<br />
&nbsp;&nbsp;&nbsp; var dotpos=x.lastIndexOf(".");<br />
&nbsp;&nbsp;&nbsp; if (atpos&lt;1 || dotpos&lt;atpos+2 || dotpos+2&gt;=x.length) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
function check() {<br />
&nbsp;&nbsp;&nbsp; document.getElementById('form_bericht').style.display = "none"&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; var form = document.forms["contactform"];&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(form["naam"].value == "&nbsp; Vul hier uw voor- en achternaam in..."){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.naam.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(form["naam"].value == ""){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.naam.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(form["email"].value == "&nbsp; Vul hier uw e-mailadres in..."){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.email.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(form["email"].value == ""){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.email.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (!checkEmail(form["email"].value)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError("Geen geldig e-mail adres opgegeven.");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.email.focus();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; if(form["bericht"].value == "&nbsp;&nbsp; Vul hier uw bericht in..."){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.bericht.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(form["bericht"].value == ""){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.bericht.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; return true;<br />
}<br />
<br />
//file upload<br />
<span class="default">&lt;?php<br />
<br />
$uploaddir </span><span class="keyword">= </span><span class="string">'/var/www/uploads/'</span><span class="keyword">;<br />
</span><span class="default">$uploadfile </span><span class="keyword">= </span><span class="default">$uploaddir </span><span class="keyword">. </span><span class="default">basename</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'userfile'</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">]);<br />
<br />
echo </span><span class="string">"&lt;p&gt;"</span><span class="keyword">;<br />
<br />
if (</span><span class="default">move_uploaded_file</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'userfile'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">], </span><span class="default">$uploadfile</span><span class="keyword">)) {<br />
&nbsp; echo </span><span class="string">"File is valid, and was successfully uploaded.\n"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp; echo </span><span class="string">"Upload failed"</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">"&lt;/p&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
echo </span><span class="string">'Here is some more debugging info:'</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">);<br />
print </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span> <br />
<br />
//file upload html<br />
&lt;form enctype="multipart/form-data" action="upload.php" method="POST"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="hidden" name="MAX_FILE_SIZE" value="512000" /&gt;<br />
&nbsp;&nbsp;&nbsp; Send this file: &lt;input name="userfile" type="file" /&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="submit" value="Send File" /&gt;<br />
&lt;/form&gt;<br />
<br />
//file upload #2<br />
html&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;body&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;form method="post"&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;label for="file"&gt;Filename:&lt;/label&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="file" name="file1" id="file1" /&gt; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;br /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="submit" name="submit" value="Submit" /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/form&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/body&gt;<br />
&lt;/html&gt;<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'submit'</span><span class="keyword">])) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"error"</span><span class="keyword">] &gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Error: " </span><span class="keyword">. </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"error"</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Upload: " </span><span class="keyword">. </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"name"</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Type: " </span><span class="keyword">. </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"type"</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Size: " </span><span class="keyword">. (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"size"</span><span class="keyword">] / </span><span class="default">1024</span><span class="keyword">) . </span><span class="string">" Kb&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Stored in: " </span><span class="keyword">. </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"tmp_name"</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
//file upload #3<br />
?&gt;<br />
&nbsp;&nbsp;&nbsp; if(isset($_FILES['image'])){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $errors= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_name = $_FILES['image']['name'];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_size =$_FILES['image']['size'];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_tmp =$_FILES['image']['tmp_name'];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_type=$_FILES['image']['type'];&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_ext=strtolower(end(explode('.',$_FILES['image']['name'])));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $expensions= array("jpeg","jpg","png");&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(in_array($file_ext,$expensions)=== false){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $errors[]="extension not allowed, please choose a JPEG or PNG file.";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($file_size &gt; 2097152){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $errors[]='File size must be excately 2 MB';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(empty($errors)==true){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; move_uploaded_file($file_tmp,"images/".$file_name);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo "Success";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print_r($errors);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
?&gt;<br />
<br />
&lt;form action="" method="POST" enctype="multipart/form-data"&gt;<br />
&lt;input type="file" name="image" /&gt;<br />
&lt;input type="submit"/&gt;<br />
&lt;/form&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114860""></a>
  <div class="note">
   <strong class="user">goengoen</strong>
   <a href="#114860" class="date">16-Apr-2014 05:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//FORM DIV<br />
&lt;div id="form_bericht"&gt;&lt;/div&gt;<br />
<br />
//toevoegen aan form:<br />
value="&nbsp; Vul hier uw voor- en achternaam in..." onfocus="this.value=''"<br />
<br />
//JS code:<br />
function showFormError(inText) {<br />
&nbsp;&nbsp;&nbsp; document.getElementById('form_bericht').style.display = "block";<br />
&nbsp;&nbsp;&nbsp; if (inText) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; document.getElementById('form_bericht').innerHTML = inText;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; document.getElementById('form_bericht').innerHTML = "Niet alle verplichte velden zijn ingevuld.";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
function checkEmail(inValue) {<br />
&nbsp;&nbsp;&nbsp; var x=inValue<br />
&nbsp;&nbsp;&nbsp; var atpos=x.indexOf("@");<br />
&nbsp;&nbsp;&nbsp; var dotpos=x.lastIndexOf(".");<br />
&nbsp;&nbsp;&nbsp; if (atpos&lt;1 || dotpos&lt;atpos+2 || dotpos+2&gt;=x.length) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
function check() {<br />
&nbsp;&nbsp;&nbsp; document.getElementById('form_bericht').style.display = "none"&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; var form = document.forms["contactform"];&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(form["naam"].value == "&nbsp; Vul hier uw voor- en achternaam in..."){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.naam.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(form["naam"].value == ""){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.naam.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(form["email"].value == "&nbsp; Vul hier uw e-mailadres in..."){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.email.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(form["email"].value == ""){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.email.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (!checkEmail(form["email"].value)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError("Geen geldig e-mail adres opgegeven.");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.email.focus();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; if(form["bericht"].value == "&nbsp;&nbsp; Vul hier uw bericht in..."){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.bericht.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(form["bericht"].value == ""){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; showFormError()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; contactform.bericht.focus();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; return true;<br />
}<br />
<br />
//file upload<br />
<span class="default">&lt;?php<br />
<br />
$uploaddir </span><span class="keyword">= </span><span class="string">'/var/www/uploads/'</span><span class="keyword">;<br />
</span><span class="default">$uploadfile </span><span class="keyword">= </span><span class="default">$uploaddir </span><span class="keyword">. </span><span class="default">basename</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'userfile'</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">]);<br />
<br />
echo </span><span class="string">"&lt;p&gt;"</span><span class="keyword">;<br />
<br />
if (</span><span class="default">move_uploaded_file</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'userfile'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">], </span><span class="default">$uploadfile</span><span class="keyword">)) {<br />
&nbsp; echo </span><span class="string">"File is valid, and was successfully uploaded.\n"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp; echo </span><span class="string">"Upload failed"</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">"&lt;/p&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
echo </span><span class="string">'Here is some more debugging info:'</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">);<br />
print </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span> <br />
<br />
//file upload html<br />
&lt;form enctype="multipart/form-data" action="upload.php" method="POST"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="hidden" name="MAX_FILE_SIZE" value="512000" /&gt;<br />
&nbsp;&nbsp;&nbsp; Send this file: &lt;input name="userfile" type="file" /&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="submit" value="Send File" /&gt;<br />
&lt;/form&gt;<br />
<br />
//file upload #2<br />
html&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;body&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;form method="post"&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;label for="file"&gt;Filename:&lt;/label&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="file" name="file1" id="file1" /&gt; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;br /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="submit" name="submit" value="Submit" /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/form&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/body&gt;<br />
&lt;/html&gt;<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'submit'</span><span class="keyword">])) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"error"</span><span class="keyword">] &gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Error: " </span><span class="keyword">. </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"error"</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Upload: " </span><span class="keyword">. </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"name"</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Type: " </span><span class="keyword">. </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"type"</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Size: " </span><span class="keyword">. (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"size"</span><span class="keyword">] / </span><span class="default">1024</span><span class="keyword">) . </span><span class="string">" Kb&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Stored in: " </span><span class="keyword">. </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"file1"</span><span class="keyword">][</span><span class="string">"tmp_name"</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
//file upload #3<br />
?&gt;<br />
&nbsp;&nbsp;&nbsp; if(isset($_FILES['image'])){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $errors= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_name = $_FILES['image']['name'];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_size =$_FILES['image']['size'];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_tmp =$_FILES['image']['tmp_name'];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_type=$_FILES['image']['type'];&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_ext=strtolower(end(explode('.',$_FILES['image']['name'])));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $expensions= array("jpeg","jpg","png");&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(in_array($file_ext,$expensions)=== false){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $errors[]="extension not allowed, please choose a JPEG or PNG file.";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($file_size &gt; 2097152){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $errors[]='File size must be excately 2 MB';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(empty($errors)==true){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; move_uploaded_file($file_tmp,"images/".$file_name);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo "Success";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print_r($errors);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
?&gt;<br />
<br />
&lt;form action="" method="POST" enctype="multipart/form-data"&gt;<br />
&lt;input type="file" name="image" /&gt;<br />
&lt;input type="submit"/&gt;<br />
&lt;/form&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114853""></a>
  <div class="note">
   <strong class="user">goengoen at live dot nl</strong>
   <a href="#114853" class="date">15-Apr-2014 05:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// Connectie maken met database<br />
<br />
</span><span class="default">$connection </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">'localhost'</span><span class="keyword">, </span><span class="string">'root'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br />
if (!</span><span class="default">$connection</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; die(</span><span class="string">"Database Connection Failed" </span><span class="keyword">. </span><span class="default">mysql_error</span><span class="keyword">());<br />
}<br />
</span><span class="default">$select_db </span><span class="keyword">= </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'test'</span><span class="keyword">);<br />
if (!</span><span class="default">$select_db</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; die(</span><span class="string">"Database Selection Failed" </span><span class="keyword">. </span><span class="default">mysql_error</span><span class="keyword">());<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
--------------login and cookie------------------------------<br />
&lt;?<br />
// Controleren op sessie <br />
if(isset($_SESSION['userID'])) {<br />
&nbsp;&nbsp;&nbsp; echo "U mag op deze pagina komen";<br />
}else{<br />
&nbsp;&nbsp;&nbsp; echo " U mag niet op deze pagina komen" ;<br />
}<br />
?&gt;<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Uitvoeren als het een post submission krijgt<br />
</span><span class="keyword">if(isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'submit'</span><span class="keyword">])) {<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Variabelen ophalen en beveiligen via mysql real escape string<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$email </span><span class="keyword">= </span><span class="default">mysql_real_escape_string</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'email'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$wachtwoord </span><span class="keyword">= </span><span class="default">sha1</span><span class="keyword">(</span><span class="default">mysql_real_escape_string</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'wachtwoord'</span><span class="keyword">]));<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Waardes uit database ophalen<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">'SELECT userID, email FROM gebruikers WHERE gebruikers.email = '</span><span class="keyword">.</span><span class="default">$email</span><span class="keyword">.</span><span class="string">' AND gebruikers.wachtwoord=.'</span><span class="default">$wachtwoord</span><span class="keyword">) or die(</span><span class="string">'Database connectie is gefaalt'</span><span class="keyword">);<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="comment">// Sessie aanmaken voor de user<br />
&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">mysql_num_rows</span><span class="keyword">(</span><span class="default">$sesult</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_array</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">'userID'</span><span class="keyword">] = </span><span class="default">$row</span><span class="keyword">[</span><span class="string">'userID'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; <br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
&lt;form action="login.php" method="post"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type = "text" name="email"/&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type = "password" name = "wachtwoord"/&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type = "submit" name = "submit" value ="inloggen"/&gt;<br />
&lt;/form&gt;<br />
<br />
---------------------registration--------------------------------<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Connectie maken met database<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">require(</span><span class="string">'connect.php'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Form informatie ophalen<br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">if (isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'email'</span><span class="keyword">]) &amp;&amp; isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'wachtwoord'</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Variabelen aanmaken met form informatie<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$email </span><span class="keyword">= </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'email'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$wachtwoord </span><span class="keyword">= </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'wachtwoord'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Variabelen in database zetten<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$query </span><span class="keyword">= </span><span class="string">"INSERT INTO `gebruikers` (email, wachtwoord) VALUES ('</span><span class="default">$email</span><span class="string">', '</span><span class="default">$wachtwoord</span><span class="string">')"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Als de mysql query ingevoerd is bericht geven<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$result</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$msg </span><span class="keyword">= </span><span class="string">"Registratie gelukt!"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$msg </span><span class="keyword">= </span><span class="string">"Registratie niet gelukt" </span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Bericht weergeven<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">echo </span><span class="default">$msg</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112019""></a>
  <div class="note">
   <strong class="user">SimonD</strong>
   <a href="#112019" class="date">23-Apr-2013 03:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Removes sensitive data like AUTH_USER and AUTH_PASSWORD from the phpinfo output:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// start output buffering<br />
</span><span class="default">ob_start</span><span class="keyword">();<br />
<br />
</span><span class="comment">// send phpinfo content<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
<br />
</span><span class="comment">// get phpinfo content<br />
</span><span class="default">$html </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
<br />
</span><span class="comment">// flush the output buffer<br />
</span><span class="default">ob_end_clean</span><span class="keyword">();<br />
<br />
</span><span class="comment">// remove auth data<br />
</span><span class="keyword">if (isset(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'AUTH_USER'</span><span class="keyword">])) </span><span class="default">$html </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'AUTH_USER'</span><span class="keyword">], </span><span class="string">'&lt;i&gt;no value&lt;/i&gt;'</span><span class="keyword">, </span><span class="default">$html</span><span class="keyword">);<br />
if (isset(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'AUTH_PASSWORD'</span><span class="keyword">])) </span><span class="default">$html </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'AUTH_PASSWORD'</span><span class="keyword">], </span><span class="string">'&lt;i&gt;no value&lt;/i&gt;'</span><span class="keyword">, </span><span class="default">$html</span><span class="keyword">);<br />
<br />
echo </span><span class="default">$html</span><span class="keyword">;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109856""></a>
  <div class="note">
   <strong class="user">henzeberkheij at  dot SPAM dot gmail dot com</strong>
   <a href="#109856" class="date">28-Aug-2012 11:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a way to quickly scroll through the phpinfo which is a large list of information. so here it is. In the top there is a list with sections, the new section loaded extensions will hold the links to the anchors of the loaded modules. the section session variables will show the current loaded sessions. It's using Domdocument for manipulation so you should have that loaded:<br />
<span class="default">&lt;?php<br />
ob_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$exts </span><span class="keyword">= </span><span class="default">get_loaded_extensions</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">phpinfo</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$phpinfo </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_end_clean</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//print $phpinfo;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$html_str </span><span class="keyword">= </span><span class="default">$phpinfo</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$html </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">loadHTML</span><span class="keyword">(</span><span class="default">$html_str</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$title </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"title"</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$title</span><span class="keyword">-&gt;</span><span class="default">nodeValue </span><span class="keyword">= </span><span class="string">"PHP Version "</span><span class="keyword">.</span><span class="default">phpversion</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$body </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"body"</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$body</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">(</span><span class="string">"style"</span><span class="keyword">, </span><span class="string">"background-color:beige;"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$table </span><span class="keyword">= </span><span class="default">$body </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"table"</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">)-&gt;</span><span class="default">nextSibling</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$head&nbsp; </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"table"</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">)-&gt;</span><span class="default">nextSibling</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &lt;h2&gt;&lt;a name="session_variables"&gt;Session variables&lt;/a&gt;&lt;/h2&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;table border="0" cellpadding="2" width="600"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;tr class="h"&gt;&lt;th&gt;Variables&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;&lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php </span><span class="keyword">foreach(</span><span class="default">$_SESSION </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">){ <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_bool</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= (</span><span class="default">$value</span><span class="keyword">)?</span><span class="string">"true"</span><span class="keyword">:</span><span class="string">"false"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">).</span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else if(empty(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; </span><span class="default">$value </span><span class="keyword">!= </span><span class="string">"0"</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="string">"&lt;i&gt;no value&lt;/i&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td class="e"&gt;<span class="default">&lt;?=$key?&gt;</span>&lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td class="v"&gt;<span class="default">&lt;?=$value?&gt;</span>&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &lt;/table&gt;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; &lt;h2&gt;&lt;a name="loaded_extensions"&gt;loaded extensions&lt;/a&gt;&lt;/h2&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;table border="0" cellpadding="2" width="600"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;tr class="h"&gt;&lt;th&gt;Extension&lt;/th&gt;&lt;th&gt;Version&lt;/th&gt;&lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; natcasesort</span><span class="keyword">(</span><span class="default">$exts</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$exts </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$version </span><span class="keyword">= </span><span class="default">phpversion</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td class="e" style="width:150px;"&gt;&lt;a href="#module_<span class="default">&lt;?=$value?&gt;</span>" style="color:black; background-color:#ccccff;"&gt;<span class="default">&lt;?=$value?&gt;</span>&lt;/a&gt;&lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td class="v"&gt;<span class="default">&lt;?=</span><span class="keyword">(!empty(</span><span class="default">$version</span><span class="keyword">))?</span><span class="default">$version</span><span class="keyword">:</span><span class="string">"&lt;i&gt;Unknown&lt;/i&gt;" </span><span class="default">?&gt;</span>&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &lt;/table&gt;&lt;br /&gt;<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $txt_str </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_end_clean</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$txt </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$txt</span><span class="keyword">-&gt;</span><span class="default">loadHTML</span><span class="keyword">(</span><span class="default">$txt_str</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$txt_body </span><span class="keyword">= </span><span class="default">$txt</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"body"</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$txt_body</span><span class="keyword">-&gt;</span><span class="default">childNodes </span><span class="keyword">as </span><span class="default">$child</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$child </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">importNode</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$table</span><span class="keyword">-&gt;</span><span class="default">parentNode</span><span class="keyword">-&gt;</span><span class="default">insertBefore</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">$table</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$h2 </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"h2"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$h2 </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"a"</span><span class="keyword">)-&gt;</span><span class="default">length </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">nodeValue </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="string">"a"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">(</span><span class="string">"name"</span><span class="keyword">, </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="string">"_"</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">nodeValue </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"a"</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">, </span><span class="default">$exts</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$menu</span><span class="keyword">[</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="string">"_"</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">))] = </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top_a </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="string">"a"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">, </span><span class="default">$exts</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$txt </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">createTextNode</span><span class="keyword">(</span><span class="string">"(Go to top)"</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top_a</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$txt</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top_a</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">(</span><span class="string">"href"</span><span class="keyword">, </span><span class="string">"#"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$txt </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">createTextNode</span><span class="keyword">(</span><span class="string">"(Go to extensionlist)"</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top_a</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$txt</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top_a</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">(</span><span class="string">"href"</span><span class="keyword">, </span><span class="string">"#loaded_extensions"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top_a</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">(</span><span class="string">"style"</span><span class="keyword">, </span><span class="string">"background-color:beige; font-size:12px; margin-left:5px; margin-top:-5px; color:black;"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$top_a</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &lt;br /&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;table border="0" cellpadding="2" width="600"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;tr class="h"&gt;&lt;th colspan="2"&gt;Sections&lt;/th&gt;&lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$menu </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"&lt;td class='v'&gt;&lt;a href='#</span><span class="default">$key</span><span class="string">' style='background-color:#cccccc; color:black;'&gt;</span><span class="default">$item</span><span class="string">&lt;/a&gt;&lt;/td&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">'&lt;/tr&gt;&lt;tr&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">'&lt;td class="v"&gt;&lt;/td&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">?&gt;<br />
</span>&nbsp; &nbsp; &lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/table&gt;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $txt_str </span><span class="keyword">= </span><span class="default">ob_get_clean</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$txt </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$txt</span><span class="keyword">-&gt;</span><span class="default">loadHTML</span><span class="keyword">(</span><span class="default">$txt_str</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$txt_body </span><span class="keyword">= </span><span class="default">$txt</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"body"</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$txt_body</span><span class="keyword">-&gt;</span><span class="default">childNodes </span><span class="keyword">as </span><span class="default">$child</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$child </span><span class="keyword">= </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">importNode</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$table</span><span class="keyword">-&gt;</span><span class="default">parentNode</span><span class="keyword">-&gt;</span><span class="default">insertBefore</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">$head</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">saveHTML</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109122""></a>
  <div class="note">
   <strong class="user">neo_selen</strong>
   <a href="#109122" class="date">22-Jun-2012 05:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here you can notice that these numeric values of phpinfo<br />
are similar to certain things in the binary system:<br />
<br />
-1, coded in 7 digits:<br />
111 1111<br />
<br />
look at this:<br />
1+2+4+8+16+32+64=127<br />
<br />
unsigned,127 is:<br />
111 1111<br />
<br />
so, take a look at this: the way to get all function is to add all of them. zero is nothing.-1 is all.<br />
so you can pass option with a negative number.<br />
for example:<br />
<span class="default">&lt;?php phpinfo</span><span class="keyword">(</span><span class="default">48</span><span class="keyword">) </span><span class="default">?&gt;<br />
</span>is also:<br />
<span class="default">&lt;?php phpinfo</span><span class="keyword">(-</span><span class="default">80</span><span class="keyword">) </span><span class="default">?&gt;<br />
</span>48 = 32 + 16<br />
-80= 0 - 64 - 8 - 4 - 2 - 1<br />
<br />
so you can see in negative mode it like that:<br />
not nothing<br />
not all (-1) don't forget it !<br />
not option 64<br />
not option 8<br />
not option 4<br />
not option 2<br />
<br />
so, that's good if you don't want option 8, you will do this:<br />
not nothing(0)<br />
not all(-1)<br />
not option 8(-1)<br />
you got:<br />
<span class="default">&lt;?php phpinfo</span><span class="keyword">(-</span><span class="default">9</span><span class="keyword">); </span><span class="default">?&gt;<br />
</span><br />
hope this will be useful, that's my 1rst post ^^</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106862""></a>
  <div class="note">
   <strong class="user">Ken</strong>
   <a href="#106862" class="date">13-Dec-2011 03:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi.<br />
<br />
Here my version of saving php_info into an array:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">phpinfo_array</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">phpinfo</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$info_arr </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$info_lines </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="string">"&lt;tr&gt;&lt;td&gt;&lt;h2&gt;"</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$cat </span><span class="keyword">= </span><span class="string">"General"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$info_lines </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// new cat?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"~&lt;h2&gt;(.*)&lt;/h2&gt;~"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$title</span><span class="keyword">) ? </span><span class="default">$cat </span><span class="keyword">= </span><span class="default">$title</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] : </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"~&lt;tr&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;/tr&gt;~"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$info_arr</span><span class="keyword">[</span><span class="default">$cat</span><span class="keyword">][</span><span class="default">$val</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = </span><span class="default">$val</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"~&lt;tr&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;/tr&gt;~"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$info_arr</span><span class="keyword">[</span><span class="default">$cat</span><span class="keyword">][</span><span class="default">$val</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = array(</span><span class="string">"local" </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="string">"master" </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$info_arr</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// example:<br />
</span><span class="keyword">echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">phpinfo_array</span><span class="keyword">(), </span><span class="default">1</span><span class="keyword">).</span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100809""></a>
  <div class="note">
   <strong class="user">arimbourg at ariworld dot eu</strong>
   <a href="#100809" class="date">08-Nov-2010 04:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is necessary to obtain a W3C validation (XHTML1.0 Transitionnal)...<br />
phpinfo's output is declared with that DTD :<br />
- "System ID" has the wrong url to validate : "DTD/xhtml1-transitional.dtd" rather than "<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>"<br />
- Some module names contains space and the function's output use the name in anchors as ID and NAME. these attributes can't be validated like that (unique name only).<br />
<br />
<span class="default">&lt;?php<br />
<br />
ob_start </span><span class="keyword">();<br />
<br />
</span><span class="default">ob_start </span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Capturing<br />
</span><span class="default">phpinfo </span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// phpinfo ()<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">trim </span><span class="keyword">(</span><span class="default">ob_get_clean </span><span class="keyword">());&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// output<br />
<br />
// Replace white space in ID and NAME attributes... if exists<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">preg_replace </span><span class="keyword">(</span><span class="string">'/(id|name)(=["\'][^ "\']+) ([^ "\']*["\'])/i'</span><span class="keyword">, </span><span class="string">'$1$2_$3'</span><span class="keyword">, </span><span class="default">$info</span><span class="keyword">);<br />
<br />
</span><span class="default">$imp </span><span class="keyword">= new </span><span class="default">DOMImplementation </span><span class="keyword">();<br />
</span><span class="default">$dtd </span><span class="keyword">= </span><span class="default">$imp</span><span class="keyword">-&gt;</span><span class="default">createDocumentType </span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'html'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'-//W3C//DTD XHTML 1.0 Transitional//EN'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>'<br />
</span><span class="keyword">);<br />
</span><span class="default">$doc </span><span class="keyword">= </span><span class="default">$imp</span><span class="keyword">-&gt;</span><span class="default">createDocument </span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'<a href="http://www.w3.org/1999/xhtml" rel="nofollow" target="_blank">http://www.w3.org/1999/xhtml</a>'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'html'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dtd<br />
</span><span class="keyword">);<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">encoding </span><span class="keyword">= </span><span class="string">'utf-8'</span><span class="keyword">;<br />
<br />
</span><span class="default">$info_doc </span><span class="keyword">= new </span><span class="default">DOMDocument </span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">, </span><span class="string">'utf-8'</span><span class="keyword">);<br />
</span><span class="comment">/* Parse phpinfo's output<br />
&nbsp;* operator @ used to avoid messages about undefined entities<br />
&nbsp;* or use loadHTML instead<br />
&nbsp;*/<br />
</span><span class="keyword">@</span><span class="default">$info_doc</span><span class="keyword">-&gt;</span><span class="default">loadXML </span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br />
<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">( </span><span class="comment">// Adding HEAD element to HTML<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">importNode </span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$info_doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'head'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">true&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// With all the subtree<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">( </span><span class="comment">// Adding BODY element to HTML<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">importNode </span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$info_doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'body'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">true&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// With all the subtree<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
<br />
</span><span class="comment">// Now you get a clean output and you are able to validate...<br />
/*<br />
echo ($doc-&gt;saveXML ());<br />
//&nbsp; &nbsp; &nbsp; OR<br />
echo ($doc-&gt;saveHTML ());<br />
&nbsp;*/<br />
<br />
// By that way it's easy to add some style declaration :<br />
</span><span class="default">$style </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'style'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$style</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createTextNode </span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'/* SOME NEW CSS RULES TO ADD TO THE FUNCTION OUTPUT */'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
<br />
</span><span class="comment">// to add some more informations to display :<br />
</span><span class="default">$body </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'body'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$element </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement </span><span class="keyword">(</span><span class="string">'p'</span><span class="keyword">);<br />
</span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createTextNode </span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'SOME NEW CONTENT TO DISPLAY'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
</span><span class="default">$body</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">);<br />
<br />
</span><span class="comment">// to add a new header :<br />
</span><span class="default">$head </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'head'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$meta </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement </span><span class="keyword">(</span><span class="string">'meta'</span><span class="keyword">);<br />
</span><span class="default">$meta</span><span class="keyword">-&gt;</span><span class="default">setAttribute </span><span class="keyword">(</span><span class="string">'name'</span><span class="keyword">, </span><span class="string">'author'</span><span class="keyword">);<br />
</span><span class="default">$meta</span><span class="keyword">-&gt;</span><span class="default">setAttribute </span><span class="keyword">(</span><span class="string">'content'</span><span class="keyword">, </span><span class="string">'arimbourg at ariworld dot eu'</span><span class="keyword">);<br />
</span><span class="default">$head</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(</span><span class="default">$meta</span><span class="keyword">);<br />
<br />
</span><span class="comment">// As you wish, take the rest of the output and add it for debugging<br />
</span><span class="default">$out </span><span class="keyword">= </span><span class="default">ob_get_clean </span><span class="keyword">();<br />
<br />
</span><span class="default">$pre </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement </span><span class="keyword">(</span><span class="string">'div'</span><span class="keyword">); </span><span class="comment">// or pre<br />
</span><span class="default">$pre</span><span class="keyword">-&gt;</span><span class="default">setAttribute </span><span class="keyword">(</span><span class="string">'style'</span><span class="keyword">, </span><span class="string">'white-space: pre;'</span><span class="keyword">); </span><span class="comment">// for a div element, useless with pre<br />
</span><span class="default">$pre</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createTextNode </span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">));<br />
</span><span class="default">$body</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(</span><span class="default">$pre</span><span class="keyword">);<br />
<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">formatOutput </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; </span><span class="comment">// For a nice indentation<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">saveXML </span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
All that could be done with only RegExp but I prefer the use of DOM for manipulating documents</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87463""></a>
  <div class="note">
   <strong class="user">webmaster at askapache dot com</strong>
   <a href="#87463" class="date">06-Dec-2008 05:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wanted a simple *function* to convert the output of phpinfo into an array.&nbsp; Here's what I came up with thanks to alot of the previous authors tips, and the source file: php-5.2.6/ext/standard/info.c<br />
<br />
Call this function like phpinfo_array() prints the array, phpinfo_array(1) returns the array for your own processing.<br />
<br />
== Sample Output ==<br />
[PHP Configuration] =&gt; Array<br />
&nbsp;(<br />
&nbsp; [PHP Version] =&gt; 5.2.6<br />
&nbsp; [PHP Egg] =&gt; PHPE9568F34-D428-11d2-A769-00AA001ACF42<br />
&nbsp; [System] =&gt; Linux askapache 2.6.22.19-grsec3<br />
&nbsp; [Build Date] =&gt; Nov 11 2008 13:09:07<br />
&nbsp; [Configure Command] =&gt;&nbsp; ./configure --prefix=/home/grsec/bin/php <br />
&nbsp; [Server API] =&gt; FastCGI<br />
<br />
&nbsp; [IPv6 Support] =&gt; enabled<br />
&nbsp;[Zend Egg] =&gt; PHPE9568F35-D428-11d2-A769-00AA001ACF42<br />
&nbsp; [PHP Credits Egg] =&gt; PHPB8B5F2A0-3C92-11d3-A3A9-4C7B08C10000<br />
&nbsp;)<br />
<br />
[mbstring] =&gt; Array<br />
&nbsp;(<br />
&nbsp; [mbstring.http_input] =&gt; pass<br />
&nbsp; [mbstring.internal_encoding] =&gt; Array<br />
&nbsp;&nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; [0] =&gt; ISO-8859-1<br />
&nbsp;&nbsp; &nbsp; [1] =&gt; no value<br />
&nbsp;&nbsp;&nbsp; )<br />
<br />
&nbsp; [mbstring.language] =&gt; neutral<br />
&nbsp;&nbsp; )<br />
<br />
[mcrypt] =&gt; Array<br />
&nbsp;(<br />
&nbsp; [Version] =&gt; 3.5.7<br />
&nbsp; [Api No] =&gt; 20031217<br />
&nbsp;)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">phpinfo_array</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">){<br />
&nbsp;</span><span class="comment">/* Andale!&nbsp; Andale!&nbsp; Yee-Hah! */<br />
&nbsp;</span><span class="default">ob_start</span><span class="keyword">(); <br />
&nbsp;</span><span class="default">phpinfo</span><span class="keyword">(-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;<br />
&nbsp;</span><span class="default">$pi </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(<br />
&nbsp;array(</span><span class="string">'#^.*&lt;body&gt;(.*)&lt;/body&gt;.*$#ms'</span><span class="keyword">, </span><span class="string">'#&lt;h2&gt;PHP License&lt;/h2&gt;.*$#ms'</span><span class="keyword">,<br />
&nbsp;</span><span class="string">'#&lt;h1&gt;Configuration&lt;/h1&gt;#'</span><span class="keyword">,&nbsp; </span><span class="string">"#\r?\n#"</span><span class="keyword">, </span><span class="string">"#&lt;/(h1|h2|h3|tr)&gt;#"</span><span class="keyword">, </span><span class="string">'# +&lt;#'</span><span class="keyword">,<br />
&nbsp;</span><span class="string">"#[ \t]+#"</span><span class="keyword">, </span><span class="string">'#&amp;nbsp;#'</span><span class="keyword">, </span><span class="string">'#&nbsp; +#'</span><span class="keyword">, </span><span class="string">'# class=".*?"#'</span><span class="keyword">, </span><span class="string">'%&amp;#039;%'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'#&lt;tr&gt;(?:.*?)" src="(?:.*?)=(.*?)" alt="PHP Logo" /&gt;&lt;/a&gt;'<br />
&nbsp; </span><span class="keyword">.</span><span class="string">'&lt;h1&gt;PHP Version (.*?)&lt;/h1&gt;(?:\n+?)&lt;/td&gt;&lt;/tr&gt;#'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'#&lt;h1&gt;&lt;a href="(?:.*?)\?=(.*?)"&gt;PHP Credits&lt;/a&gt;&lt;/h1&gt;#'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'#&lt;tr&gt;(?:.*?)" src="(?:.*?)=(.*?)"(?:.*?)Zend Engine (.*?),(?:.*?)&lt;/tr&gt;#'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">"# +#"</span><span class="keyword">, </span><span class="string">'#&lt;tr&gt;#'</span><span class="keyword">, </span><span class="string">'#&lt;/tr&gt;#'</span><span class="keyword">),<br />
&nbsp;array(</span><span class="string">'$1'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">'&lt;/$1&gt;' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">, </span><span class="string">'&lt;'</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'&lt;h2&gt;PHP Configuration&lt;/h2&gt;'</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">.</span><span class="string">'&lt;tr&gt;&lt;td&gt;PHP Version&lt;/td&gt;&lt;td&gt;$2&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">.<br />
&nbsp; </span><span class="string">"\n"</span><span class="keyword">.</span><span class="string">'&lt;tr&gt;&lt;td&gt;PHP Egg&lt;/td&gt;&lt;td&gt;$1&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'&lt;tr&gt;&lt;td&gt;PHP Credits Egg&lt;/td&gt;&lt;td&gt;$1&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'&lt;tr&gt;&lt;td&gt;Zend Engine&lt;/td&gt;&lt;td&gt;$2&lt;/td&gt;&lt;/tr&gt;' </span><span class="keyword">. </span><span class="string">"\n" </span><span class="keyword">.<br />
&nbsp; </span><span class="string">'&lt;tr&gt;&lt;td&gt;Zend Egg&lt;/td&gt;&lt;td&gt;$1&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="string">'%S%'</span><span class="keyword">, </span><span class="string">'%E%'</span><span class="keyword">),<br />
&nbsp;</span><span class="default">ob_get_clean</span><span class="keyword">());<br />
<br />
&nbsp;</span><span class="default">$sections </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'&lt;h2&gt;'</span><span class="keyword">, </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">$pi</span><span class="keyword">, </span><span class="string">'&lt;h2&gt;&lt;th&gt;&lt;td&gt;'</span><span class="keyword">));<br />
&nbsp;unset(</span><span class="default">$sections</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
<br />
&nbsp;</span><span class="default">$pi </span><span class="keyword">= array();<br />
&nbsp;foreach(</span><span class="default">$sections </span><span class="keyword">as </span><span class="default">$section</span><span class="keyword">){<br />
&nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$section</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$section</span><span class="keyword">, </span><span class="string">'&lt;/h2&gt;'</span><span class="keyword">));<br />
&nbsp;&nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(<br />
&nbsp;&nbsp; </span><span class="string">'#%S%(?:&lt;td&gt;(.*?)&lt;/td&gt;)?(?:&lt;td&gt;(.*?)&lt;/td&gt;)?(?:&lt;td&gt;(.*?)&lt;/td&gt;)?%E%#'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$section</span><span class="keyword">, </span><span class="default">$askapache</span><span class="keyword">, </span><span class="default">PREG_SET_ORDER</span><span class="keyword">);<br />
&nbsp;&nbsp; foreach(</span><span class="default">$askapache </span><span class="keyword">as </span><span class="default">$m</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$pi</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">][</span><span class="default">$m</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]]=(!isset(</span><span class="default">$m</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])||</span><span class="default">$m</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]==</span><span class="default">$m</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])?</span><span class="default">$m</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]:</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;}<br />
<br />
&nbsp;return (</span><span class="default">$return </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) ? </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$pi</span><span class="keyword">) : </span><span class="default">$pi</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87287""></a>
  <div class="note">
   <strong class="user">Phelon Dudras</strong>
   <a href="#87287" class="date">28-Nov-2008 10:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple method to style your own phpinfo() output.<br />
<br />
&lt;style type="text/css"&gt;<br />
#phpinfo {}<br />
#phpinfo pre {}<br />
#phpinfo a:link {}<br />
#phpinfo a:hover {}<br />
#phpinfo table {}<br />
#phpinfo .center {}<br />
#phpinfo .center table {}<br />
#phpinfo .center th {}<br />
#phpinfo td, th {}<br />
#phpinfo h1 {}<br />
#phpinfo h2 {}<br />
#phpinfo .p {}<br />
#phpinfo .e {}<br />
#phpinfo .h {}<br />
#phpinfo .v {}<br />
#phpinfo .vr {}<br />
#phpinfo img {}<br />
#phpinfo hr {}<br />
&lt;/style&gt;<br />
<br />
&lt;div id="phpinfo"&gt;<br />
<span class="default">&lt;?php<br />
<br />
ob_start </span><span class="keyword">() ;<br />
</span><span class="default">phpinfo </span><span class="keyword">() ;<br />
</span><span class="default">$pinfo </span><span class="keyword">= </span><span class="default">ob_get_contents </span><span class="keyword">() ;<br />
</span><span class="default">ob_end_clean </span><span class="keyword">() ;<br />
<br />
</span><span class="comment">// the name attribute "module_Zend Optimizer" of an anker-tag is not xhtml valide, so replace it with "module_Zend_Optimizer"<br />
</span><span class="keyword">echo ( </span><span class="default">str_replace </span><span class="keyword">( </span><span class="string">"module_Zend Optimizer"</span><span class="keyword">, </span><span class="string">"module_Zend_Optimizer"</span><span class="keyword">, </span><span class="default">preg_replace </span><span class="keyword">( </span><span class="string">'%^.*&lt;body&gt;(.*)&lt;/body&gt;.*$%ms'</span><span class="keyword">, </span><span class="string">'$1'</span><span class="keyword">, </span><span class="default">$pinfo </span><span class="keyword">) ) ) ;<br />
<br />
</span><span class="default">?&gt;<br />
</span>&lt;/div&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84259""></a>
  <div class="note">
   <strong class="user">jon at sitewizard dot ca</strong>
   <a href="#84259" class="date">06-Jul-2008 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To extract all of the data from phpinfo into a nested array:<br />
<span class="default">&lt;?php<br />
ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
</span><span class="default">$phpinfo </span><span class="keyword">= array(</span><span class="string">'phpinfo' </span><span class="keyword">=&gt; array());<br />
if(</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'#(?:&lt;h2&gt;(?:&lt;a name=".*?"&gt;)?(.*?)(?:&lt;/a&gt;)?&lt;/h2&gt;)|(?:&lt;tr(?: class=".*?")?&gt;&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;(?:&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;(?:&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;)?)?&lt;/tr&gt;)#s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">, </span><span class="default">PREG_SET_ORDER</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$matches </span><span class="keyword">as </span><span class="default">$match</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(isset(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">end</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$phpinfo</span><span class="keyword">))][</span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]] = isset(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]) ? array(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">], </span><span class="default">$match</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]) : </span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">end</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$phpinfo</span><span class="keyword">))][] = </span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
</span><span class="default">?&gt;<br />
</span><br />
Some examples of using individual values from the array:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"System: </span><span class="keyword">{</span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="string">'phpinfo'</span><span class="keyword">][</span><span class="string">'System'</span><span class="keyword">]}</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Safe Mode: </span><span class="keyword">{</span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="string">'PHP Core'</span><span class="keyword">][</span><span class="string">'safe_mode'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]}</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"License: </span><span class="keyword">{</span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="string">'PHP License'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]}</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
To display everything:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$phpinfo </span><span class="keyword">as </span><span class="default">$name </span><span class="keyword">=&gt; </span><span class="default">$section</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;h3&gt;</span><span class="default">$name</span><span class="string">&lt;/h3&gt;\n&lt;table&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$section </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;tr&gt;&lt;td&gt;</span><span class="default">$key</span><span class="string">&lt;/td&gt;&lt;td&gt;</span><span class="default">$val</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]</span><span class="string">&lt;/td&gt;&lt;td&gt;</span><span class="default">$val</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]</span><span class="string">&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;tr&gt;&lt;td&gt;</span><span class="default">$key</span><span class="string">&lt;/td&gt;&lt;td&gt;</span><span class="default">$val</span><span class="string">&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;tr&gt;&lt;td&gt;</span><span class="default">$val</span><span class="string">&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;/table&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Note: In order to properly retrieve all of the data, the regular expression matches table headers as well as table data, resulting in 'Local Value' and 'Global Value' showing up as 'Directive' entries.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84000""></a>
  <div class="note">
   <strong class="user">yurkins</strong>
   <a href="#84000" class="date">23-Jun-2008 04:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
big thanx 2 Mardy dot Hutchinson at gmail dot com<br />
very good!<br />
<br />
some fixes to correct result displaying:<br />
1. we need to trim $matches [1], 'cause there can be empty lines;<br />
2. not bad to remove &lt;body&gt; tag 'cause styles for it not apply correctly...<br />
3. ...and change styles a little (remove "body" selector)<br />
<br />
we need to change two lines:<br />
<br />
<span class="default">&lt;?php<br />
preg_match </span><span class="keyword">(</span><span class="string">'%&lt;style type="text/css"&gt;(.*?)&lt;/style&gt;.*?(&lt;body&gt;.*&lt;/body&gt;)%s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>to<br />
<span class="default">&lt;?php<br />
preg_match </span><span class="keyword">(</span><span class="string">'%&lt;style type="text/css"&gt;(.*?)&lt;/style&gt;.*?&lt;body&gt;(.*?)&lt;/body&gt;%s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
and<br />
<br />
<span class="default">&lt;?php<br />
preg_split</span><span class="keyword">( </span><span class="string">'/\n/'</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] )<br />
</span><span class="default">?&gt;<br />
</span>to<br />
<span class="default">&lt;?php<br />
preg_split</span><span class="keyword">( </span><span class="string">'/\n/'</span><span class="keyword">, </span><span class="default">trim</span><span class="keyword">(</span><span class="default">preg_replace</span><span class="keyword">( </span><span class="string">"/\nbody/"</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) )<br />
</span><span class="default">?&gt;<br />
</span><br />
That's all! Now we have a really flexible addition to phpinfo();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77705""></a>
  <div class="note">
   <strong class="user">Mardy dot Hutchinson at gmail dot com</strong>
   <a href="#77705" class="date">10-Sep-2007 12:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Embedding phpinfo within your page, that already has style information:<br />
<br />
The phpinfo output is wrapped within a &lt;div class='phpinfodisplay'&gt;, and we privatize all the style selectors that phpinfo() creates.<br />
<br />
Yes, we cheat on preparing the selector list.<br />
<br />
<span class="default">&lt;?php<br />
ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
<br />
</span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">'%&lt;style type="text/css"&gt;(.*?)&lt;/style&gt;.*?(&lt;body&gt;.*&lt;/body&gt;)%s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">);<br />
<br />
</span><span class="comment"># $matches [1]; # Style information<br />
# $matches [2]; # Body information<br />
<br />
</span><span class="keyword">echo </span><span class="string">"&lt;div class='phpinfodisplay'&gt;&lt;style type='text/css'&gt;\n"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">join</span><span class="keyword">( </span><span class="string">"\n"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_map</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">create_function</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'$i'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'return ".phpinfodisplay " . preg_replace( "/,/", ",.phpinfodisplay ", $i );'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">preg_split</span><span class="keyword">( </span><span class="string">'/\n/'</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"&lt;/style&gt;\n"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"\n&lt;/div&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Perhaps one day the phpinfo() function will be modified to output such a safe string on its own.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77692""></a>
  <div class="note">
   <strong class="user">Andrew dot Boag at catalyst dot net dot nz</strong>
   <a href="#77692" class="date">09-Sep-2007 09:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One note on the above functions for cleaning up the phpinfo() HTML and throwing it into an array data structure. In order to catch all of the info tidbits the preg_match_all has to be tweaked to deal with 2 and 3 column tables.
<br />

<br />
I have changed the preg_match_all() here so that the last &lt;td&gt;&lt;/td&gt; is optional
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">parsePHPConfig</span><span class="keyword">() {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">phpinfo</span><span class="keyword">(-</span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_end_clean</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$mtc </span><span class="keyword">= array();
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/&lt;tr&gt;&lt;td class="e"&gt;(.*?)&lt;\/td&gt;&lt;td class="v"&gt;(.*?)&lt;\/td&gt;(:?&lt;td class="v"&gt;(.*?)&lt;\/td&gt;)?&lt;\/tr&gt;/'</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$mtc</span><span class="keyword">,</span><span class="default">PREG_SET_ORDER</span><span class="keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$mtc </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] == </span><span class="string">'&lt;i&gt;no value&lt;/i&gt;'</span><span class="keyword">) continue;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$v</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = </span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70306""></a>
  <div class="note">
   <strong class="user">jb2386 at hotmail dot com</strong>
   <a href="#70306" class="date">11-Oct-2006 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a slight modification to the previous code by "code at adspeed dot com" that extracts the PHP modules as an array. I used it on PHP 4.1.2 and it failed as the &lt;h2&gt; tags also had an align="center". So this update changes the regex for those tags:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/* parse php modules from phpinfo */<br />
<br />
</span><span class="keyword">function </span><span class="default">parsePHPModules</span><span class="keyword">() {<br />
&nbsp;</span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;</span><span class="default">phpinfo</span><span class="keyword">(</span><span class="default">INFO_MODULES</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
&nbsp;</span><span class="default">ob_end_clean</span><span class="keyword">();<br />
<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">'&lt;h2&gt;&lt;th&gt;&lt;td&gt;'</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/&lt;th[^&gt;]*&gt;([^&lt;]+)&lt;\/th&gt;/'</span><span class="keyword">,</span><span class="string">"&lt;info&gt;\\1&lt;/info&gt;"</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/&lt;td[^&gt;]*&gt;([^&lt;]+)&lt;\/td&gt;/'</span><span class="keyword">,</span><span class="string">"&lt;info&gt;\\1&lt;/info&gt;"</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$vTmp </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/(&lt;h2[^&gt;]*&gt;[^&lt;]+&lt;\/h2&gt;)/'</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$vModules </span><span class="keyword">= array();<br />
&nbsp;for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$vTmp</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/&lt;h2[^&gt;]*&gt;([^&lt;]+)&lt;\/h2&gt;/'</span><span class="keyword">,</span><span class="default">$vTmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">],</span><span class="default">$vMat</span><span class="keyword">)) {<br />
&nbsp;&nbsp; </span><span class="default">$vName </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$vTmp2 </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">,</span><span class="default">$vTmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; foreach (</span><span class="default">$vTmp2 </span><span class="keyword">AS </span><span class="default">$vOne</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="default">$vPat </span><span class="keyword">= </span><span class="string">'&lt;info&gt;([^&lt;]+)&lt;\/info&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$vPat3 </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">/"</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$vPat2 </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">/"</span><span class="keyword">;<br />
&nbsp;&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$vPat3</span><span class="keyword">,</span><span class="default">$vOne</span><span class="keyword">,</span><span class="default">$vMat</span><span class="keyword">)) { </span><span class="comment">// 3cols<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$vName</span><span class="keyword">][</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])] = array(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]),</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]));<br />
&nbsp;&nbsp; } elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$vPat2</span><span class="keyword">,</span><span class="default">$vOne</span><span class="keyword">,</span><span class="default">$vMat</span><span class="keyword">)) { </span><span class="comment">// 2cols<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$vName</span><span class="keyword">][</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp;}<br />
&nbsp;return </span><span class="default">$vModules</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59573""></a>
  <div class="note">
   <strong class="user">code  at  adspeed dot com</strong>
   <a href="#59573" class="date">10-Dec-2005 12:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function parses the phpinfo output to get details about a PHP module. 
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">/** parse php modules from phpinfo */
<br />
</span><span class="keyword">function </span><span class="default">parsePHPModules</span><span class="keyword">() {
<br />
&nbsp;</span><span class="default">ob_start</span><span class="keyword">();
<br />
&nbsp;</span><span class="default">phpinfo</span><span class="keyword">(</span><span class="default">INFO_MODULES</span><span class="keyword">);
<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();
<br />
&nbsp;</span><span class="default">ob_end_clean</span><span class="keyword">();
<br />
&nbsp;
<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">'&lt;h2&gt;&lt;th&gt;&lt;td&gt;'</span><span class="keyword">);
<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/&lt;th[^&gt;]*&gt;([^&lt;]+)&lt;\/th&gt;/'</span><span class="keyword">,</span><span class="string">"&lt;info&gt;\\1&lt;/info&gt;"</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">);
<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/&lt;td[^&gt;]*&gt;([^&lt;]+)&lt;\/td&gt;/'</span><span class="keyword">,</span><span class="string">"&lt;info&gt;\\1&lt;/info&gt;"</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">);
<br />
&nbsp;</span><span class="default">$vTmp </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/(&lt;h2&gt;[^&lt;]+&lt;\/h2&gt;)/'</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);
<br />
&nbsp;</span><span class="default">$vModules </span><span class="keyword">= array();
<br />
&nbsp;for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$vTmp</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++) {
<br />
&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/&lt;h2&gt;([^&lt;]+)&lt;\/h2&gt;/'</span><span class="keyword">,</span><span class="default">$vTmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">],</span><span class="default">$vMat</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; </span><span class="default">$vName </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);
<br />
&nbsp;&nbsp; </span><span class="default">$vTmp2 </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">,</span><span class="default">$vTmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">]);
<br />
&nbsp;&nbsp; foreach (</span><span class="default">$vTmp2 </span><span class="keyword">AS </span><span class="default">$vOne</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vPat </span><span class="keyword">= </span><span class="string">'&lt;info&gt;([^&lt;]+)&lt;\/info&gt;'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vPat3 </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">/"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vPat2 </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">/"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$vPat3</span><span class="keyword">,</span><span class="default">$vOne</span><span class="keyword">,</span><span class="default">$vMat</span><span class="keyword">)) { </span><span class="comment">// 3cols
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$vName</span><span class="keyword">][</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])] = array(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]),</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])); 
<br />
&nbsp;&nbsp;&nbsp; } elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$vPat2</span><span class="keyword">,</span><span class="default">$vOne</span><span class="keyword">,</span><span class="default">$vMat</span><span class="keyword">)) { </span><span class="comment">// 2cols
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$vName</span><span class="keyword">][</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]); 
<br />
&nbsp;&nbsp;&nbsp; } 
<br />
&nbsp;&nbsp; } 
<br />
&nbsp; } 
<br />
&nbsp;} 
<br />
&nbsp;return </span><span class="default">$vModules</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Sample Output:
<br />
[gd] =&gt; Array
<br />
(
<br />
&nbsp; [GD Support] =&gt; enabled
<br />
&nbsp; [GD Version] =&gt; bundled (2.0.28 compatible)
<br />
&nbsp; [FreeType Support] =&gt; enabled
<br />
&nbsp; [FreeType Linkage] =&gt; with freetype
<br />
&nbsp; [FreeType Version] =&gt; 2.1.9
<br />
&nbsp; [T1Lib Support] =&gt; enabled
<br />
&nbsp; [GIF Read Support] =&gt; enabled
<br />
&nbsp; [GIF Create Support] =&gt; enabled
<br />
&nbsp; [JPG Support] =&gt; enabled
<br />
&nbsp; [PNG Support] =&gt; enabled
<br />
&nbsp; [WBMP Support] =&gt; enabled
<br />
&nbsp; [XBM Support] =&gt; enabled
<br />
)
<br />

<br />
[date] =&gt; Array (
<br />
&nbsp; [date/time support] =&gt; enabled
<br />
&nbsp; [Timezone Database Version] =&gt; 2005.14
<br />
&nbsp; [Timezone Database] =&gt; internal
<br />
&nbsp; [Default timezone] =&gt; America/Los_Angeles
<br />
&nbsp; [Directive] =&gt; Array (
<br />
&nbsp;&nbsp; &nbsp; [0] =&gt; Local Value
<br />
&nbsp;&nbsp; &nbsp; [1] =&gt; Master Value
<br />
&nbsp; )
<br />
&nbsp; [date.timezone] =&gt; Array (
<br />
&nbsp;&nbsp; &nbsp; [0] =&gt; no value
<br />
&nbsp;&nbsp; &nbsp; [1] =&gt; no value
<br />
&nbsp; )
<br />
&nbsp;)
<br />

<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">/** get a module setting */
<br />
</span><span class="keyword">function </span><span class="default">getModuleSetting</span><span class="keyword">(</span><span class="default">$pModuleName</span><span class="keyword">,</span><span class="default">$pSetting</span><span class="keyword">) {
<br />
&nbsp;</span><span class="default">$vModules </span><span class="keyword">= </span><span class="default">parsePHPModules</span><span class="keyword">();
<br />
&nbsp;return </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$pModuleName</span><span class="keyword">][</span><span class="default">$pSetting</span><span class="keyword">];
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Example: getModuleSetting('gd','GD Version'); returns "bundled (2.0.28 compatible)"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57532""></a>
  <div class="note">
   <strong class="user">Helpful Harry</strong>
   <a href="#57532" class="date">06-Oct-2005 05:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
check out this cool and fantastic colourful phpinfo()!<br />
<br />
<span class="default">&lt;?php<br />
<br />
ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
</span><span class="default">$phpinfo </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
</span><span class="default">ob_end_clean</span><span class="keyword">();<br />
<br />
</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/#[0-9a-fA-F]{6}/'</span><span class="keyword">, </span><span class="default">$phpinfo</span><span class="keyword">, </span><span class="default">$rawmatches</span><span class="keyword">);<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$rawmatches</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; </span><span class="default">$matches</span><span class="keyword">[] = </span><span class="default">$rawmatches</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">];<br />
</span><span class="default">$matches </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">);<br />
<br />
</span><span class="default">$hexvalue </span><span class="keyword">= </span><span class="string">'0123456789abcdef'</span><span class="keyword">;<br />
<br />
</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
foreach (</span><span class="default">$matches </span><span class="keyword">as </span><span class="default">$match</span><span class="keyword">)<br />
{<br />
<br />
&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="string">'#'</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$searches</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="default">$match</span><span class="keyword">;<br />
&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">6</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexvalue</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$replacements</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">++] = </span><span class="default">$r</span><span class="keyword">;<br />
&nbsp;&nbsp; unset(</span><span class="default">$r</span><span class="keyword">);<br />
}<br />
<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$searches</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; </span><span class="default">$phpinfo </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$searches</span><span class="keyword">, </span><span class="default">$replacements</span><span class="keyword">, </span><span class="default">$phpinfo</span><span class="keyword">);<br />
echo </span><span class="default">$phpinfo</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
