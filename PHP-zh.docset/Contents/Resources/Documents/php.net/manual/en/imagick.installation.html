<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>安装</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="imagick.requirements.html">? 需求</a></li>
      <li style="float: right;"><a href="imagick.configuration.html">运行时配置 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="imagick.setup.html">安装／配置</a></li>
    <li>安装</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="imagick.installation" class="section">
  <h2 class="title">安装</h2>
  <p class="para">
   此 <a href="http://pecl.php.net/" class="link external" title="Link : http://pecl.php.net/">&raquo;&nbsp;PECL</a> 扩展未与
PHP 捆绑。
  </p>
  <p class="para">
   安装此 PECL 扩展相关的信息可在手册中标题为
<a href="install.pecl.html" class="link">PECL
扩展的安装</a>章节中找到。更多信息如新的发行版本、下载、源文件、
维护人员信息及变更日志等，都在此处：
   <a href="http://pecl.php.net/package/imagick" class="link external" title="Link : http://pecl.php.net/package/imagick">&raquo;&nbsp;http://pecl.php.net/package/imagick</a>.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">The official name of this extension is <em class="emphasis">imagick</em>.</span>
  </p></blockquote>
  <p class="para">
    Windows users can download prebuilt DLL from the <a href="http://windows.php.net/downloads/pecl/releases/imagick" class="link external" title="Link : http://windows.php.net/downloads/pecl/releases/imagick">&raquo;&nbsp;PECL</a> website.
  </p>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="115779""></a>
  <div class="note">
   <strong class="user">kmteoh at hotmail dot com</strong>
   <a href="#115779" class="date">22-Sep-2014 12:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for PHP 5.3 Windows user who try to install, here is the note where I have spent near 4 hours to get concluded:<br />
<br />
- you need NOT LATEST but 6.7.7 imagemagic engine: <a href="http://ftp.sunet.se/pub/multimedia/graphics/ImageMagick/binaries/ImageMagick-6.7.7-5-Q16-windows-dll.exe (tips by justinjacob @ http://stackoverflow.com/questions/20440968/installing-php-imagick-dll-php-extension-on-wampserver-2-2" rel="nofollow" target="_blank">http://ftp.sunet.se/pub/multimedia/graphics/ImageMagick/binaries/ImageMagick-6.7.7-5-Q16-windows-dll.exe (tips by justinjacob @ http://stackoverflow.com/questions/20440968/installing-php-imagick-dll-php-extension-on-wampserver-2-2</a>)<br />
<br />
- <a href="http://windows.php.net/downloads/pecl/releases/imagick/3.1.2/ TS version work just fine, make sure you restart apache after install both above, in order." rel="nofollow" target="_blank">http://windows.php.net/downloads/pecl/releases/imagick/3.1.2/ TS version work just fine, make sure you restart apache after install both above, in order.</a><br />
<br />
- if it says 'CORE_RL_WAND' not found, you probably want to move all CORE_* files from /ext folder to one above.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113711""></a>
  <div class="note">
   <strong class="user">feedback at weknowtoomuch dot com</strong>
   <a href="#113711" class="date">20-Nov-2013 09:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have PHP 5.3.24<br />
<br />
I just did that:<br />
&nbsp;-&nbsp; Download proper extension version from<br />
&nbsp;&nbsp;&nbsp; <a href="http://windows.php.net/downloads/pecl/releases/imagick/" rel="nofollow" target="_blank">http://windows.php.net/downloads/pecl/releases/imagick/</a><br />
&nbsp;&nbsp;&nbsp; I picked 3.1.2 which is the latest non-beta at this time<br />
&nbsp;-&nbsp; Unzip and copy php_imagick.dll to PHP ext folder<br />
&nbsp;-&nbsp; add <br />
[PHP_IMAGICK]<br />
extension=php_imagick.dll<br />
&nbsp;&nbsp; to php.ini<br />
&nbsp;-&nbsp; Download recommended Imagick version and install from:<br />
&nbsp;&nbsp;&nbsp; <a href="http://imagemagick.org/script/binary-releases.php#windows" rel="nofollow" target="_blank">http://imagemagick.org/script/binary-releases.php#windows</a><br />
&nbsp;&nbsp; ( I chose to have C headers and also COM objects during installation)<br />
&nbsp;-&nbsp; Restart apache<br />
&nbsp;-&nbsp; Check phpinfo() for Imagick section... there it is!<br />
<br />
Nothing out of ordinary for a PHP extension... I don't know what the fuss is...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112310""></a>
  <div class="note">
   <strong class="user">holdoffhunger at gmail dot com</strong>
   <a href="#112310" class="date">31-May-2013 05:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is a big disclaimer that should be made to all those about to venture on ImageMagick programming using PHP: the great, vast majority of WAMP (Windows-Apache-MySQL-PHP) servers do not support ImageMagick commands at all, since it is a "different package," and there appears to be no way to install ImageMagick through standard Add/Remove Applications within Linux (as far as standard Debian linux releases go).&nbsp; It's very easy to get Apache/PHP running in either Windows or Linux with pretty much any standard OS/distro supported so that you can run all of your own code on your own computer.&nbsp; But that's definitely not the case when you want Imagick to cooperate with your Apache server and your PHP code!
<br />

<br />
It took me almost an entire week just to get Apache/PHP/ImageMagick working all together nice and happily so that I could run my own PHP code on my own machine (natively, too).&nbsp; So, I decided to simply write down the steps, to help anyone else out who could need help.
<br />

<br />
Guide to Building an Apache/PHP/Imagick Server with Linux/CentOS 6.4:::
<br />

<br />
1. Install CentOS 6.4.&nbsp; (Theoretically, other versions of CentOS should work as well, but I simply chose the most recent one.)&nbsp; Also, you can very easily emulate CentOS within Windows (for instance, the unfree choice of VMWare).
<br />
2. Install PHP, PHP-Common, PHP-extensions, etc., from standard Application Package Manager ("Add/Remove Programs", usually in system tools somewhere).&nbsp; (You don't have to worry about Apache, because that comes with CentOS 6.4 anyway.)
<br />
3. Open up a terminal and enter admin mode with the command "su".&nbsp; You'll need a password for this.
<br />
4. Enter this command: yum install ImageMagick ImageMagick-devel
<br />
5. Enter this command: pecl install imagick
<br />
6. Modify php.ini and include the line "extension=imagick.so".&nbsp; This file is located at "/etc/php.ini" normally.&nbsp; The line must be exactly inserted in the section of "Dynamic Extensions", which begins with this commented out text:
<br />

<br />
--------------------------------
<br />
;;;;;;;;;;;;;;;;;;;;;;
<br />
; Dynamic Extensions ;
<br />
;;;;;;;;;;;;;;;;;;;;;;
<br />
--------------------------------
<br />

<br />
Use the "search" feature of gedit to find the text.&nbsp; Add the extension below the commented out note in this section so that the result looks like:
<br />

<br />
--------------------------------
<br />
;;;;
<br />
; Note: packaged extension modules are now loaded via the .ini files
<br />
; found in the directory /etc/php.d; these are loaded by default.
<br />
;;;;
<br />

<br />
extension=imagick.so
<br />
--------------------------------
<br />

<br />
Putting the extension directly at the top caused me serious permission issues in running Imagick code.&nbsp; Also, with CentOS, the permissions automatically disable user control for this php.ini.&nbsp; Enter the following terminal command: "chown [YOUR-USERNAME] -R /etc/php.ini", without the quotes to get control to modify it.&nbsp; Note to insert your username where it states "[YOUR-USERNAME]".
<br />
7. Enter this command: "service httpd restart", without quotes, from admin mode.&nbsp; This restarts Apache/PHP/PHP's extensios now that you've installed ImageMagick.&nbsp; If this gives you an error, just try "service httpd start".
<br />

<br />
My favorite part about this method is that you can update your system with issuing the "yum update" command and then the "yum upgrade" command -- and the Apache/PHP/Imagick combo will still be working perfectly!&nbsp; Unlike some other guides out there for this, you don't need to rely on antiquated, unsupported versions that can be nearly impossible to find.&nbsp; Also, you don't need to worry about the MySQL, Hash, MBString, Exif packages, because they all seem to be installed and properly cooperating with PHP automatically after installing PHP from the Application Manager.&nbsp; This solution makes everything work well together.
<br />

<br />
The root directory of your public files is located at /var/www/html/.&nbsp; Normally, this folder is not owned by the user, so you'll get a permission error when trying to add files or folders to it.&nbsp; Correct that with entering admin mode in the terminal/command-line window ("su" command) and entering the following command: "chown [YOUR-USERNAME] -R /var/www/html/", without quotes.&nbsp; Again, replace "[YOUR-USERNAME]" with your actual user name.&nbsp; (Warning: The first time I did this, I was lazy and entered the command for only the "/var/" folder, which prevented my system ever from booting.&nbsp; It would always freeze with the notorious and googleable erro-message: "Could not update ICEauthority file /var/lib/gdm/.ICEauthority".&nbsp; So, make sure to change ownership only for "/var/www/html/".)
<br />

<br />
To view your root directory files as compiled, resultant, PHP pages, open up a browser and enter "127.0.0.1" as the address.&nbsp; So, a file in your root directory would be accessed at the following URL in your browser: <a href="http://127.0.0.1/your.file.php .&nbsp; If you get a " rel="nofollow" target="_blank">http://127.0.0.1/your.file.php .&nbsp; If you get a </a>"could not connect" error message, try the command "service httpd start" at the terminal window from admin mode.&nbsp; (You have to start this service manually every time the machine boots, although there's plenty of ways to automate it.)
<br />

<br />
I hope this helps!&nbsp; I tried a hundred different guides on getting Apache/PHP/Imagick to work together and none of them worked.&nbsp; Don't give up!&nbsp; ImageMagick is a package of really neat imaging functions!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112151""></a>
  <div class="note">
   <strong class="user">Baasha</strong>
   <a href="#112151" class="date">10-May-2013 06:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To install on debian simply try:<br />
<br />
apt-get install php5-imagick<br />
<br />
on ubuntu:<br />
<br />
sudo apt-get install php5-imagick</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111389""></a>
  <div class="note">
   <strong class="user">Dmitry Semenov</strong>
   <a href="#111389" class="date">15-Feb-2013 07:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you tried to install it on Linux and got this message<br />
<br />
pecl install imagick<br />
<br />
/var/tmp/imagick/php_imagick.h:49:31: fatal error: wand/MagickWand.h: No such file or directory<br />
compilation terminated.<br />
make: *** [imagick_class.lo] Error 1<br />
ERROR: `make' failed<br />
<br />
this is what solves it:<br />
<br />
yum install ImageMagick-devel</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99162""></a>
  <div class="note">
   <strong class="user">vbsaltydog</strong>
   <a href="#99162" class="date">31-Jul-2010 05:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I could not install via PECL or compiling from source because of an error from line 3339 of the configure file generated by phpize so I looked at the configure file at line 3339 and it was just a check for the PHP version using the php-config command with the --vernum switch which was not supported by my PHP version so I commented out that check from the configure file and then it would configure, compile, and install.<br />
<br />
After installation, it put the shared object file in my php extension modules directory so I added an entry to my /etc/php.d directory to load the extension file and restarted apache and the imagick section is present in my info.php output.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95808""></a>
  <div class="note">
   <strong class="user">Martin Vincent</strong>
   <a href="#95808" class="date">22-Jan-2010 05:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For PHP 5.3 I have read that these versions should work:<br />
ImageMagick-6.5.9-0-Q16-windows-dll.exe<br />
imagick-2.3.0-dev/vc9_nts/php_imagick.dll</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95270""></a>
  <div class="note">
   <strong class="user">scottchu dot tw at gmail dot com</strong>
   <a href="#95270" class="date">23-Dec-2009 04:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PECL install imagick contantly fails due to the server is behind some firewall, so one may try 'phpize' way to install.<br />
<br />
However, someone like me who doesn't want to use default options may experience thru failure situation. And if you google thru the cloud, you may find many people tell you to rpm imagick-devel with yum or apt. That does solve the problem.<br />
<br />
However, In my case, my server already has php 5.3.1 installed under /usr/lcal/php &amp; the linux doesn't have yum or apt service. Furthermore, I just installed imagemagick yesterday (Also quite a battle =.=) under /usr/local/imk <br />
<br />
(note: You may see that I don't like default options, I like to install each package under different dir under /usr/local).<br />
<br />
Today, I want to install imagick, so this is what I do:<br />
<br />
1&gt; add /usr/local/php/bin &amp; /usr/local/imk/bin to path.<br />
<br />
2&gt; download imagick source of intended version (I use 3.0.b1).<br />
<br />
3&gt; enter that dir &amp; issue 'phpize'.<br />
<br />
(note:I got a habit to issue './configure --help &gt; oo' &amp; 'view oo' to see all the options first before installation)<br />
<br />
4&gt; 'vi configure' &amp; find LIBS, then add '-l/usr/local/imk/lib' after it.<br />
<br />
5&gt; issue './configure --prefix=/usr/local/ik4php' --with-imagick='/usr/local/imk'.<br />
<br />
(note: with-imagick points out where you install the imagicmagick package before, this name 'imagick'&nbsp; is not appropriate since it incurs ambiguity with imagick for php =.=)<br />
<br />
6&gt; after it's done, issue 'make'.<br />
<br />
7&gt; after make is done, issue 'make install'.<br />
<br />
(note:the last two output lines will tell you where to find the generated shared object library file: imagick.so)<br />
<br />
8&gt; go to that dir &amp; copy imagick.so to the extension dir defined in php.ini.<br />
<br />
(note: in my case it's /usr/local/php/ext)<br />
<br />
9&gt; edit php.ini to add 'extension=imagick.so' line.<br />
<br />
10&gt; stop &amp; start apache or just restart apache.<br />
<br />
(note: if you have tomcat + apache + jk module installation style as mine, shutdown tomcat, stop apache, then startup tomcat first, then start apache)<br />
<br />
If you have similar server environment &amp; situation as mine, hope this article helps you.<br />
<br />
Scott Chu @ Taiwan</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94169""></a>
  <div class="note">
   <strong class="user">gmorris at ilogsystems dot com</strong>
   <a href="#94169" class="date">20-Oct-2009 08:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I struggled to get imagick installed for mamp and dug high and low. I<br />
was left with the impression that so many struggle with opensource and<br />
&nbsp;this type of install that it is almost a right of passage. For my part, I<br />
&nbsp;managed to find two threads that helped me and the steps work. A lot<br />
&nbsp;of people talked about macports and pear installs which are fine(I tried<br />
&nbsp;them), but 1) they sometimes don't get the latest version of what<br />
&nbsp;you need and 2) I can't tell what they're doing and where they're doing it.<br />
<br />
It's much easier to me to download the stuff where i want it and be <br />
sure of what i got!<br />
<br />
First of all download a tar image of the ImageMagick install from here:<br />
sourceforge.net/projects/imagemagick/files/<br />
<br />
Unpack it and then from terminal issue the following commands in<br />
&nbsp;quotes:<br />
1.&nbsp; "cd ImageMagick-6.5.7" - go where you placed the folder<br />
<br />
2.&nbsp; "./configure"<br />
<br />
3.&nbsp; "make"<br />
<br />
If ImageMagick configured and compiled without complaint, you are<br />
&nbsp;ready to install it on your system. Administrator privileges are<br />
&nbsp;required to install. To install, type the following command in terminal:<br />
<br />
1.&nbsp; "sudo make install"<br />
<br />
To check your ImageMagick installation enter the following command<br />
&nbsp;in terminal:<br />
<br />
1. "make check"<br />
<br />
Remember all commands are entered into terminal in the directory in<br />
&nbsp;which you unzipped your downloaded ImageMagick tar file. (the latest<br />
&nbsp;version of which at this time of writing is ImageMagick-6.5.7.)<br />
<br />
Next we need to install Imagick.so which is what we want for PHP.<br />
<br />
First of all we need to get the right file and we can get that from here:<br />
<br />
pecl.php.net/package/imagick/download<br />
<br />
At current writing the latest stable version is imagick-2.3.0.<br />
<br />
Unpack the tar file and then enter the commands in quotes in terminal:<br />
<br />
1.&nbsp; "cd imagick-2.2.3" - go where you placed the folder<br />
<br />
2.&nbsp;&nbsp; "phpize"<br />
<br />
3.&nbsp;&nbsp; "./configure --with-imagick=/opt/local"<br />
<br />
4.&nbsp;&nbsp; "make"<br />
<br />
5.&nbsp; &nbsp; "make install"<br />
<br />
If you look at the bottom of the output, it will tell you where it has <br />
placed the imagick.so module. For me it was placed in:<br />
&nbsp;<br />
/imagick-2.3.0/modules<br />
<br />
which is where i had unpacked the downloaded imagick-2.3.0 file.<br />
<br />
Then copy it into your MAMP PHP extensions folder. <br />
<br />
For me it was: <br />
/Applications/MAMP/bin/php5/lib/php/extensions/no-debug-non-zts<br />
-20050922/<br />
<br />
Then, for PHP to honor the the extension, add the following line to the<br />
&nbsp;extensions section of your php.ini file:<br />
<br />
extension=imagick.so<br />
<br />
You should now have a working imagick extension with all of the<br />
&nbsp;resources for php found here:<br />
php.net/manual/en/book.imagick.php<br />
<br />
I will not claim credit for anyone for whom this works, that goes to:<br />
<br />
Imagemagick who posted instructions here:<br />
www.imagemagick.org/script/install-source.php<br />
<br />
and Wallance who posted his experience here:<br />
www.daniweb.com/forums/thread194181.html#<br />
<br />
I really hope this helps others because developing this stuff is <br />
frustrating enough without spending hours or even days just trying to set<br />
&nbsp;up the development environment so you can use the tools.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93490""></a>
  <div class="note">
   <strong class="user">elia weiss</strong>
   <a href="#93490" class="date">12-Sep-2009 09:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you get the following error on windows (vista):<br />
'The application has failed to start because its side-by-side <br />
configuration is incorrect. Please see the application event log<br />
&nbsp;for more detail.'<br />
<br />
then install:<br />
Visual C++ 2008 Redistributable Package (x86) <br />
from:<br />
<a href="http://www.microsoft.com/downloads" rel="nofollow" target="_blank">http://www.microsoft.com/downloads</a><br />
/details.aspx?familyid=A5C84275-3B97-4AB7-A40D-3802B2AF5FC2<br />
<br />
see: <br />
<a href="http://www.imagemagick.org/script/binary-releases.php#windows" rel="nofollow" target="_blank">http://www.imagemagick.org/script/binary-releases.php#windows</a><br />
for more info (scroll to the end of the page)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92529""></a>
  <div class="note">
   <strong class="user">Ultimater at gmail dot com</strong>
   <a href="#92529" class="date">28-Jul-2009 04:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Installing Imagick on Windows isn't too hard.&nbsp; I followed the guide at <a href="http://valokuva.org/?page_id=50 and managed to install it without too much sweat." rel="nofollow" target="_blank">http://valokuva.org/?page_id=50 and managed to install it without too much sweat.</a><br />
<br />
1. Visit <a href="http://imagemagick.org/script/binary-releases.php#windows and download " rel="nofollow" target="_blank">http://imagemagick.org/script/binary-releases.php#windows and download </a>"ImageMagick-6.5.4-6-Q16-windows-dll.exe"<br />
<br />
2. Pick a version at <a href="http://valokuva.org/outside-blog-content/imagick-windows-builds/ The directories are in YYMMDD format. The latest version that worked for me was 2008-Jul-09 so download 080709/php_imagick_dyn-Q16.dll respectively." rel="nofollow" target="_blank">http://valokuva.org/outside-blog-content/imagick-windows-builds/ The directories are in YYMMDD format. The latest version that worked for me was 2008-Jul-09 so download 080709/php_imagick_dyn-Q16.dll respectively.</a><br />
&nbsp;<br />
3. Rename php_imagick_dyn-Q16.dll to "php_imagick.dll" and move it to php/ext<br />
<br />
4. open php.ini, and make sure <br />
extension=php_imagick.dll<br />
appears in the file and uncommented then resave.<br />
Note: phpinfo() will tell you the location of the loaded php.ini file.<br />
<br />
5. Re-start your webserver.<br />
<br />
That's it, a simple test will tell you if your installation was successful.<br />
<span class="default">&lt;?php<br />
$im </span><span class="keyword">= new </span><span class="default">Imagick</span><span class="keyword">();<br />
</span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">newPseudoImage</span><span class="keyword">(</span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="string">"magick:rose"</span><span class="keyword">);<br />
</span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">setImageFormat</span><span class="keyword">(</span><span class="string">"png"</span><span class="keyword">);<br />
</span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">roundCorners</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$type</span><span class="keyword">=</span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">getFormat</span><span class="keyword">();<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: </span><span class="default">$type</span><span class="string">"</span><span class="keyword">);<br />
echo </span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">getimageblob</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90571""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#90571" class="date">28-Apr-2009 09:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Installation of Imagick on Windows:<br />
-------------------------------------------<br />
<br />
Here an important hint for all who want to use Imagick:<br />
<br />
First of all: Forget this PECL.<br />
It is for Linux only.<br />
<br />
In the old discussion boards I read that some years ago there was a DLL for PHP available on the FTP server of imagemagick.org. Once upon a time there has also been a CHM installation help file on FTP which also has been removed. The only thing you find today on the FTP server is a ridiculous text file:<br />
<a href="ftp://ftp.imagemagick.org/pub/ImageMagick/php/windows/README.txt" rel="nofollow" target="_blank">ftp://ftp.imagemagick.org/pub/ImageMagick/php/windows/README.txt</a><br />
This file contains 3 links:<br />
2 links of them are dead meanwhile.<br />
The only working one is this:<br />
www.dirk.sh/dirk/magickwand<br />
a page of a chinese guy who offers a MagickWand.dll for PHP of 4 MB size (Q8, static compiled)<br />
But he discontinoued support since 2007.<br />
There is no installation manual available.<br />
<br />
He only writes:<br />
"Please ref watson's post about how to install on Windows:<br />
redux.imagemagick.org/discourse-server/viewtopic.php?t=4708"<br />
<br />
This page which uses stupid style sheet settings like "font-size:11%" which make parts of the text unreadable also was no help.<br />
<br />
At the end all manuals say the same:<br />
Copy the DLL into the "ext" folder and add the entry to the php.ini:<br />
extension=dllname<br />
restart the Apache and you are done.<br />
<br />
But this is not true: it simply does NOT work on Xampp.<br />
In a DOS box entering <br />
PHP.exe -i &gt; Info.txt<br />
prints all installed modules.<br />
You also find:<br />
<br />
"magickwand<br />
MagickWand Backend Library =&gt; ImageMagick<br />
MagickWand Extension Version =&gt; 1.0.5<br />
ImageMagick support =&gt; enabled<br />
ImageMagick version =&gt; ImageMagick 6.3.5 09/21/07 Q8 www.imagemagick.org<br />
ImageMagick QuantumRange (MaxRGB) =&gt; 255<br />
MagickWand supported image formats =&gt; A, ART, AVI, AVS, B, BIE, BMP, BMP2, BMP3, etc.."<br />
<br />
But after executing phpinfo() MagickWand does NOT appear under the installed extensions. Strange!!<br />
And the Wand commands do NOT function like:<br />
$resource = NewMagickWand();<br />
<br />
I also found a php_imagick.dll of 65 kB size in the internet which also does not work. It does not even appear in <br />
PHP -i.<br />
<br />
There is no error in the Apache logfile!<br />
<br />
I read all I could find in the internet and wasted 2 entire days, without success, now I'm sick of Imagick and I absolutely cannot understand why the guys of imagemagick.org don't offer a ready compiled dll with an installation manual anymore?<br />
<br />
In general the Imagick page seems not very trustworthy:<br />
On the download page they do never explain what is the difference between the several versions. What doess static mean?<br />
They never explain. (Static means that the convert.exe does not depend on so many dlls. It only requires one external DLL, for that it has a size of 5 MB instead of 200 kb) <br />
And the explanation about the difference between Q8 and Q16 version is wrong: Q8 does NOT mean 8 Bits per pixel as the download page says. It means 8 Bit per color = 24 Bit per Pixel)<br />
<br />
And I found an ugly misdesign:<br />
If you install the Q8 version on your local PC and want to copy the files from your harddisk to the server, then convert.exe will crash!<br />
Convert.exe depends on a Registry Entry. And if this is missing (on a server where you have not full access) it will crash. The strangest thing is that this registry key can contain any nonsense, it only must exist! How stupid!<br />
<br />
So if you want to execute as an alternative the commandline tools like convert.exe from your PHP code you must add this Registry entries to the server:<br />
HKEY_LOCAL_MACHINE\SOFTWARE\ImageMagick\6.5.1\Q:8\ConfigurePath<br />
The value can be anything.<br />
<br />
But with the commandline tools you cannot obtain the width and height of an image in your PHP code. This is not possible.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
