<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Specify the method how the SNMP values will be returned</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.snmp-set-quick-print.html">? snmp_set_quick_print</a></li>
      <li style="float: right;"><a href="function.snmp2-get.html">snmp2_get ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.snmp.html">SNMP 函数</a></li>
    <li>Specify the method how the SNMP values will be returned</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.snmp-set-valueretrieval" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">snmp_set_valueretrieval</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.3, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">snmp_set_valueretrieval</span> &mdash; <span class="dc-title">
   Specify the method how the SNMP values will be returned
  </span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.snmp-set-valueretrieval-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> 
   <span class="methodname"><strong>snmp_set_valueretrieval</strong></span>
    ( <span class="methodparam">
    <span class="type">int</span>
     <code class="parameter">$method</code>
    <span class="initializer"> = SNMP_VALUE_LIBRARY</span>
   </span>
   )</div>

 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.snmp-set-valueretrieval-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>

      <code class="parameter">method</code>
     </dt>

     <dd>

      <table class="doctable table">
       <caption><strong>types</strong></caption>
       
        <tbody class="tbody">
         <tr>
          <td>SNMP_VALUE_LIBRARY</td>
          <td>The return values will be as returned by the Net-SNMP library.</td>
         </tr>

         <tr>
          <td>SNMP_VALUE_PLAIN</td>
          <td>The return values will be the plain value without the SNMP type hint.</td>
         </tr>

         <tr>
          <td>SNMP_VALUE_OBJECT</td>
          <td>
           The return values will be objects with the properties &quot;value&quot; and &quot;type&quot;, where the latter
           is one of the SNMP_OCTET_STR, SNMP_COUNTER etc. constants. The
           way &quot;value&quot; is returned is based on which one of constants
           <strong><code>SNMP_VALUE_LIBRARY</code></strong>, <strong><code>SNMP_VALUE_PLAIN</code></strong> is set.
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    
   </dl>

  </p>
 </div>

 
 
 <div class="refsect1 examples" id="refsect1-function.snmp-set-valueretrieval-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-4951">
    <p><strong>Example #1 Using
     <span class="function"><strong>snmp_set_valueretrieval()</strong></span>
    </strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;snmp_set_valueretrieval</span><span style="color: #007700">(</span><span style="color: #0000BB">SNMP_VALUE_LIBRARY</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">snmpget</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'public'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'IF-MIB::ifName.1'</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #FF8000">//&nbsp;$ret&nbsp;=&nbsp;"STRING:&nbsp;lo"<br /><br />&nbsp;</span><span style="color: #0000BB">snmp_set_valueretrieval</span><span style="color: #007700">(</span><span style="color: #0000BB">SNMP_VALUE_PLAIN</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">snmpget</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'public'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'IF-MIB::ifName.1'</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #FF8000">//&nbsp;$ret&nbsp;=&nbsp;"lo";<br /><br />&nbsp;</span><span style="color: #0000BB">snmp_set_valueretrieval</span><span style="color: #007700">(</span><span style="color: #0000BB">SNMP_VALUE_OBJECT</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">snmpget</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'public'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'IF-MIB::ifName.1'</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #FF8000">//&nbsp;stdClass&nbsp;Object<br />&nbsp;//&nbsp;(<br />&nbsp;//&nbsp;&nbsp;&nbsp;[type]&nbsp;=&gt;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;--&nbsp;SNMP_OCTET_STR,&nbsp;see&nbsp;constants<br />&nbsp;//&nbsp;&nbsp;&nbsp;[value]&nbsp;=&gt;&nbsp;lo<br />&nbsp;//&nbsp;)<br /><br />&nbsp;//&nbsp;PHP&nbsp;5.4+&nbsp;examples<br />&nbsp;</span><span style="color: #0000BB">snmp_set_valueretrieval</span><span style="color: #007700">(</span><span style="color: #0000BB">SNMP_VALUE_OBJECT&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">SNMP_VALUE_PLAIN</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">snmpget</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'public'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'IF-MIB::ifName.1'</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #FF8000">//&nbsp;stdClass&nbsp;Object<br />&nbsp;//&nbsp;(<br />&nbsp;//&nbsp;&nbsp;&nbsp;[type]&nbsp;=&gt;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;--&nbsp;SNMP_OCTET_STR,&nbsp;see&nbsp;constants<br />&nbsp;//&nbsp;&nbsp;&nbsp;[value]&nbsp;=&gt;&nbsp;lo<br />&nbsp;//&nbsp;)<br /><br />&nbsp;</span><span style="color: #0000BB">snmp_set_valueretrieval</span><span style="color: #007700">(</span><span style="color: #0000BB">SNMP_VALUE_OBJECT&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">SNMP_VALUE_LIBRARY</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">snmpget</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'public'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'IF-MIB::ifName.1'</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #FF8000">//&nbsp;stdClass&nbsp;Object<br />&nbsp;//&nbsp;(<br />&nbsp;//&nbsp;&nbsp;&nbsp;[type]&nbsp;=&gt;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;--&nbsp;SNMP_OCTET_STR,&nbsp;see&nbsp;constants<br />&nbsp;//&nbsp;&nbsp;&nbsp;[value]&nbsp;=&gt;&nbsp;STRING:&nbsp;lo<br />&nbsp;//&nbsp;)<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-function.snmp-set-valueretrieval-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.4.0</td>
       <td>
        <p class="para">
         Constants <strong><code>SNMP_VALUE_PLAIN</code></strong> or <strong><code>SNMP_VALUE_LIBRARY</code></strong>
         may be combined with <strong><code>SNMP_VALUE_OBJECT</code></strong>
         resulting different way of representing contents of <code class="parameter">value</code>
         array element in return value of GET-function. If no
         <strong><code>SNMP_VALUE_{PLAIN,LIBRARY}</code></strong> constant is
         accompanying <strong><code>SNMP_VALUE_OBJECT</code></strong>,
         <strong><code>SNMP_VALUE_LIBRARY</code></strong> is used.
        </p>
        <p class="para">
         Prior to 5.4.0 <strong><code>SNMP_VALUE_OBJECT</code></strong> effecively meant
         <strong><code>SNMP_VALUE_OBJECT</code></strong>|<strong><code>SNMP_VALUE_PLAIN</code></strong>.
        </p>
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.snmp-set-valueretrieval-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member">
     <span class="function"><a href="function.snmp-get-valueretrieval.html" class="function" rel="rdfs-seeAlso">snmp_get_valueretrieval()</a> - Return the method how the SNMP values will be returned</span>
    </li>
    <li class="member"><a href="snmp.constants.html" class="xref">预定义常量</a></li>
   </ul>
  </p>
 </div>

 
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="88343""></a>
  <div class="note">
   <strong class="user">doug dot manley at gmail dot com</strong>
   <a href="#88343" class="date">20-Jan-2009 10:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The default value (if this function is not called) is "SNMP_VALUE_LIBRARY", which seems to be SNMP's built-in way of printing things.<br />
<br />
From "snmp.c":<br />
&lt;code&gt;<br />
static PHP_GINIT_FUNCTION(snmp)<br />
{<br />
&nbsp;&nbsp;&nbsp; snmp_globals-&gt;valueretrieval = SNMP_VALUE_LIBRARY;<br />
}<br />
&lt;/code&gt;<br />
<br />
A mild description of these is:<br />
SNMP_VALUE_LIBRARY: This is a string similar to:<br />
"INTEGER: 42"<br />
<br />
SNMP_VALUE_PLAIN: This is a string similar to:<br />
"42"<br />
<br />
SNMP_VALUE_OBJECT: This is a PHP object like:<br />
object(<br />
"type" =&gt; SNMP_INTEGER,<br />
"value" =&gt; 42,<br />
)<br />
Here, "type" is one of the SNMP_* types that are listed under the "Predefined Constants" page.&nbsp; In addition, types 128, 129, and 130 are error conditions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76827""></a>
  <div class="note">
   <strong class="user">Mikhail D</strong>
   <a href="#76827" class="date">01-Aug-2007 02:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sample is swow Interface status.<br />
(.iso.org.dod.internet.mgmt.mib-2.<br />
interfaces.ifTable.ifEntry.ifAdminStatus)<br />
Possible values for this request from MIB: <br />
Enum(integer): up (1), down (2), testing (3)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//snmp_set_quick_print(0);&nbsp; // is default<br />
</span><span class="default">$strIP </span><span class="keyword">= </span><span class="string">"10.1.1.1"</span><span class="keyword">; </span><span class="default">$strComm </span><span class="keyword">= </span><span class="string">"public"</span><span class="keyword">; <br />
</span><span class="default">$strOID </span><span class="keyword">=&nbsp; </span><span class="string">".1.3.6.1.2.1.2.2.1.7.1"</span><span class="keyword">;<br />
echo </span><span class="string">"\n Default valueretrieval with snmp_set_quick_print(0)"</span><span class="keyword">;<br />
echo </span><span class="string">" snmp_get_valueretrieval = SNMP_VALUE_LIBRARY"</span><span class="keyword">;<br />
echo </span><span class="string">", retrieved value " </span><span class="keyword">.&nbsp; </span><span class="default">snmpget</span><span class="keyword">(</span><span class="default">$strIP</span><span class="keyword">, </span><span class="default">$strComm</span><span class="keyword">, </span><span class="default">$strOID</span><span class="keyword">);&nbsp; <br />
</span><span class="default">snmp_set_valueretrieval</span><span class="keyword">(</span><span class="default">SNMP_VALUE_LIBRARY</span><span class="keyword">);&nbsp; &nbsp; <br />
echo </span><span class="string">"\n SNMP_VALUE_LIBRARY " </span><span class="keyword">. </span><span class="default">snmp_get_valueretrieval</span><span class="keyword">();<br />
echo </span><span class="string">", retrieved value " </span><span class="keyword">.&nbsp;&nbsp; </span><span class="default">snmpget</span><span class="keyword">(</span><span class="default">$strIP</span><span class="keyword">, </span><span class="default">$strComm</span><span class="keyword">, </span><span class="default">$strOID</span><span class="keyword">);&nbsp; <br />
</span><span class="default">snmp_set_valueretrieval</span><span class="keyword">(</span><span class="default">SNMP_VALUE_PLAIN</span><span class="keyword">);&nbsp; &nbsp; <br />
echo </span><span class="string">"\n SNMP_VALUE_PLAIN " </span><span class="keyword">. </span><span class="default">snmp_get_valueretrieval</span><span class="keyword">();<br />
echo </span><span class="string">", retrieved value " </span><span class="keyword">.&nbsp; </span><span class="default">snmpget</span><span class="keyword">(</span><span class="default">$strIP</span><span class="keyword">, </span><span class="default">$strComm</span><span class="keyword">, </span><span class="default">$strOID</span><span class="keyword">);&nbsp; <br />
<br />
</span><span class="default">snmp_set_quick_print</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);<br />
echo </span><span class="string">"\n Default valueretrieval snmp_set_quick_print(0) " </span><span class="keyword">;<br />
</span><span class="default">snmp_set_valueretrieval</span><span class="keyword">(</span><span class="default">SNMP_VALUE_LIBRARY</span><span class="keyword">);&nbsp; &nbsp; <br />
echo </span><span class="string">"\n SNMP_VALUE_LIBRARY " </span><span class="keyword">. </span><span class="default">snmp_get_valueretrieval</span><span class="keyword">();<br />
echo </span><span class="string">", retrieved value " </span><span class="keyword">.&nbsp;&nbsp; </span><span class="default">snmpget</span><span class="keyword">(</span><span class="default">$strIP</span><span class="keyword">, </span><span class="default">$strComm</span><span class="keyword">, </span><span class="default">$strOID</span><span class="keyword">);&nbsp; <br />
</span><span class="default">snmp_set_valueretrieval</span><span class="keyword">(</span><span class="default">SNMP_VALUE_PLAIN</span><span class="keyword">);&nbsp; &nbsp; <br />
echo </span><span class="string">"\n SNMP_VALUE_PLAIN " </span><span class="keyword">. </span><span class="default">snmp_get_valueretrieval</span><span class="keyword">();<br />
echo </span><span class="string">", retrieved value " </span><span class="keyword">.&nbsp; </span><span class="default">snmpget</span><span class="keyword">(</span><span class="default">$strIP</span><span class="keyword">, </span><span class="default">$strComm</span><span class="keyword">, </span><span class="default">$strOID</span><span class="keyword">);&nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
Results:<br />
&nbsp;Default valueretrieval with snmp_set_quick_print(0)<br />
&nbsp;&nbsp; &nbsp; snmp_get_valueretrieval = SNMP_VALUE_LIBRARY,<br />
&nbsp;retrieved value up(1)<br />
&nbsp;SNMP_VALUE_LIBRARY 0, retrieved value up(1)<br />
&nbsp;SNMP_VALUE_PLAIN 1, retrieved value 1<br />
&nbsp;Default valueretrieval snmp_set_quick_print(0) <br />
&nbsp;SNMP_VALUE_LIBRARY 0, retrieved value up<br />
&nbsp;SNMP_VALUE_PLAIN 1, retrieved value 1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43532""></a>
  <div class="note">
   <strong class="user">david at eder dot us</strong>
   <a href="#43532" class="date">24-Jun-2004 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It appears that the possible method constants for this function are:<br />
<br />
SNMP_VALUE_LIBRARY<br />
SNMP_VALUE_PLAIN<br />
SNMP_VALUE_OBJECT<br />
<br />
If you are harvesting data you probably want SNMP_VALUE_PLAIN.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
