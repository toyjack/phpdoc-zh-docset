<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Microsoft Windows 下的 Xitami</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="install.windows.sambar.html">? Microsoft Windows 下的 Sambar 服务器</a></li>
      <li style="float: right;"><a href="install.windows.building.html">从源程序编译 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="install.windows.html">Windows 系统下的安装</a></li>
    <li>Microsoft Windows 下的 Xitami</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="install.windows.xitami" class="sect1">
 <h2 class="title">Microsoft Windows 下的 Xitami</h2>
 <p class="para">
  本节包含针对 Windows 下的 
  <a href="http://www.xitami.com/" class="link external" title="Link : http://www.xitami.com/">&raquo;&nbsp;Xitami</a> 的说明与提示。
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   应该首先阅读<a href="install.windows.manual.html" class="link">手工安装步骤</a>！
  </p>
 </p></blockquote>
 <p class="simpara">
  下面列出了怎样在 Windows 下在 Xitami 中设置 PHP 的 CGI 方式。
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <strong>CGI 用户重要提示</strong><br />
  <p class="para">
   请阅读 <a href="faq.installation.html#faq.installation.forceredirect" class="link">FAQ：cgi.force_redirect</a>
   中的重要细节。此选项需要被设为 <em>0</em>。如果想要使用 
   <em>$_SERVER[&#039;PHP_SELF&#039;]</em>，还必须激活 
   <a href="ini.core.html#ini.cgi.fix-pathinfo" class="link">cgi.fix_pathinfo</a>选项。
  </p>
 </p></blockquote>
 
 <div class="warning"><strong class="warning">Warning</strong><p class="para">服务器使用 CGI 方式进行部署可能存在几个公开的缺陷。请阅读
<a href="security.cgi-bin.html" class="link">CGI 安全</a>一章 以学习 如何抵御这些攻击。</p></div>
 
 <p class="para">
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     确保 web 服务器在运行，在浏览器中打开 Xitami 的管理控制台（通常是 
     <em>http://127.0.0.1/admin</em>），并点击 Configuration；
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     找到 Filters，在 File extensions（.xxx）字段中加入想要 PHP 解析的后缀名（例如 .php）；
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     在 Filter command 或 script 中输入 PHP 的 CGI 可执行文件名，例如 PHP 4 是 
     <var class="filename">C:\php\php.exe</var>，PHP 5 是 
     <var class="filename">C:\php\php-cgi.exe</var>；
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     点击"Save"图标；
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     重启动服务器以使改动生效。
    </p>
   </li>
  </ul>
 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="81640""></a>
  <div class="note">
   <strong class="user">Tom dot Cockaert at d-c-s dot be</strong>
   <a href="#81640" class="date">07-Mar-2008 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was able to get it to work with the info from Alex (<br />
06-Jan-2007 12:22) with one addition though.<br />
<br />
When I did the steps he mentioned I did not see anything yet in my browser. <br />
I still had to hard refresh my page by CTRL-F5, then I finally had an output from my testscript.<br />
<br />
Br,<br />
Tom.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72187""></a>
  <div class="note">
   <strong class="user">Alex</strong>
   <a href="#72187" class="date">06-Jan-2007 06:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I used php v 5.1.4 and the latest Xitami version.<br />
<br />
1st change, use 'C:\php\php-win.exe' (in Windows OS) instead of 'C:\php\php-cgi.exe'<br />
<br />
2nd change, you must click on the save button after you have changed the filters page and then again in the standarn configuration page.<br />
<br />
finally, restart the server by going to the windows Gui interface (right click on the Xitami symbol in the system tray and choose properties) and click suspend (so the background for the 'X' goes red) then click start again.<br />
<br />
hope this helps anyone with problems</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47089""></a>
  <div class="note">
   <strong class="user">ae_engine at yahoo dot com</strong>
   <a href="#47089" class="date">02-Nov-2004 03:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have successfully configured Xitami using cgi.redirect<br />
in PHP<br />
set cgi.redirect = 1<br />
set cgi.redirect_status = CGI_REDIRECT_STATUS;<br />
<br />
in Xitami, defaults.cfg<br />
under CGI_ENVIRONMENT<br />
insert CGI_REDIRECT_STATUS="-"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45781""></a>
  <div class="note">
   <strong class="user">rjb1 at catalog dot net dot au</strong>
   <a href="#45781" class="date">18-Sep-2004 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I am running xitami as a business www server on ms-windows. I have a number of long-running PHP scripts. I developed a tiny java applet to receive and display progressive status information from these slow scripts. It effectively facilitates SERVER PUSH from PHP scripts to IE and Netscape browsers.&nbsp; Take a look: catalog.net.au/netClient.zip (Ron Boles, Melbourne, Australia)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41488""></a>
  <div class="note">
   <strong class="user">rjb1 at catalog dot net dot au</strong>
   <a href="#41488" class="date">12-Apr-2004 02:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP via ISAPI with XITAMI<br />
I have developed a small GUI in c++, which runs XITAMI and configures the Xitami ISAPI interface for use with PHP. It is so much faster than the PHP cgi interface and appears to be more stable too. <br />
Take a look here: <a href="http://catalog.net.au/xisapi/default.html" rel="nofollow" target="_blank">http://catalog.net.au/xisapi/default.html</a><br />
Ron Boles<br />
Melbourne, Australia</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36627""></a>
  <div class="note">
   <strong class="user">Roshambo</strong>
   <a href="#36627" class="date">16-Oct-2003 10:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was only able to get PHP (4.3.3) working under Xitami (2.5c0) on Windows XP (SP1) by adding the following lines to defaults.cfg:<br />
<br />
[Mime]<br />
&nbsp;&nbsp;&nbsp; php=application/x-httpd-php<br />
&nbsp;&nbsp;&nbsp; <br />
[Filter]<br />
&nbsp;&nbsp;&nbsp; .php="c:/php/php.exe"<br />
<br />
Note the quotation marks and the forward slashes in the filter section.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35725""></a>
  <div class="note">
   <strong class="user">david at advisorymatters dot co dot uk</strong>
   <a href="#35725" class="date">12-Sep-2003 01:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using the CGI (c:\php[version]\php.exe) with Xitami since PHP version 4.3.2 requires the following setting in php.ini before the $_SERVER['PHP_SELF'] call will return a value:<br />
<br />
cgi.fix_pathinfo=1<br />
<br />
Note that $_SERVER['SCRIPT_NAME'] still works.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27289""></a>
  <div class="note">
   <strong class="user">janko dot slavic at email dot si</strong>
   <a href="#27289" class="date">30-Nov-2002 11:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editors Note]
<br />
You can force IE to disregard a cached page by pressing the Control key and click the Refresh button.
<br />

<br />
Please, do not forget the IE caches files.
<br />

<br />
I had a test.php and got the error message. I changed the defaults.cfg and also the cgi.force_redirect to = 0. After restarting the Xitami the error message was still there. 
<br />
After a while I saved the test.php file to test2.php and found that it is working fine...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
