<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Checks if the current item is valid</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="imagick.unsharpmaskimage.html">? Imagick::unsharpMaskImage</a></li>
      <li style="float: right;"><a href="imagick.vignetteimage.html">Imagick::vignetteImage ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.imagick.html">Imagick</a></li>
    <li>Checks if the current item is valid</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="imagick.valid" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Imagick::valid</h1>
  <p class="verinfo">(PECL imagick 2.0.0)</p><p class="refpurpose"><span class="refname">Imagick::valid</span> &mdash; <span class="dc-title">Checks if the current item is valid</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-imagick.valid-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>Imagick::valid</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para rdfs-comment">
   Checks if the current item is valid.
  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-imagick.valid-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>TRUE</code></strong>。
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="96162""></a>
  <div class="note">
   <strong class="user">hyrumt at mediarain dot com</strong>
   <a href="#96162" class="date">11-Feb-2010 08:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
We found this method to be of value when checking most image file types. However, it does not appear to be rigorous enough to detect corrupt jpg files. We use the following for jpgs and validate() for everything else.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// check for the existence of the EOI segment header at the end of the file<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">0 </span><span class="keyword">!== </span><span class="default">fseek</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">, </span><span class="default">SEEK_END</span><span class="keyword">) || </span><span class="string">"\xFF\xD9" </span><span class="keyword">!== </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
