<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>parent</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="keyword.paamayim-nekudotayim.html">? 范围解析操作符（::）</a></li>
      <li style="float: right;"><a href="oop4.serialization.html">序列化对象 － 会话中的对象 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="oop4.html">类与对象（PHP 4）</a></li>
    <li>parent</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="keyword.parent" class="sect1">
   <h2 class="title"><em>parent</em></h2>

  <p class="para">
   用户可能会发现自己写的代码访问了基类的变量和函数。如果派生类非常精炼或者基类非常专业化的时候尤其是这样。
  </p>

  <p class="para">
   不要用代码中基类文字上的名字，应该用特殊的名字
   <em>parent</em>，它指的就是派生类在 <em>extends</em>
   声明中所指的基类的名字。这样做可以避免在多个地方使用基类的名字。如果继承树在实现的过程中要修改，只要简单地修改类中
   <em>extends</em> 声明的部分。
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">example</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"I&nbsp;am&nbsp;A::example()&nbsp;and&nbsp;provide&nbsp;basic&nbsp;functionality.&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">example</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"I&nbsp;am&nbsp;B::example()&nbsp;and&nbsp;provide&nbsp;additional&nbsp;functionality.&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">example</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;这将调用&nbsp;B::example()，而它会去调用&nbsp;A::example()。<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">example</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="117202""></a>
  <div class="note">
   <strong class="user">Aman</strong>
   <a href="#117202" class="date">01-May-2015 07:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
We can't use parent:: keyword to access property of the parent class like methods as variables are not overridable as method does<br />
<br />
Consider the following code<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Fish<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$common_name </span><span class="keyword">= </span><span class="string">'Name'</span><span class="keyword">;<br />
}<br />
<br />
class </span><span class="default">Trout </span><span class="keyword">extends </span><span class="default">Fish<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getInfo</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">$common_name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$brook_trout </span><span class="keyword">= new </span><span class="default">Trout</span><span class="keyword">();<br />
echo </span><span class="default">$brook_trout</span><span class="keyword">-&gt;</span><span class="default">getInfo</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
this will cause following error<br />
<br />
&nbsp;Fatal error: Access to undeclared static property: Fish::$common_name<br />
<br />
Simply use $this keyword to access both own and parent's variable</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116971""></a>
  <div class="note">
   <strong class="user">matirank at hotmail dot com</strong>
   <a href="#116971" class="date">29-Mar-2015 02:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
class ExtendClass <br />
&nbsp;{<br />
&nbsp;&nbsp; &nbsp; public function __construct($variable,$array){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return null;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;}<br />
&nbsp;<br />
&nbsp;class NameClass extends ExtendClass<br />
&nbsp;{<br />
&nbsp;&nbsp;&nbsp; public function __construct($variable=null,$array = array()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; parent::__construct($variable, $array);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114280""></a>
  <div class="note">
   <strong class="user">exmodione at yahoo dot com</strong>
   <a href="#114280" class="date">02-Feb-2014 12:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was originally impressed with this language, and I got curious about its object-oriented features so I started applying them - but this whole this/self/parent thing is ridiculously stupid - it's confusing - I've been coding in C++ and C# - PHP's OO sucks!&nbsp; I also heard from an online source many people who use PHP avoid its OO features. Now I know why.&nbsp; It's stupid.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107804""></a>
  <div class="note">
   <strong class="user">greg-wilson at hotmail dot com</strong>
   <a href="#107804" class="date">07-Mar-2012 03:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can access/modify variables of the parent class from multiple subclasses:<br />
<br />
class Superclass{<br />
&nbsp;&nbsp;&nbsp; private static $arr = array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; protected addArrayElement($element){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; self::$arr[] = $element;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; protected printArray(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; var_dump( self::$arr );<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class SubclassA extends Superclass{<br />
&nbsp;&nbsp;&nbsp; public function addToArray($elem){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; parent::addArrayElement($elem);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class SubclassB extends Superclass{<br />
&nbsp;&nbsp;&nbsp; public function addToSameArray($elem){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; parent::addArrayElement($elem);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$classA = new SubclassA;<br />
$classA-&gt;addToArray("first");<br />
$classB = new SubclassB;<br />
$classB-&gt;addToSameArray("second");<br />
<br />
calling '$classB-&gt;printArray()' results in both "first" and "second" being printed, demonstrating shared static access to a superclass variable from multiple extended classes.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94177""></a>
  <div class="note">
   <strong class="user">pjm at pehjota dot com</strong>
   <a href="#94177" class="date">21-Oct-2009 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've seen people in the comments below use this, but I've also seen some unecessary workarounds to achieve it. So I thought I'd clarify, even though it is shown in the documentation. You CAN reference non-static parent methods, as in other languages. For example...<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">abstract class </span><span class="default">ParentClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">doSomething</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"done.\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">ChildClass </span><span class="keyword">extends </span><span class="default">ParentClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">doSomething</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"attempting something.\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">doSomething</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">ChildClass</span><span class="keyword">();<br />
</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">doSomething</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This will output both "attempting something." and "done." As you might expect, it also works if the parent method is protected. Users of other languages may have tried defining static and non-static methods with the same name. This is why that doesn't work ("parent" can refer to both static and non-static methods, and there's no way to differentiate them).<br />
<br />
However, you CANNOT use the "parent" keyword to reference the parent's variables. When in a class, "parent" will always look for static variables. For example, this results in an "Access to undeclared static property" fatal error:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">abstract class </span><span class="default">ParentClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$var </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
}<br />
<br />
class </span><span class="default">ChildClass </span><span class="keyword">extends </span><span class="default">ParentClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setVar</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">$var </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getVar</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">$var</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">ChildClass</span><span class="keyword">();<br />
</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">setVar</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">);&nbsp; </span><span class="comment">// Results in fatal error.<br />
</span><span class="keyword">echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getVar</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;&nbsp; </span><span class="comment">// Results in fatal error.<br />
</span><span class="keyword">echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">var </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;&nbsp; </span><span class="comment">// Would work and reference the parent's $var unless the child has its own $var.<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91315""></a>
  <div class="note">
   <strong class="user">lesion at autistici dot org</strong>
   <a href="#91315" class="date">05-Jun-2009 12:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
take care of using parent::method with not declared method when using __call because in this case the string method will be lowercase:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__call</span><span class="keyword">( </span><span class="default">$method</span><span class="keyword">, </span><span class="default">$args </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="default">get_class</span><span class="keyword">( </span><span class="default">$this </span><span class="keyword">)&nbsp; . </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">$method </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">getTest</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getTest</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">();<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">getTest</span><span class="keyword">();<br />
</span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">();<br />
</span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">getTest</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
output:<br />
<br />
A getTest<br />
B gettest</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86279""></a>
  <div class="note">
   <strong class="user">php at stock-consulting dot com</strong>
   <a href="#86279" class="date">10-Oct-2008 06:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It appears that parent refers to the base class of the subclass in which the method is defined, not the subclass in which the method is exceuted. This behaviour is consistent with other object-oriented languages. PHP's documentation is a bit unclear here, so I had to test it (PHP5.2.6).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84873""></a>
  <div class="note">
   <strong class="user">nate at 8</strong>
   <a href="#84873" class="date">03-Aug-2008 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To simulate traditional C# like parent access, child classes can be defined in the parent's constructor and linked via explict definition. ($this-&gt;b-&gt;par = $this;)
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{
<br />

<br />
&nbsp; var </span><span class="default">$foo</span><span class="keyword">;
<br />
&nbsp; var </span><span class="default">$b</span><span class="keyword">;
<br />

<br />
&nbsp; function </span><span class="default">A</span><span class="keyword">(){
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">= </span><span class="string">"foo!"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">-&gt;</span><span class="default">par </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp; function </span><span class="default">bar</span><span class="keyword">(){
<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="string">"bar!"</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
};
<br />

<br />
class </span><span class="default">B </span><span class="keyword">{
<br />

<br />
&nbsp; var </span><span class="default">$par</span><span class="keyword">;
<br />

<br />
&nbsp; function </span><span class="default">B</span><span class="keyword">(){
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp; function </span><span class="default">bar</span><span class="keyword">(){
<br />
&nbsp;&nbsp;&nbsp; print( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">par</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">par</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
};
<br />

<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">;
<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">();
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This returns:
<br />

<br />
foo!bar!
<br />

<br />
demonstrating both variable and function access via the parent.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73789""></a>
  <div class="note">
   
   <a href="#73789" class="date">10-Mar-2007 12:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp;&nbsp; function </span><span class="default">X</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'y'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A</span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp;&nbsp; function </span><span class="default">X</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'z'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; function </span><span class="default">Y</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">parent</span><span class="keyword">::</span><span class="default">X</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">B </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp;&nbsp; function </span><span class="default">Z </span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">parent</span><span class="keyword">::</span><span class="default">Y</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">$c </span><span class="keyword">= new </span><span class="default">C</span><span class="keyword">();<br />
</span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">Z</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//output is 'y'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48335""></a>
  <div class="note">
   <strong class="user">KOmaSHOOTER at gmx dot de</strong>
   <a href="#48335" class="date">20-Dec-2004 02:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An example for using a memberfunction with another memberfunction.<br />
<br />
The sequencing for the creating of the class is important.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp; function </span><span class="default">example</span><span class="keyword">()<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">"I am A::example() and provide basic functionality.&lt;br&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp; function </span><span class="default">example</span><span class="keyword">()<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">"I am B::example() and provide additional functionality.&lt;br&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">example</span><span class="keyword">();<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">A<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; function </span><span class="default">example</span><span class="keyword">()<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; global </span><span class="default">$b</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">"I am c::example() and provide additional functionality.&lt;br&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">example</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">example</span><span class="keyword">();<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">(); <br />
</span><span class="default">$c </span><span class="keyword">= new </span><span class="default">C</span><span class="keyword">();<br />
</span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">example</span><span class="keyword">();<br />
;</span><span class="default">?&gt;<br />
</span><br />
Result:<br />
<br />
I am c::example() and provide additional functionality.<br />
I am A::example() and provide basic functionality.<br />
I am B::example() and provide additional functionality.<br />
I am A::example() and provide basic functionality.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42736""></a>
  <div class="note">
   
   <a href="#42736" class="date">27-May-2004 07:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
About the constructors :<br />
<br />
Yes, a good pratrice could be to use a method called by the real constructor. In PHP 5, constructor are unified with the special __construct method. So we could do :<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$a </span><span class="keyword">= </span><span class="string">"null"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">A</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$this</span><span class="keyword">, </span><span class="string">"__construct"</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"A &lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$b </span><span class="keyword">= </span><span class="string">"null"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= </span><span class="default">$b</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"B &lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">display</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">, </span><span class="string">" / "</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">, </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">(</span><span class="string">"haha"</span><span class="keyword">, </span><span class="string">"bobo"</span><span class="keyword">);<br />
</span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">display</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
It will have the same behavior than standard php constructors, except that you can not pass arguments by reference.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42378""></a>
  <div class="note">
   <strong class="user">andyfaeglasgowTAKE_ME_OUT at yahoo dot co dot uk</strong>
   <a href="#42378" class="date">14-May-2004 05:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
re: referring to a parents variables<br />
<br />
The documentation doesn't say anything about how one should refer to the variables of a parent class in a child class (maybe it's obvious but I thought I'd point it out anyway).<br />
<br />
class Actress {<br />
&nbsp;&nbsp;&nbsp; var $bust;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function Actress() {$this-&gt;bust = "32C";}<br />
&nbsp;&nbsp;&nbsp; function show() {echo "Bust: $this-&gt;bust...";}<br />
}<br />
<br />
class HollywoodActress extends Actress{<br />
&nbsp;&nbsp;&nbsp; var $attitude;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function HollywoodActress () {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;Actress();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;attitude = "Fiery";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function show() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; parent::show();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "Attitude: $this-&gt;attitude";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function modify_bust() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;bust = "32DD";<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$girl_at_theatre = new Actress();<br />
$girl_at_theatre-&gt;show();<br />
//output: "Bust: 32C..."<br />
<br />
$object_of_gossip = new HollywoodActress();<br />
$object_of_gossip-&gt;modify_bust();<br />
$object_of_gossip-&gt;show();<br />
//output: "Bust: 32D:...Attidude: Fiery"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42153""></a>
  <div class="note">
   <strong class="user">ckrack at i-z dot de</strong>
   <a href="#42153" class="date">05-May-2004 06:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that we can use $this in the parent's method like we might expect.<br />
It will be used as the instance of the extended class.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">foofoo</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x </span><span class="keyword">= </span><span class="string">"foofoo"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
class </span><span class="default">bar </span><span class="keyword">extends </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// we have var $x; from the parent already here.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">barbar</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">foofoo</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$b </span><span class="keyword">= new </span><span class="default">bar</span><span class="keyword">;<br />
</span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">barbar</span><span class="keyword">(); </span><span class="comment">// prints: "foofoo"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39750""></a>
  <div class="note">
   <strong class="user">bitmore.co.kr</strong>
   <a href="#39750" class="date">09-Feb-2004 10:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/* Original */<br />
/*<br />
class A {<br />
&nbsp;&nbsp;&nbsp; var $x;<br />
&nbsp;&nbsp;&nbsp; function A() { $this-&gt;x = 32; }<br />
&nbsp;&nbsp;&nbsp; function joke() { print "A::joke" . A::x . "&lt;br&gt;\n"; # SYNTAX ERROR!! }<br />
}<br />
class B extends A {<br />
&nbsp;&nbsp;&nbsp; var $x;<br />
&nbsp;&nbsp;&nbsp; function B() { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; parent::A();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;x = 44;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function joke() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; parent::joke();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print "B::joke " . $this-&gt;x . "&lt;br&gt;\n";<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
echo A::joke();<br />
echo B::joke();<br />
*/<br />
<br />
/* Original */<br />
/* Modify */<br />
/*<br />
class A {<br />
&nbsp;&nbsp;&nbsp; var $x;<br />
&nbsp;&nbsp;&nbsp; function A() { $this-&gt;x = 32; }<br />
&nbsp;&nbsp;&nbsp; function joke() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this = new A;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print "A::joke = " . $this-&gt;x . "&lt;br&gt;\n";<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
class B extends A {<br />
&nbsp;&nbsp;&nbsp; var $x;<br />
&nbsp;&nbsp;&nbsp; function B() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; parent::A();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;x = 44;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function joke() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; parent::joke();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this = new B;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print "B::joke = " . $this-&gt;x . "&lt;br&gt;\n";<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
echo A::joke();<br />
echo B::joke();<br />
<br />
//print Show<br />
A::joke = 32<br />
A::joke = 32<br />
B::joke = 44<br />
*/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38891""></a>
  <div class="note">
   <strong class="user">James Sleeman</strong>
   <a href="#38891" class="date">10-Jan-2004 03:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It should be noted that when using parent:: you are able to call a method defined within the parent, or any class that the parent is extending.. for example.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">class </span><span class="default">A<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">test</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">'Hello '</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">B<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">test</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">test</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">'Bobby.'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; </span><span class="default">$D </span><span class="keyword">=&amp; new </span><span class="default">C</span><span class="keyword">();<br />
&nbsp; </span><span class="default">$D</span><span class="keyword">-&gt;</span><span class="default">test</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs "Hello Bobby.", the fact that B does not define test() means that A's test() is called, it should also be noted that test() is called in the context of an 'A' class, so if you try and call parent:: in A's test() it will correctly fail.<br />
<br />
It's also worth noting that parent:: also works fine in a static method, eg <span class="default">&lt;?php&nbsp; C</span><span class="keyword">::</span><span class="default">test</span><span class="keyword">(); </span><span class="default">?&gt;</span> still outputs "Hello Bobby.", and you can even do <span class="default">&lt;?php B</span><span class="keyword">::</span><span class="default">test</span><span class="keyword">(); </span><span class="default">?&gt;</span> which correctly outputs "Hello ", even though we're calling a static method that lives in an ancestor class!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35789""></a>
  <div class="note">
   <strong class="user">adrian dabrowski</strong>
   <a href="#35789" class="date">15-Sep-2003 04:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you like to use the here suggested method of calling a parent constructer by using get_parent_class(), you will expirience undesired behaviour, if your parent is using the same technique.<br />
<br />
class A {<br />
&nbsp; function A() {<br />
&nbsp;&nbsp; &nbsp; $me = get_class($this);<br />
&nbsp;&nbsp; &nbsp; echo "A:this is $me, I have no parent\n";<br />
&nbsp; }<br />
}&nbsp; <br />
<br />
class B extends A {<br />
&nbsp; function B() {<br />
&nbsp;&nbsp; &nbsp; $par = get_parent_class($this);<br />
&nbsp;&nbsp; &nbsp; $me = get_class($this);<br />
&nbsp;&nbsp; &nbsp; echo "B:this is $me, my parent is $par\n";<br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; parent::$par(); <br />
&nbsp; }<br />
}&nbsp; <br />
<br />
class C extends B {<br />
&nbsp; function C() {<br />
&nbsp;&nbsp; &nbsp; $par = get_parent_class($this);<br />
&nbsp;&nbsp; &nbsp; $me = get_class($this);<br />
&nbsp;&nbsp; &nbsp; echo "C:this is $me, my parent is $par\n";<br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; parent::$par(); <br />
&nbsp; }<br />
}&nbsp; <br />
new C();<br />
<br />
this will not produce the output you probably expected:<br />
C:this is c, my parent is b<br />
B:this is b, my parent is a<br />
A:this is a, i have no parent<br />
<br />
...but insted you will get in serious troubles:<br />
C:this is c, my parent is b<br />
B:this is c, my parent is b<br />
<br />
Fatal error:&nbsp; Call to undefined function:&nbsp; b() in .............. on line 16<br />
<br />
$this is always pointing to the 'topmost' class - it seems like this is php's way to cope with polymorphic OOP.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35223""></a>
  <div class="note">
   <strong class="user">hustbaer</strong>
   <a href="#35223" class="date">24-Aug-2003 07:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
something on the note of 'minoc':<br />
<br />
in this setup, the "$this-&gt;$par();" will lead to infinite recursion...<br />
<br />
class foo extends bar { <br />
&nbsp; function foo() { <br />
<br />
&nbsp;&nbsp;&nbsp; $par = get_parent_class($this); <br />
&nbsp;&nbsp;&nbsp; $this-&gt;$par(); <br />
<br />
&nbsp;&nbsp;&nbsp; // then normal constructor stuff. <br />
&nbsp;&nbsp;&nbsp; // ... <br />
&nbsp; } <br />
<br />
&nbsp; function bar()<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; echo "this makes no sense, but who cares :)";<br />
&nbsp; }<br />
} <br />
<br />
but the problem is easity fixed by going like so:<br />
<br />
class foo extends bar { <br />
&nbsp; function foo() { <br />
<br />
&nbsp;&nbsp;&nbsp; $par = get_parent_class($this); <br />
&nbsp;&nbsp;&nbsp; parent::$par(); <br />
<br />
&nbsp;&nbsp;&nbsp; // then normal constructor stuff. <br />
&nbsp;&nbsp;&nbsp; // ... <br />
&nbsp; } <br />
<br />
&nbsp; function bar()<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; echo "this makes no sense, but who cares :)";<br />
&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="33724""></a>
  <div class="note">
   <strong class="user">mazsolt at yahoo dot com</strong>
   <a href="#33724" class="date">05-Jul-2003 12:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is a difference between PHP and C# managing the overloaded variables of the parent class:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">a</span><span class="keyword">{
<br />
var </span><span class="default">$a</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br />
function </span><span class="default">display</span><span class="keyword">(){
<br />
echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">;
<br />
}
<br />
}
<br />

<br />
class </span><span class="default">b </span><span class="keyword">extends </span><span class="default">a</span><span class="keyword">{
<br />
var </span><span class="default">$a</span><span class="keyword">=</span><span class="default">9</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$x</span><span class="keyword">=new </span><span class="default">b</span><span class="keyword">;
<br />
</span><span class="default">$x</span><span class="keyword">-&gt;</span><span class="default">display</span><span class="keyword">(); </span><span class="comment">// will display 9
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
The same code in C# will display the value from the parent class.
<br />

<br />
[C#]
<br />
class a{
<br />
private int a=1;
<br />
public int display(){
<br />
return this.a;
<br />
}
<br />
}
<br />

<br />
class b:a{
<br />
private int a=9;
<br />
}
<br />

<br />
b x = new b();
<br />
Response.Write(b.display()); // will display 1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30710""></a>
  <div class="note">
   <strong class="user">horne at teradyne dot com</strong>
   <a href="#30710" class="date">26-Mar-2003 05:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've been scouring through the comments but haven't been able to find an example of how to use variable overriding. The manual hints that it is possible, but there aren't any examples. See the code for what I want to do:<br />
<br />
class A {<br />
&nbsp; var $x;<br />
<br />
&nbsp; function A() {<br />
&nbsp;&nbsp;&nbsp; $this-&gt;x = 32;<br />
&nbsp; }<br />
<br />
&nbsp; function joke() {<br />
&nbsp;&nbsp;&nbsp; print "A::joke" . A::x . "&lt;br&gt;\n"; # SYNTAX ERROR!!<br />
&nbsp; }<br />
}<br />
<br />
class B extends A {<br />
&nbsp; var $x;<br />
<br />
&nbsp; function B() {<br />
&nbsp;&nbsp;&nbsp; parent::A();<br />
&nbsp;&nbsp;&nbsp; $this-&gt;x = 44;<br />
&nbsp; }<br />
<br />
&nbsp; function joke() {<br />
&nbsp;&nbsp;&nbsp; parent::joke();<br />
&nbsp;&nbsp;&nbsp; print "B::joke " . $this-&gt;x . "&lt;br&gt;\n";<br />
&nbsp; }<br />
}<br />
<br />
I want the following output when I call B::joke:<br />
<br />
A::joke 32<br />
B::joke 44<br />
<br />
what do I get if I replace the A::x with $this-&gt;x? <br />
<br />
A::joke 44<br />
B::joke 44<br />
<br />
How do I set the variable $x in the base class? Or, how do I get $this to point to the part of the class that is owned by class A?<br />
<br />
I've tried the following (quite invalid) syntaxes:<br />
A::x<br />
A::$x<br />
${A::x}<br />
A::{$this-&gt;x}<br />
<br />
It'd be nice to have a concrete example of how to access (read and write) parent variable members, or explicitly say that it is not possible to do that.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30633""></a>
  <div class="note">
   <strong class="user">lelegiuly at iol dot it</strong>
   <a href="#30633" class="date">24-Mar-2003 05:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sorry but my example above it's correct only if there's one class that inherits by another class. If the hierarchical tree is deeper than 2 my example doesn't work. The result is a infinite loop cycle.<br />
Why? Because the only instanced object is the B class (in my example).<br />
<br />
$this alwais refer to instanced object.<br />
<br />
See also the "sal at stodge dot org" notes in 4 October 2002.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30106""></a>
  <div class="note">
   <strong class="user">lelegiuly at iol dot it</strong>
   <a href="#30106" class="date">06-Mar-2003 05:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you like Java and you have to call parent constructor, this is my method:<br />
<br />
class object {<br />
&nbsp;&nbsp; function super() {<br />
&nbsp;&nbsp; &nbsp; $par = get_parent_class($this);<br />
&nbsp;&nbsp; &nbsp; $this-&gt;$par();<br />
&nbsp;&nbsp; }<br />
}<br />
class A extends object {<br />
&nbsp;&nbsp; function A() {<br />
&nbsp;&nbsp; &nbsp; echo "A constructor\n";<br />
&nbsp;&nbsp; }<br />
}<br />
class B extends A {<br />
&nbsp;&nbsp; function B() {<br />
&nbsp;&nbsp; &nbsp; $this-&gt;super();<br />
&nbsp;&nbsp; &nbsp; echo "B constructor\n";<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
Include the classes above, instance a new B class and this is the output:<br />
<br />
A constructor<br />
<br />
B constructor<br />
<br />
In your web application every class will extend the object class.<br />
Good luck, Emanuele :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29948""></a>
  <div class="note">
   <strong class="user">Dan</strong>
   <a href="#29948" class="date">02-Mar-2003 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I agree with "anonymous coward". That syntax seems silly in a constructor and only results in an extra function being called. The only time the parent will ever change is if you change the extends expression in your class definition.<br />
<br />
However, the parent:: syntax is very useful when you need to add extra functionality to a method of a child class which is already defined in the parent class.<br />
<br />
Example:<br />
<br />
class foo {<br />
&nbsp;&nbsp; var $prop;<br />
<br />
&nbsp;&nbsp; function foo($prop = 1) {$this-&gt;prop = $prop;}<br />
<br />
&nbsp;&nbsp; function SetProp($prop) {$this-&gt;prop = $prop;}<br />
}<br />
<br />
class bar extends foo {<br />
&nbsp;&nbsp; var $lastprop;<br />
<br />
&nbsp;&nbsp; function bar($prop = NULL) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; is_null($prop) ? $this-&gt;foo() : $this-&gt;foo($prop);<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; function SetProp($prop) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $this-&gt;lastprop = $this-&gt;prop;<br />
&nbsp;&nbsp; &nbsp;&nbsp; parent::SetProp($prop);<br />
&nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27486""></a>
  <div class="note">
   <strong class="user">anonymous at cowards dot com</strong>
   <a href="#27486" class="date">07-Dec-2002 09:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Um, reading through all the gyrations on getting C++ constructor<br />
semantics from PHP, I am wondering if I am just blindly missing something<br />
when I use:<br />
<br />
class A {<br />
&nbsp;&nbsp;&nbsp; function A () {&nbsp; echo "A Constructor\n"; }<br />
}<br />
<br />
class B extends A {<br />
&nbsp;&nbsp;&nbsp; function B () { $this-&gt;A (); echo "B Constructor\n"; }<br />
}<br />
<br />
class C extends B {<br />
&nbsp;&nbsp;&nbsp; function C () { $this-&gt;B (); echo "C Constructor\n"; }<br />
}<br />
<br />
$c = new C ();<br />
<br />
produces:<br />
<br />
A Constructor<br />
B Constructor<br />
C Constructor<br />
<br />
I'm new to PHP, but it seems to me that this is simpler and cleaner<br />
than the solutions discussed here, with the only disadvantage being that<br />
when you change the name of your superclass you have to change one<br />
line in your subclass.<br />
<br />
What am I missing? Are there advanced PHP-OO considerations that<br />
make this code undesireable??</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27433""></a>
  <div class="note">
   <strong class="user">aid at logic dot org dot uk</strong>
   <a href="#27433" class="date">05-Dec-2002 09:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With regard to the chaining of Constrcutures, surely this is a simple and replaible method..?<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp; function </span><span class="default">A</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">"Constructor A&lt;br&gt;\n" </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; <br />
class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp; function </span><span class="default">B</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">A </span><span class="keyword">() ;<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">"Constructor B&lt;br&gt;\n" </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp;<br />
class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">B<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp; function </span><span class="default">C</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">B </span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">"Constructor C&lt;br&gt;\n" </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; <br />
</span><span class="default">$o </span><span class="keyword">= new </span><span class="default">C</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>Which outputs,<br />
<br />
Constructor A<br />
Constructor B<br />
Constructor C</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25748""></a>
  <div class="note">
   <strong class="user">sal at stodge dot org</strong>
   <a href="#25748" class="date">04-Oct-2002 06:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&lt;p&gt;When using the technique suggested by "&lt;b&gt;minoc at mindspring dot com&lt;/b&gt;" on this page - USE EXTREME CAUTION.&lt;/p&gt;<br />
<br />
The problem is that if you inherit of a class that uses this kludge in the constructor you will end up with a recursive constructor - unless that new class has a constructor of it's own that by-passes the kludged constructor.<br />
<br />
What I am saying, is you can use this technique as long as you can ensure that each class you inherit from a class containing this technique in the constructor has a constructor class of it's own that does not call the parent constructor...<br />
<br />
On balance it is probably easier to specify the name of the constructor class explicitly!<br />
<br />
If you make this mistake the symptoms are pretty easy to spot - PHP spirals into an infinitely recursive loop as soon as you attempt to construct a new class. Your web-server will returns an empty document.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25359""></a>
  <div class="note">
   <strong class="user">mwwaygoo at hotmail dot com</strong>
   <a href="#25359" class="date">20-Sep-2002 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With the example given previous from johnremovethreewordsplatte@pobox.com<br />
<br />
You should only do this if your initialisation is different (no point in extending if it isn't)<br />
<br />
When you extend a class its constructor still remains valid and is executed when constructed.&nbsp; Writing a new constructor in the extended class overwrites the old one - inheritance.<br />
<br />
so the following will also work <br />
<br />
class Superclass {<br />
function Superclass($arg) {<br />
$this-&gt;initialize($arg);<br />
}<br />
function initialize($arg) {<br />
$this-&gt;setArg($arg);<br />
}<br />
}<br />
<br />
class Subclass extends Superclass {<br />
//initialize() is inherited:<br />
//BUT so is constructor<br />
<br />
function extra_stuff($arg) {<br />
echo "extra stuff " . $arg;<br />
<br />
}<br />
}<br />
<br />
THE constructor is the function who's name is the same as the class that it is defined within.<br />
AND remains the constructor even in extended classes, until redefined.<br />
<br />
Think of the constructor as a seperate function from all the others.&nbsp; As if PHP looks at your class and makes a copy of the function of the same name as the class and calls it "Constructor".<br />
<br />
You can also create a function within the extended class with the same name as the constructor in the parent class without re-writing the constructor.&nbsp; Because you are not altering the "Constructor" function.<br />
(BUT any redefined variables are used in the constructor, as expected)<br />
<br />
ie<br />
class One<br />
{<br />
&nbsp; var $v = "one";<br />
<br />
&nbsp; function One()<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; print "Class One::Constructor value=" . $this-&gt;v . "&lt;br /&gt;\n";<br />
&nbsp; }<br />
}<br />
<br />
class Two extends One<br />
{<br />
&nbsp; var $v = "two";<br />
<br />
&nbsp; function one()<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; print "REDEFINED : Class Two::Function One value=" . $this-&gt;v . "&lt;br /&gt;\n";<br />
&nbsp; }<br />
}<br />
<br />
$o = new One();<br />
$o-&gt;one();<br />
$p = new Two();<br />
$p-&gt;one();<br />
<br />
results in :-<br />
Class One::Constructor value=one<br />
Class One::Constructor value=one<br />
Class One::Constructor value=two<br />
REDEFINED : Class Two::Function One value=two</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24308""></a>
  <div class="note">
   <strong class="user">johnremovethreewordsplatte at pobox dot com</strong>
   <a href="#24308" class="date">13-Aug-2002 02:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Combining the above suggestions with the "Pull Up Constructor Body" refactoring from Fowler (<a href="http://www.refactoring.com/catalog/pullUpConstructorBody.html" rel="nofollow" target="_blank">http://www.refactoring.com/catalog/pullUpConstructorBody.html</a>), I found an elegant way to inherit constructors in PHP. Both superclass and subclass constructors call an initialize() method, which can be inherited or overridden. For simple cases (which almost all of mine are), no calls to parent::anything are necessary using this technique. The resulting code is easy to read and understand:<br />
<br />
class Superclass {<br />
&nbsp;&nbsp;&nbsp; function Superclass($arg) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;initialize($arg);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function initialize($arg) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;setArg($arg);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class Subclass extends Superclass {<br />
&nbsp;&nbsp;&nbsp; function Subclass($arg) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //initialize() is inherited:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;initialize($arg);<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22373""></a>
  <div class="note">
   <strong class="user">gibby at onebox dot com</strong>
   <a href="#22373" class="date">15-Jun-2002 01:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding the example above, I believe the result is misleading, if you're inferring that the $this in Class One's OneDo method refers to One.<br />
<br />
If that wasn't your conclusion, then my apologies-- I misunderstood you.<br />
<br />
But if it was, it might save trouble to note that $this is effectively an alias for $o (a Class Two object).&nbsp; $v is available to $o, and that's how it's being picked up.&nbsp; $this is $o in that example, not One (One is a class and has no implementation).<br />
<br />
I hope that's helpful.<br />
<br />
Brad</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21858""></a>
  <div class="note">
   <strong class="user">seedpod23 at hotmail dot com</strong>
   <a href="#21858" class="date">29-May-2002 08:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This example might illustrate something which was unclear to me when using the $parent::method() syntax.<br />
<br />
I didn't see any documentation on whether or not $this (object variables) would be available in the parent class method so I wrote this example:<br />
<br />
class One {<br />
<br />
&nbsp; var $v = "one";<br />
<br />
&nbsp; function OneDo() {<br />
&nbsp;&nbsp;&nbsp; print "One::OneDo " . $this-&gt;v . "&lt;br&gt;\n";<br />
&nbsp; }<br />
}<br />
<br />
class Two extends One {<br />
<br />
&nbsp; function CallParent() {<br />
&nbsp;&nbsp;&nbsp; parent::OneDo();<br />
&nbsp; }<br />
}<br />
<br />
$o = new Two();<br />
<br />
$o-&gt;CallParent();<br />
<br />
The output is "One::OneDo one", happy day!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20583""></a>
  <div class="note">
   <strong class="user">php at earthside dot arg</strong>
   <a href="#20583" class="date">09-Apr-2002 07:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is the workaround I came up with based on the comments about using a 'constructor' method and the parent:: syntax...<br />
<br />
#cat test.php<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp; function </span><span class="default">foo</span><span class="keyword">() { </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">constructor</span><span class="keyword">(); }<br />
&nbsp; function </span><span class="default">constructor</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">).</span><span class="string">" (foo)\n"</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
class </span><span class="default">bar </span><span class="keyword">extends </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp; function </span><span class="default">bar</span><span class="keyword">() { </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">constructor</span><span class="keyword">(); }<br />
&nbsp; function </span><span class="default">constructor</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">).</span><span class="string">" (bar)\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">constructor</span><span class="keyword">();<br />
&nbsp; }<br />
}<br />
class </span><span class="default">baz </span><span class="keyword">extends </span><span class="default">bar </span><span class="keyword">{<br />
&nbsp; function &amp; </span><span class="default">baz</span><span class="keyword">() { </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">constructor</span><span class="keyword">(); }<br />
&nbsp; function &amp; </span><span class="default">constructor</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">).</span><span class="string">" (baz)\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">constructor</span><span class="keyword">();<br />
&nbsp; }<br />
}<br />
</span><span class="default">$o </span><span class="keyword">= new </span><span class="default">baz</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>#php test.php<br />
X-Powered-By: PHP/4.1.2<br />
Content-type: text/html<br />
<br />
baz (baz)<br />
baz (bar)<br />
baz (foo)<br />
#<br />
<br />
--<br />
'a' -&gt; 'o' in email TLD</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="14377""></a>
  <div class="note">
   <strong class="user">tim dot parkinson at ntlworld dot com</strong>
   <a href="#14377" class="date">28-Jul-2001 02:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is an implication here that variables of the parent class are available.&nbsp; You can't access variables using parent::</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13625""></a>
  <div class="note">
   <strong class="user">venome at gmx dot net</strong>
   <a href="#13625" class="date">25-Jun-2001 05:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have a complex class hierarchy, I find that it's a good idea to have a function constructor() in every class, and the 'real' php constructor only exists in the absolute base class. 
<br />

<br />
From the basic constructor, you call $this-&gt;constructor(). Now descendants simply have to call parent::constructor() in their own constructor, which eliminates complicated parent calls.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
