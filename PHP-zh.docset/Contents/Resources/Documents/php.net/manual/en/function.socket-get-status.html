<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>别名 stream_get_meta_data</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.setrawcookie.html">? setrawcookie</a></li>
      <li style="float: right;"><a href="function.socket-set-blocking.html">socket_set_blocking ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.network.html">网络 函数</a></li>
    <li>别名 stream_get_meta_data</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.socket-get-status" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">socket_get_status</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">socket_get_status</span> &mdash; <span class="dc-title">别名 <span class="function"><a href="function.stream-get-meta-data.html" class="function">stream_get_meta_data()</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.socket-get-status-description">
  <h3 class="title">说明</h3>
  <p class="simpara">
   此函数是该函数的别名：
   <span class="function"><a href="function.stream-get-meta-data.html" class="function">stream_get_meta_data()</a></span>.
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="19259""></a>
  <div class="note">
   <strong class="user">gtk at linux dot online dot no</strong>
   <a href="#19259" class="date">21-Feb-2002 08:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that if you set the socket non-blocking via socket_set_blocking() you cannot check if the socket has timed out with this function.<br />
<br />
Example:<br />
<br />
$status = socket_get_status($fp);<br />
<br />
if ($status['timed_out']) {<br />
&nbsp;&nbsp;&nbsp; echo "socket timed out\n";<br />
}<br />
<br />
The above condition will never be true even if the socket has timed out.<br />
<br />
I'm not sure if this behaviour is just not documented or a bug. Anyways I'm posting it here because it took some time to figure out.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18487""></a>
  <div class="note">
   <strong class="user">corruptNOSPAMPLEASE at mod dot net</strong>
   <a href="#18487" class="date">25-Jan-2002 02:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function worked for me under 4.0.4pl1<br />
<br />
bytes_left function will tell you how many bytes are left in the buffer of socket $fp. It assumes you didn't make $fp global<br />
<br />
function bytes_left($fp) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; $status = socket_get_status ($fp);<br />
&nbsp; $bytes = $status["unread_bytes"];<br />
&nbsp; return $bytes;&nbsp; &nbsp; &nbsp; &nbsp; <br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="10061""></a>
  <div class="note">
   <strong class="user">rawb at rawb dot org</strong>
   <a href="#10061" class="date">11-Dec-2000 12:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
sockets created using socket(), which are mostly used for listening for connections, are not friendly to this function, you will not get your expected results (if you get any results at all)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
