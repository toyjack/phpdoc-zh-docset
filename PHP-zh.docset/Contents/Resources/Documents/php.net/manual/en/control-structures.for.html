<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>for</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="control-structures.do.while.html">? do-while</a></li>
      <li style="float: right;"><a href="control-structures.foreach.html">foreach ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.control-structures.html">流程控制</a></li>
    <li>for</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="control-structures.for" class="sect1">
 <h2 class="title"><em>for</em></h2>
 <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p>
 <p class="para">
  <em>for</em> 循环是 PHP 中最复杂的循环结构。它的行为和
  C 语言的相似。 <em>for</em> 循环的语法是：
  <div class="informalexample">
   <div class="example-contents">
<div class="cdata"><pre>
for (expr1; expr2; expr3)
    statement
</pre></div>
   </div>

  </div>
 </p>
 <p class="simpara">
  第一个表达式（<var class="varname"><var class="varname">expr1</var></var>）在循环开始前无条件求值（并执行）一次。
 </p>
 <p class="simpara">
  <var class="varname"><var class="varname">expr2</var></var> 在每次循环开始前求值。如果值为
  <strong><code>TRUE</code></strong>，则继续循环，执行嵌套的循环语句。如果值为 <strong><code>FALSE</code></strong>，则终止循环。
 </p>
 <p class="simpara">
  <var class="varname"><var class="varname">expr3</var></var> 在每次循环之后被求值（并执行）。
 </p>
 <p class="simpara">
  每个表达式都可以为空或包括逗号分隔的多个表达式。表达式 <var class="varname"><var class="varname">expr2</var></var>
  中，所有用逗号分隔的表达式都会计算，但只取最后一个结果。<var class="varname"><var class="varname">expr2</var></var>
  为空意味着将无限循环下去（和 C 一样，PHP 暗中认为其值为
  <strong><code>TRUE</code></strong>）。这可能不像想象中那样没有用，因为经常会希望用有条件的 <a href="control-structures.break.html" class="link"><em>break</em></a>
  语句来结束循环而不是用 <em>for</em> 的表达式真值判断。
 </p>
 <p class="para">
  考虑以下的例子，它们都显示数字 1 到 10：
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;example&nbsp;1&nbsp;*/<br /><br /></span><span style="color: #007700">for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;example&nbsp;2&nbsp;*/<br /><br /></span><span style="color: #007700">for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;example&nbsp;3&nbsp;*/<br /><br /></span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />for&nbsp;(;;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++;<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;example&nbsp;4&nbsp;*/<br /><br /></span><span style="color: #007700">for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">,&nbsp;print&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <p class="simpara">
  当然，第一个例子看上去最简洁（或者有人认为是第四个），但用户可能会发现在
  <em>for</em> 循环中用空的表达式在很多场合下会很方便。
 </p>
 <p class="para">
  PHP 也支持用冒号的 <em>for</em> 循环的替代语法。
  <div class="informalexample">
   <div class="example-contents">
<div class="cdata"><pre>
for (expr1; expr2; expr3):
    statement;
    ...
endfor;
</pre></div>
   </div>

  </div>
 </p>
 <p class="simpara">
  有时经常需要像下面这样例子一样对数组进行遍历：
 </p>
 <p class="para">
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*<br />&nbsp;*&nbsp;此数组将在遍历的过程中改变其中某些单元的值<br />&nbsp;*/<br /></span><span style="color: #0000BB">$people&nbsp;</span><span style="color: #007700">=&nbsp;Array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Kalle'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'salt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">856412</span><span style="color: #007700">),&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Pierre'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'salt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">215863</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br />for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$people</span><span style="color: #007700">);&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$people</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'salt'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">000000</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">999999</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <p class="simpara">
  以上代码可能执行很慢，因为每次循环时都要计算一遍数组的长度。由于数组的长度始终不变，可以用一个中间变量来储存数组长度以优化而不是不停调用 <span class="function"><a href="function.count.html" class="function">count()</a></span>：
 </p>
 <p class="para">
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$people&nbsp;</span><span style="color: #007700">=&nbsp;Array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Kalle'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'salt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">856412</span><span style="color: #007700">),&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array(</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Pierre'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'salt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">215863</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br />for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$size&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$people</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$size</span><span style="color: #007700">;&nbsp;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$people</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'salt'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">000000</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">999999</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>  
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="115601""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#115601" class="date">23-Aug-2014 08:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can also work with arrays. For example, say you want to generate an array of 12 unique 2-letter strings:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">for (</span><span class="default">$names </span><span class="keyword">= array(); </span><span class="default">count</span><span class="keyword">(</span><span class="default">$names</span><span class="keyword">) &lt; </span><span class="default">12</span><span class="keyword">; </span><span class="default">$names </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$names</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * we assume here we have some $faker object<br />
&nbsp;&nbsp; &nbsp; * which generates n-letter strings<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$names</span><span class="keyword">[] = </span><span class="default">$faker</span><span class="keyword">-&gt;</span><span class="default">word</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$names</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
will print something like:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; cc<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; cb<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; dd<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; db<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; bb<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; cd<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; aa<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; ad<br />
&nbsp;&nbsp;&nbsp; [10] =&gt; ca<br />
&nbsp;&nbsp;&nbsp; [11] =&gt; ac<br />
&nbsp;&nbsp;&nbsp; [12] =&gt; dc<br />
&nbsp;&nbsp;&nbsp; [15] =&gt; ab<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115368""></a>
  <div class="note">
   <strong class="user">AoKMiKeY</strong>
   <a href="#115368" class="date">14-Jul-2014 03:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As a note for people just starting out and wanting to know if you can do some thing like this...<br />
<br />
<span class="default">&lt;?php </span><span class="keyword">For( </span><span class="default">$a </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$a </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">; </span><span class="default">$a</span><span class="keyword">++ ) { </span><span class="default">?&gt;<br />
</span><br />
//Random html elements you would like to duplicate.<br />
<br />
<span class="default">&lt;?php </span><span class="keyword">} </span><span class="default">?&gt;<br />
</span><br />
Then yes you can. It works like a charm.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114858""></a>
  <div class="note">
   <strong class="user">vincentamorij at hotmail dot com</strong>
   <a href="#114858" class="date">15-Apr-2014 11:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;<br />
drikhoek<br />
<br />
&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body bgcolor="#99FF66"&gt;<br />
&lt;form action="driehoek.php" method="post" &gt;<br />
&lt;input type="text" name="breedte"&nbsp; /&gt;<br />
&lt;input type="submit" value="klikken"&nbsp; /&gt;<br />
&lt;/form&gt;<br />
&lt;?<br />
<br />
$hoogte=$_POST["breedte"];<br />
print(" ");<br />
<br />
for($teller=1; $teller&lt;=$hoogte; $teller++)<br />
{<br />
&nbsp;&nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp;&nbsp; for($breedte=1; $breedte&lt;=$teller; $breedte++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; { print("*");<br />
&nbsp;&nbsp; &nbsp; &nbsp; } <br />
print("&nbsp;&nbsp; &lt;/br&gt;");&nbsp; &nbsp; &nbsp;&nbsp; <br />
}&nbsp; <br />
<br />
?&gt;<br />
<br />
it's an example!!!!!<br />
<br />
&lt;/body&gt;<br />
&lt;/html&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114730""></a>
  <div class="note">
   <strong class="user">Vincenzo Raco</strong>
   <a href="#114730" class="date">31-Mar-2014 01:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In this code:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; $array </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop0'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop1'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop2'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop3'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop4'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop5'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop6'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop7'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop8'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Tot Before: "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">).</span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$i </span><span class="keyword">=== </span><span class="default">3</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Count: "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">). </span><span class="string">" - Position: "</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"&lt;br&gt; Tot After: "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The result is:<br />
<br />
---<br />
<br />
Tot Before: 9<br />
<br />
Count: 9 - Position: 0<br />
Count: 9 - Position: 1<br />
Count: 9 - Position: 2<br />
Count: 8 - Position: 3<br />
Count: 8 - Position: 4<br />
Count: 8 - Position: 5<br />
Count: 8 - Position: 6<br />
Count: 8 - Position: 7<br />
<br />
Tot After: 8<br />
<br />
---<br />
<br />
The position 8 is skipped, because the "expr2" {{ $i&lt;count($array) }} is evaluated again, for each cycle.<br />
<br />
The solution is:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $array </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop0'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop1'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop2'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop3'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop4'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop5'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop6'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop7'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pop8'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Tot Before: "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">).</span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$count</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$i </span><span class="keyword">=== </span><span class="default">3</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Count: "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">). </span><span class="string">" - Position: "</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"&lt;br&gt; Tot After: "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114318""></a>
  <div class="note">
   <strong class="user">Warbo</strong>
   <a href="#114318" class="date">07-Feb-2014 02:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Remember that for-loops don't always need to go 'forwards'. For example, let's say I have the following code:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">calculateLoopLength</span><span class="keyword">(); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp; </span><span class="default">doSomethingWith</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
}<br />
&gt;?<br />
<br />
As </span><span class="default">other comments have pointed out</span><span class="keyword">, if </span><span class="string">"calculateLoopLength" </span><span class="default">will keep giving back the same value</span><span class="keyword">, </span><span class="default">it can be moved outside the loop</span><span class="keyword">:<br />
<br />
&lt;?</span><span class="default">php<br />
$loopLength </span><span class="keyword">= </span><span class="default">calculateLoopLength</span><span class="keyword">();<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$loopLength</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp; </span><span class="default">doSomethingWith</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
However, if the order the looping doesn't matter (ie. each iteration is independent) then we don't need to use an extra variable either, we can just count down (ie. loop 'backwards') instead:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">calculateLoopLength</span><span class="keyword">(); </span><span class="default">$i </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--) {<br />
&nbsp; </span><span class="default">doSomething</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
In fact, we can simplify this even more, since "$i &gt; 0" is equivalent to "$i" (due to type casting):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">calculateLoopLength</span><span class="keyword">(); </span><span class="default">$i</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--) {<br />
&nbsp; </span><span class="default">doSomething</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Finally, we can switch to a 'pre-decrement' instead of a 'post-decrement' to be slightly more efficient (see, for example, <a href="http://dfox.me/2011/04/php-most-common-mistakes-part-2-using-post-increment-instead-of-pre-increment/ " rel="nofollow" target="_blank">http://dfox.me/2011/04/php-most-common-mistakes-part-2-using-post-increment-instead-of-pre-increment/ </a>):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">calculateLoopLength</span><span class="keyword">(); </span><span class="default">$i</span><span class="keyword">; --</span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">doSomething</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
In this case we could also replace the entire loop with a map, which might make your algorithm clearer (although this won't work if calculateLoopLength() == 0):<br />
<br />
<span class="default">&lt;?php<br />
array_map</span><span class="keyword">(</span><span class="string">'doSomething'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">range</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">calculateLoopLength</span><span class="keyword">() - </span><span class="default">1</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114135""></a>
  <div class="note">
   <strong class="user">Andrew</strong>
   <a href="#114135" class="date">15-Jan-2014 08:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use strtotime with for loops to loop through dates<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$date </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"2014-01-01"</span><span class="keyword">); </span><span class="default">$date </span><span class="keyword">&lt; </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"2014-02-01"</span><span class="keyword">); </span><span class="default">$date </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+1 day"</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110573""></a>
  <div class="note">
   <strong class="user">Philipp Trommler</strong>
   <a href="#110573" class="date">09-Nov-2012 01:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note, that, because the first line is executed everytime, it is not only slow to put a function there, it can also lead to problems like:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array </span><span class="keyword">= array(</span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">"a"</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">"b"</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">"c"</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">=&gt; </span><span class="string">"d"</span><span class="keyword">);<br />
<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++){<br />
<br />
echo </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
<br />
unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This will only output the half of the elements, because the array is becoming shorter everytime the for-expression counts it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107427""></a>
  <div class="note">
   <strong class="user">matthiaz</strong>
   <a href="#107427" class="date">08-Feb-2012 11:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Looping through letters is possible. I'm amazed at how few people know that.<br />
<br />
for($col = 'R'; $col != 'AD'; $col++) {<br />
&nbsp;&nbsp;&nbsp; echo $col.' ';<br />
}<br />
<br />
returns: R S T U V W X Y Z AA AB AC<br />
<br />
Take note that you can't use $col &lt; 'AD'. It only works with !=<br />
Very convenient when working with excel columns.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96893""></a>
  <div class="note">
   <strong class="user">kanirockz at gmail dot com</strong>
   <a href="#96893" class="date">21-Mar-2010 08:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is another simple example for " for loops"<br />
<br />
<span class="default">&lt;?php<br />
<br />
$text</span><span class="keyword">=</span><span class="string">"Welcome to PHP"</span><span class="keyword">;<br />
</span><span class="default">$searchchar</span><span class="keyword">=</span><span class="string">"e"</span><span class="keyword">;<br />
</span><span class="default">$count</span><span class="keyword">=</span><span class="string">"0"</span><span class="keyword">; </span><span class="comment">//zero<br />
<br />
</span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="string">"0"</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)==</span><span class="default">$searchchar</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$count</span><span class="keyword">=</span><span class="default">$count</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
}<br />
<br />
echo </span><span class="default">$count<br />
<br />
?&gt;<br />
</span><br />
this will be count how many "e" characters in that text (Welcome to PHP)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96892""></a>
  <div class="note">
   <strong class="user">kanirockz at gmail dot com</strong>
   <a href="#96892" class="date">21-Mar-2010 08:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is another simple example for " for loops"<br />
<br />
<span class="default">&lt;?php<br />
<br />
$text</span><span class="keyword">=</span><span class="string">"Welcome to PHP"</span><span class="keyword">;<br />
</span><span class="default">$searchchar</span><span class="keyword">=</span><span class="string">"e"</span><span class="keyword">;<br />
</span><span class="default">$count</span><span class="keyword">=</span><span class="string">"0"</span><span class="keyword">; </span><span class="comment">//zero<br />
<br />
</span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="string">"0"</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)==</span><span class="default">$searchchar</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$count</span><span class="keyword">=</span><span class="default">$count</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
}<br />
<br />
echo </span><span class="default">$count<br />
<br />
?&gt;<br />
</span><br />
this will be count how many "e" characters in that text (Welcome to PHP)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75754""></a>
  <div class="note">
   <strong class="user">eduardofleury at uol dot com dot br</strong>
   <a href="#75754" class="date">14-Jun-2007 03:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">//this is a different way to use the 'for'<br />
//Essa é uma maneira diferente de usar o 'for'<br />
</span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$z </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">10</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++,</span><span class="default">$x</span><span class="keyword">+=</span><span class="default">2</span><span class="keyword">,</span><span class="default">$z</span><span class="keyword">=&amp;</span><span class="default">$p</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$p </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">"\$i = </span><span class="default">$i</span><span class="string"> , \$x = </span><span class="default">$x</span><span class="string"> , \$z = </span><span class="default">$z</span><span class="string"> &lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69525""></a>
  <div class="note">
   <strong class="user">lishevita at yahoo dot co (notcom) .uk</strong>
   <a href="#69525" class="date">08-Sep-2006 09:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On the combination problem again...
<br />

<br />
&nbsp;It seems to me like it would make more sense to go through systematically. That would take nested for loops, where each number was put through all of it's potentials sequentially. 
<br />

<br />
The following would give you all of the potential combinations of a four-digit decimal combination, printed in a comma delimited format:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">for(</span><span class="default">$a</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$a</span><span class="keyword">&lt;</span><span class="default">10</span><span class="keyword">;</span><span class="default">$a</span><span class="keyword">++){
<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$b</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$b</span><span class="keyword">&lt;</span><span class="default">10</span><span class="keyword">;</span><span class="default">$b</span><span class="keyword">++){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$c</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$c</span><span class="keyword">&lt;</span><span class="default">10</span><span class="keyword">;</span><span class="default">$c</span><span class="keyword">++){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$d</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$d</span><span class="keyword">&lt;</span><span class="default">10</span><span class="keyword">;</span><span class="default">$d</span><span class="keyword">++){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$a</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">.</span><span class="default">$c</span><span class="keyword">.</span><span class="default">$d</span><span class="keyword">.</span><span class="string">", "</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Of course, if you know that the numbers you had used were in a smaller subset, you could just plunk your possible numbers into arrays $a, $b, $c, and $d and then do nested foreach loops as above.
<br />

<br />
- Elizabeth</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55494""></a>
  <div class="note">
   <strong class="user">JustinB at harvest dot org</strong>
   <a href="#55494" class="date">05-Aug-2005 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those who are having issues with needing to evaluate multiple items in expression two, please note that it cannot be chained like expressions one and three can.&nbsp; Although many have stated this fact, most have not stated that there is still a way to do this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$nums</span><span class="keyword">[</span><span class="string">'x_val'</span><span class="keyword">], </span><span class="default">$n </span><span class="keyword">= </span><span class="default">15</span><span class="keyword">; (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">23 </span><span class="keyword">&amp;&amp; </span><span class="default">$number </span><span class="keyword">!= </span><span class="default">24</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++, </span><span class="default">$x </span><span class="keyword">+ </span><span class="default">5</span><span class="keyword">;) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Do Something with All Those Fun Numbers<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41670""></a>
  <div class="note">
   <strong class="user">user at host dot com</strong>
   <a href="#41670" class="date">19-Apr-2004 12:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Also acceptable:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp; </span><span class="keyword">for(</span><span class="default">$letter </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">); </span><span class="default">$letter </span><span class="keyword">&lt;= </span><span class="default">ord</span><span class="keyword">(</span><span class="string">'z'</span><span class="keyword">); </span><span class="default">$letter</span><span class="keyword">++)
<br />
&nbsp;&nbsp; print </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$letter</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34178""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#34178" class="date">17-Jul-2003 10:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're already using the fastest algorithms you can find (on the order of O(1), O(n), or O(n log n)), and you're still worried about loop speed, unroll your loops using e.g., Duff's Device:
<br />

<br />
<span class="default">&lt;?php
<br />
$n </span><span class="keyword">= </span><span class="default">$ITERATIONS </span><span class="keyword">% </span><span class="default">8</span><span class="keyword">;
<br />
while (</span><span class="default">$n</span><span class="keyword">--) </span><span class="default">$val</span><span class="keyword">++;
<br />
</span><span class="default">$n </span><span class="keyword">= (int)(</span><span class="default">$ITERATIONS </span><span class="keyword">/ </span><span class="default">8</span><span class="keyword">);
<br />
while (</span><span class="default">$n</span><span class="keyword">--) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
(This is a modified form of Duff's original device, because PHP doesn't understand the original's egregious syntax.)
<br />

<br />
That's algorithmically equivalent to the common form:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$ITERATIONS</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">++;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
$val++ can be whatever operation you need to perform ITERATIONS number of times.
<br />

<br />
On my box, with no users, average run time across 100 samples with ITERATIONS = 10000000 (10 million) is:
<br />
Duff version:&nbsp; &nbsp; &nbsp;&nbsp; 7.9857 s
<br />
Obvious version: 27.608 s</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13463""></a>
  <div class="note">
   <strong class="user">nzamani at cyberworldz dot de</strong>
   <a href="#13463" class="date">18-Jun-2001 08:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The point about the speed in loops is, that the middle and the last expression are executed EVERY time it loops.
<br />
So you should try to take everything that doesn't change out of the loop.
<br />
Often you use a function to check the maximum of times it should loop. Like here:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">somewhat_calcMax</span><span class="keyword">(); </span><span class="default">$i</span><span class="keyword">++) {
<br />
&nbsp; </span><span class="default">somewhat_doSomethingWith</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Faster would be:
<br />

<br />
<span class="default">&lt;?php
<br />
$maxI </span><span class="keyword">= </span><span class="default">somewhat_calcMax</span><span class="keyword">();
<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$maxI</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br />
&nbsp; </span><span class="default">somewhat_doSomethingWith</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
And here a little trick:
<br />

<br />
<span class="default">&lt;?php
<br />
$maxI </span><span class="keyword">= </span><span class="default">somewhat_calcMax</span><span class="keyword">();
<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$maxI</span><span class="keyword">; </span><span class="default">somewhat_doSomethingWith</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">++)) ;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
The $i gets changed after the copy for the function (post-increment).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
