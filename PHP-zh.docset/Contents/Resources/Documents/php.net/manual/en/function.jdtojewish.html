<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>转换一个julian天数为Jewish历法的日期</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.jdtogregorian.html">? JDToGregorian</a></li>
      <li style="float: right;"><a href="function.jdtojulian.html">JDToJulian ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.calendar.html">日历 函数</a></li>
    <li>转换一个julian天数为Jewish历法的日期</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.jdtojewish" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">jdtojewish</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">jdtojewish</span> &mdash; <span class="dc-title">转换一个julian天数为Jewish历法的日期</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.jdtojewish-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>jdtojewish</strong></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$juliandaycount</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$hebrew</code><span class="initializer"> = false</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$fl</code><span class="initializer"> = 0</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
    转换一个julian天数为Jewish历法的日期。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.jdtojewish-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">julianday</code></dt>

     <dd>

      <p class="para">
       一个julian天数
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">hebrew</code></dt>

     <dd>

      <p class="para">
       如果参数 <code class="parameter">hebrew</code>设置为 <strong><code>TRUE</code></strong>，参数<code class="parameter">fl</code>可用于希伯莱语的格式。  
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">fl</code></dt>

     <dd>

      <p class="para">
       可用的格式有：  
       <strong><code>CAL_JEWISH_ADD_ALAFIM_GERESH</code></strong>,
       <strong><code>CAL_JEWISH_ADD_ALAFIM</code></strong>,
       <strong><code>CAL_JEWISH_ADD_GERESHAYIM</code></strong>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.jdtojewish-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
  以"月/日/年"的格式显示jewish日期。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.jdtojewish-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.0.0</td>
       <td>
        增加了参数 <code class="parameter">fl</code>。
       </td>
      </tr>

      <tr>
       <td>4.3.0</td>
       <td>
        增加了参数 <code class="parameter">hebrew</code> 。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.jdtojewish-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-2382">
    <p><strong>Example #1 <span class="function"><strong>jdtojewish()</strong></span> Example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">jdtojewish</span><span style="color: #007700">(</span><span style="color: #0000BB">gregoriantojd</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2002</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">CAL_JEWISH_ADD_GERESHAYIM&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">CAL_JEWISH_ADD_ALAFIM&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">CAL_JEWISH_ADD_ALAFIM_GERESH</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.jdtojewish-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.jewishtojd.html" class="function" rel="rdfs-seeAlso">jewishtojd()</a> - 转变一个Jewish历法的日期为一个Julian Day计数</span></li> 
    <li class="member"><span class="function"><a href="function.cal-from-jd.html" class="function" rel="rdfs-seeAlso">cal_from_jd()</a> - 转换Julian Day计数到一个支持的历法。</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="116453""></a>
  <div class="note">
   <strong class="user">eclipsechasers2 at yahoo dot com</strong>
   <a href="#116453" class="date">06-Jan-2015 09:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With PHP 5.5, the functionality changed regarding Adar in a non-leap year. Prior to 5.5, the month was returned as 6. In 5.5 and 5.6, the month is returned as 7. This difference is not listed under "What has changed in PHP 5.5.x".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108028""></a>
  <div class="note">
   <strong class="user">adam at tadam dot co dot il</strong>
   <a href="#108028" class="date">23-Mar-2012 06:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// Hebrew date in hebrew<br />
</span><span class="default">$str </span><span class="keyword">= </span><span class="default">jdtojewish</span><span class="keyword">(</span><span class="default">gregoriantojd</span><span class="keyword">( </span><span class="default">date</span><span class="keyword">(</span><span class="string">'m'</span><span class="keyword">), </span><span class="default">date</span><span class="keyword">(</span><span class="string">'d'</span><span class="keyword">), </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">)), </span><span class="default">true</span><span class="keyword">, </span><span class="default">CAL_JEWISH_ADD_GERESHAYIM </span><span class="keyword">+ </span><span class="default">CAL_JEWISH_ADD_ALAFIM </span><span class="keyword">+ </span><span class="default">CAL_JEWISH_ADD_ALAFIM_GERESH</span><span class="keyword">); </span><span class="comment">// for today<br />
</span><span class="default">$str1 </span><span class="keyword">= </span><span class="default">iconv </span><span class="keyword">(</span><span class="string">'WINDOWS-1255'</span><span class="keyword">, </span><span class="string">'UTF-8'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">); </span><span class="comment">// convert to utf-8<br />
<br />
</span><span class="keyword">echo </span><span class="default">$str1</span><span class="keyword">; </span><span class="comment">// for 23/03/2012 will print: ?"? ??? ?' ????? ???"?<br />
<br />
// or<br />
</span><span class="default">$str </span><span class="keyword">= </span><span class="default">jdtojewish</span><span class="keyword">(</span><span class="default">gregoriantojd</span><span class="keyword">( </span><span class="default">date</span><span class="keyword">(</span><span class="string">'m'</span><span class="keyword">), </span><span class="default">date</span><span class="keyword">(</span><span class="string">'d'</span><span class="keyword">), </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">)), </span><span class="default">true</span><span class="keyword">, </span><span class="default">CAL_JEWISH_ADD_GERESHAYIM</span><span class="keyword">); </span><span class="comment">// for today<br />
</span><span class="default">$str1 </span><span class="keyword">= </span><span class="default">iconv </span><span class="keyword">(</span><span class="string">'WINDOWS-1255'</span><span class="keyword">, </span><span class="string">'UTF-8'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">); </span><span class="comment">// convert to utf-8<br />
<br />
</span><span class="keyword">echo </span><span class="default">$str1</span><span class="keyword">; </span><span class="comment">// for 23/03/2012 will print: ?"? ??? ????"?<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93239""></a>
  <div class="note">
   <strong class="user">erelsgl at gmail dot com</strong>
   <a href="#93239" class="date">30-Aug-2009 12:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes it is useful to have the date in the format YYYY-MM-DD, which is sortable (e.g. you can sort dates by sorting the strings):
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">JDToSortableJewish</span><span class="keyword">(</span><span class="default">$jd</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; return 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"|(\d+)/(\d+)/(\d+)|"</span><span class="keyword">,</span><span class="string">"$3-$1-$2"</span><span class="keyword">,&nbsp; </span><span class="comment">// year-month-day
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"|/(\d)/|"</span><span class="keyword">,</span><span class="string">"/0$1/"</span><span class="keyword">, </span><span class="comment">// add zeros to the day
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"|^(\d)/|"</span><span class="keyword">,</span><span class="string">"0$1/"</span><span class="keyword">,&nbsp; </span><span class="comment">// add zeros to the month
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">JDToJewish</span><span class="keyword">(</span><span class="default">$jd</span><span class="keyword">))));
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93238""></a>
  <div class="note">
   <strong class="user">erelsgl at gmail dot com</strong>
   <a href="#93238" class="date">29-Aug-2009 11:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In Hebrew leap years, the function will return 6 for Adar A, 7 for Adar B, 8 for Nisan, etc.<br />
<br />
In Hebrew non-leap years, the function will return 6 for Adar, 8 for Nisan, etc.<br />
<br />
i.e., the "real" Adar is Adar A.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75414""></a>
  <div class="note">
   <strong class="user">asphp at dsgml dot com</strong>
   <a href="#75414" class="date">28-May-2007 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function outputs in ISO-8859-8-l.
<br />

<br />
To convert to unicode UTF-8 do this:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="keyword">echo </span><span class="default">mb_convert_encoding</span><span class="keyword">( </span><span class="default">jdtojewish</span><span class="keyword">( </span><span class="default">unixtojd</span><span class="keyword">(), </span><span class="default">true </span><span class="keyword">), </span><span class="string">"UTF-8"</span><span class="keyword">, </span><span class="string">"ISO-8859-8"</span><span class="keyword">);
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35453""></a>
  <div class="note">
   <strong class="user">gr8g0thamguy at yahoo dot com</strong>
   <a href="#35453" class="date">01-Sep-2003 08:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Based on the code already posted by Dave, I've modified it to display the *current* date on a page:<br />
<br />
<span class="default">&lt;?php <br />
<br />
$gregorianMonth </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="default">n</span><span class="keyword">);<br />
</span><span class="default">$gregorianDay </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="default">j</span><span class="keyword">);<br />
</span><span class="default">$gregorianYear </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="default">Y</span><span class="keyword">);<br />
<br />
</span><span class="default">$jdDate </span><span class="keyword">= </span><span class="default">gregoriantojd</span><span class="keyword">(</span><span class="default">$gregorianMonth</span><span class="keyword">,</span><span class="default">$gregorianDay</span><span class="keyword">,</span><span class="default">$gregorianYear</span><span class="keyword">); <br />
<br />
</span><span class="default">$hebrewMonthName </span><span class="keyword">= </span><span class="default">jdmonthname</span><span class="keyword">(</span><span class="default">$jdDate</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br />
<br />
</span><span class="default">$hebrewDate </span><span class="keyword">= </span><span class="default">jdtojewish</span><span class="keyword">(</span><span class="default">$jdDate</span><span class="keyword">); <br />
<br />
list(</span><span class="default">$hebrewMonth</span><span class="keyword">, </span><span class="default">$hebrewDay</span><span class="keyword">, </span><span class="default">$hebrewYear</span><span class="keyword">) = </span><span class="default">split</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">$hebrewDate</span><span class="keyword">); <br />
<br />
echo </span><span class="string">"</span><span class="default">$hebrewDay</span><span class="string"> </span><span class="default">$hebrewMonthName</span><span class="string"> </span><span class="default">$hebrewYear</span><span class="string">"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="19585""></a>
  <div class="note">
   <strong class="user">dave_at_mitzvahweb.com</strong>
   <a href="#19585" class="date">05-Mar-2002 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There's probably a simpler way to do this, but I needed to convert a Gregorian date to a Hebrew one and display it with the Hebrew month name (not the number).
<br />

<br />
Perhaps it can help somebody...
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="comment">//enter your Gregorian date with the variables $gregorianMonth, $gregorianDay, and $gregorianYear using the numerical representation of the month
<br />

<br />
</span><span class="default">$jdDate </span><span class="keyword">= </span><span class="default">gregoriantojd </span><span class="keyword">( </span><span class="default">$gregorianMonth</span><span class="keyword">, </span><span class="default">$gregorianDay</span><span class="keyword">, </span><span class="default">$gregorianYear</span><span class="keyword">);
<br />

<br />
</span><span class="default">$gregorianMonthName </span><span class="keyword">= </span><span class="default">jdmonthname </span><span class="keyword">( </span><span class="default">$jdDate</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">);
<br />

<br />
</span><span class="default">$hebrewDate </span><span class="keyword">= </span><span class="default">jdtojewish </span><span class="keyword">(</span><span class="default">$jdDate</span><span class="keyword">);
<br />

<br />
list (</span><span class="default">$hebrewMonth</span><span class="keyword">, </span><span class="default">$hebrewDay</span><span class="keyword">, </span><span class="default">$hebrewYear</span><span class="keyword">) = </span><span class="default">split </span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$hebrewDate</span><span class="keyword">);
<br />

<br />
</span><span class="default">$hebrewMonthName </span><span class="keyword">= </span><span class="default">jdmonthname </span><span class="keyword">( </span><span class="default">$jdDate</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">);&nbsp; 
<br />

<br />
&nbsp;echo </span><span class="string">"Your date in Hebrew would read: </span><span class="default">$hebrewDay</span><span class="string"> </span><span class="default">$hebrewMonthName</span><span class="string"> </span><span class="default">$hebrewYear</span><span class="string">"</span><span class="keyword">;
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
