<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Informix 函数</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ifx.constants.html">? 预定义常量</a></li>
      <li style="float: right;"><a href="function.ifx-affected-rows.html">ifx_affected_rows ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.ifx.html">Informix</a></li>
    <li>Informix 函数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.ifx" class="reference">
  <h1 class="title">Informix 函数</h1>







































































































































































































































 <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.ifx-affected-rows.html">ifx_affected_rows</a> &mdash; Get number of rows affected by a query</li><li><a href="function.ifx-blobinfile-mode.html">ifx_blobinfile_mode</a> &mdash; Set the default blob mode for all select queries</li><li><a href="function.ifx-byteasvarchar.html">ifx_byteasvarchar</a> &mdash; Set the default byte mode</li><li><a href="function.ifx-close.html">ifx_close</a> &mdash; Close Informix connection</li><li><a href="function.ifx-connect.html">ifx_connect</a> &mdash; Open Informix server connection</li><li><a href="function.ifx-copy-blob.html">ifx_copy_blob</a> &mdash; Duplicates the given blob object</li><li><a href="function.ifx-create-blob.html">ifx_create_blob</a> &mdash; Creates an blob object</li><li><a href="function.ifx-create-char.html">ifx_create_char</a> &mdash; Creates an char object</li><li><a href="function.ifx-do.html">ifx_do</a> &mdash; Execute a previously prepared SQL-statement</li><li><a href="function.ifx-error.html">ifx_error</a> &mdash; Returns error code of last Informix call</li><li><a href="function.ifx-errormsg.html">ifx_errormsg</a> &mdash; Returns error message of last Informix call</li><li><a href="function.ifx-fetch-row.html">ifx_fetch_row</a> &mdash; Get row as an associative array</li><li><a href="function.ifx-fieldproperties.html">ifx_fieldproperties</a> &mdash; List of SQL fieldproperties</li><li><a href="function.ifx-fieldtypes.html">ifx_fieldtypes</a> &mdash; List of Informix SQL fields</li><li><a href="function.ifx-free-blob.html">ifx_free_blob</a> &mdash; Deletes the blob object</li><li><a href="function.ifx-free-char.html">ifx_free_char</a> &mdash; Deletes the char object</li><li><a href="function.ifx-free-result.html">ifx_free_result</a> &mdash; Releases resources for the query</li><li><a href="function.ifx-get-blob.html">ifx_get_blob</a> &mdash; Return the content of a blob object</li><li><a href="function.ifx-get-char.html">ifx_get_char</a> &mdash; Return the content of the char object</li><li><a href="function.ifx-getsqlca.html">ifx_getsqlca</a> &mdash; Get the contents of sqlca.sqlerrd[0..5] after a query</li><li><a href="function.ifx-htmltbl-result.html">ifx_htmltbl_result</a> &mdash; Formats all rows of a query into a HTML table</li><li><a href="function.ifx-nullformat.html">ifx_nullformat</a> &mdash; Sets the default return value on a fetch row</li><li><a href="function.ifx-num-fields.html">ifx_num_fields</a> &mdash; Returns the number of columns in the query</li><li><a href="function.ifx-num-rows.html">ifx_num_rows</a> &mdash; Count the rows already fetched from a query</li><li><a href="function.ifx-pconnect.html">ifx_pconnect</a> &mdash; Open persistent Informix connection</li><li><a href="function.ifx-prepare.html">ifx_prepare</a> &mdash; Prepare an SQL-statement for execution</li><li><a href="function.ifx-query.html">ifx_query</a> &mdash; Send Informix query</li><li><a href="function.ifx-textasvarchar.html">ifx_textasvarchar</a> &mdash; Set the default text mode</li><li><a href="function.ifx-update-blob.html">ifx_update_blob</a> &mdash; Updates the content of the blob object</li><li><a href="function.ifx-update-char.html">ifx_update_char</a> &mdash; Updates the content of the char object</li><li><a href="function.ifxus-close-slob.html">ifxus_close_slob</a> &mdash; Deletes the slob object</li><li><a href="function.ifxus-create-slob.html">ifxus_create_slob</a> &mdash; Creates an slob object and opens it</li><li><a href="function.ifxus-free-slob.html">ifxus_free_slob</a> &mdash; Deletes the slob object</li><li><a href="function.ifxus-open-slob.html">ifxus_open_slob</a> &mdash; Opens an slob object</li><li><a href="function.ifxus-read-slob.html">ifxus_read_slob</a> &mdash; Reads nbytes of the slob object</li><li><a href="function.ifxus-seek-slob.html">ifxus_seek_slob</a> &mdash; Sets the current file or seek position</li><li><a href="function.ifxus-tell-slob.html">ifxus_tell_slob</a> &mdash; Returns the current file or seek position</li><li><a href="function.ifxus-write-slob.html">ifxus_write_slob</a> &mdash; Writes a string into the slob object</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="73580""></a>
  <div class="note">
   <strong class="user">roger at wzero dot com dot br</strong>
   <a href="#73580" class="date">02-Mar-2007 03:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Unfortunately the informix extension has been moved to PECL but has no maintainer. <br />
<a href="http://devzone.zend.com/node/view/id/1621#Heading11" rel="nofollow" target="_blank">http://devzone.zend.com/node/view/id/1621#Heading11</a><br />
<br />
In practic terms, it has been moved but is not available in PECL yet.<br />
<br />
It's sad. I have a big client who uses this extension for more than 6 years and now has to change a code base of 500,000 lines of code or install an old version of PHP in the new server. They recently bought a redundant, double cpu, 8 gb ram, scsi disk server and will not be happy to run old versions of software with unmaintained extensions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51939""></a>
  <div class="note">
   <strong class="user">Ian McMurray</strong>
   <a href="#51939" class="date">15-Apr-2005 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Installation on RedHat Fedore Core (or in that matter any Linux OS which has a version of glibc&nbsp; of 2.3.* ~or above~) will need to have the latest Informix CSDK (downloadable from IBM). 2.90.UC1.LINUX at the time of this post. <br />
<br />
<a href="http://www-306.ibm.com/software/data/informix/tools/connect/" rel="nofollow" target="_blank">http://www-306.ibm.com/software/data/informix/tools/connect/</a><br />
<br />
I was unable to make PHP with v2.80 of the csdk (as it complained about mktemp being dangerous and how ctype was undefined. After downloading csdk 2.90, I was able to make PHP with no problems at all. (--with-informix).<br />
<br />
There goes 2 days of my life!<br />
<br />
Feel free to drop me an email at ian_at_devtonic_dot_com if you have any questions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47034""></a>
  <div class="note">
   <strong class="user">drsound</strong>
   <a href="#47034" class="date">31-Oct-2004 07:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just wrote a mini-HOWTO about adding Informix support to mod_php running on a Gentoo Linux server (x86). I wanted to post it here but it was too long. You can find it on <a href="http://forums.gentoo.org/viewtopic.php?t=245249 (just in case for some reason they change the thread number, the title is " rel="nofollow" target="_blank">http://forums.gentoo.org/viewtopic.php?t=245249 (just in case for some reason they change the thread number, the title is </a>"HOWTO: PHP Informix client support").</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="26337""></a>
  <div class="note">
   <strong class="user">jeff at domintcom dot com</strong>
   <a href="#26337" class="date">27-Oct-2002 08:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
add the following to /etc/profile (right before unset i (adjust to your needs)<br />
<br />
export INFORMIXDIR=/opt/informix<br />
export ODBCINI=/usr/local/etc/odbc.ini<br />
export INFORMIXSERVER=m_srv<br />
<br />
then add the following to your httpd.conf<br />
<br />
PassEnv INFORMIXDIR<br />
PassEnv ODBCINI <br />
PassEnv INFORMIXSERVER<br />
<br />
(or you can use SetEnv SetEnv INFORMIXDIR /opt/informix&nbsp; etc.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="26024""></a>
  <div class="note">
   <strong class="user">cornecNOSPAM at reach dot NO_SPAM dot com</strong>
   <a href="#26024" class="date">15-Oct-2002 05:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I upgraded to csdk-2.70.UC3-1 and got the following error when trying to start apache:<br />
<br />
Syntax error on line 205 of /usr/local/apache/conf/httpd.conf:<br />
Cannot load /usr/local/apache/libexec/libphp4.so into server: /opt/informix/lib/esql/libifgen.so: undefined symbol: stat<br />
/usr/local/apache/bin/apachectl start: httpd could not be started<br />
<br />
This machine has glibc 2.3.5<br />
<br />
The following fixed the problem for me (surely there's a better fix) but i'm not sure how it might affect other programs linked to libifgen<br />
<br />
mkdir /tmp/ifx<br />
cd /tmp/ifx<br />
ar x $INFORMIXDIR/lib/esql/libifgen.a<br />
gcc -shared -o libifgen.so *.o<br />
cp libifgen.so $INFORMIXDIR/lib/esql</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21791""></a>
  <div class="note">
   <strong class="user">programacion at afinformatica dot com</strong>
   <a href="#21791" class="date">27-May-2002 04:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have compile php-4.0.6 with informix support (dynamic) and when I try to <br />
start apache, it gives me this error message:<br />
<br />
Syntax error on line 246 of /etc/httpd/httpd.conf:<br />
Cannot load /usr/lib/apache/libphp4.so into server: /home/informix7/lib/esql/lib<br />
ifgen.so: undefined symbol: stat<br />
/usr/sbin/apachectl start: httpd could not be started</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="16833""></a>
  <div class="note">
   <strong class="user">isaac dot hopley at morton-fraser dot NO_SPAM dot com</strong>
   <a href="#16833" class="date">15-Nov-2001 01:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are tring to access an Informix Online 5.x server over the 
<br />
network (ie from a webserver) using PHP, be aware that Online 
<br />
doesn't support network communications as standard unlike later versions.
<br />

<br />
You need the Informix product 'I-Star' on your Online server.
<br />
This will allow your webserver with the informix client SDK 
<br />
installed to communicate natively (ESQL).
<br />

<br />
Thanks go to Mario @ PRS for this info.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="14337""></a>
  <div class="note">
   <strong class="user">old dot wolf at project-w dot com</strong>
   <a href="#14337" class="date">27-Jul-2001 08:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An intermittent SQL error -25580 is caused by using the wrong glibc version in Linux. 
<br />

<br />
I have this working correctly in Linux (x86) with Informix Client SDK for 2.70UC-1 for Linux, with glibc 2.1.3. 
<br />

<br />
Originally I had glibc 2.1.1 (Red Hat 6), which gave the intermittent error, but upgrading glibc fixed it.
<br />

<br />
The Informix Client SDKs can be downloaded from www.informix.com (you need to own an Informix database to log on), and glibc is at <a href="ftp://ftp.gnu.org/gnu/glibc ." rel="nofollow" target="_blank">ftp://ftp.gnu.org/gnu/glibc .</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="11702""></a>
  <div class="note">
   <strong class="user">MarkRoedel at letu dot edu</strong>
   <a href="#11702" class="date">03-Mar-2001 01:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There's also a FreeBSD version of the client libraries that'll work with PHP.&nbsp; It's not available for download from their website, but you can request a copy (cd or electronic delivery) by calling Informix Customer Support at 1-800-274-8184 option 3.
<br />

<br />
Some customer service reps know more about alternative operating systems than others, so you may have to do a bit of educating before they can locate the product in their database, but it's definitely there.
<br />

<br />
My e-mail confirmation referred to it as "Orderable Part Number 100-15871-204057-1", although that number may be specific to the electronically-delivered edition.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="8738""></a>
  <div class="note">
   <strong class="user">robernet at music-images dot com</strong>
   <a href="#8738" class="date">26-Sep-2000 04:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Verify with phpinfo() that you have informix module compiled in php.
<br />
Also verify that env vars INFORMIXDIR, INFORMIXSERVER, LD_LIBRARY_PATH are set, and that PATH have a route to your informix subdir.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
