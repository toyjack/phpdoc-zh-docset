<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>使用一个字符串分割另一个字符串</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.echo.html">? echo</a></li>
      <li style="float: right;"><a href="function.fprintf.html">fprintf ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.strings.html">字符串 函数</a></li>
    <li>使用一个字符串分割另一个字符串</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.explode" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">explode</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">explode</span> &mdash; <span class="dc-title">使用一个字符串分割另一个字符串</span></p>
 
 </div>
 
 <div class="refsect1 description" id="refsect1-function.explode-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>explode</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$delimiter</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$string</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$limit</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   此函数返回由字符串组成的数组，每个元素都是
   <code class="parameter">string</code>
   的一个子串，它们被字符串
   <code class="parameter">delimiter</code>
   作为边界点分割出来。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.explode-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">delimiter</code></dt>

     <dd>

      <p class="para">
       边界上的分隔字符。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">string</code></dt>

     <dd>

      <p class="para">
       输入的字符串。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">limit</code></dt>

     <dd>

      <p class="para">
       如果设置了
   <code class="parameter">limit</code>
   参数并且是正数，则返回的数组包含最多
   <code class="parameter">limit</code>
   个元素，而最后那个元素将包含
   <code class="parameter">string</code>
   的剩余部分。
      </p>
      <p class="para">
       如果
  <code class="parameter">limit</code>
  参数是负数，则返回除了最后的
  -<code class="parameter">limit</code>
  个元素外的所有元素。
      </p>
      <p class="para">
       如果 <code class="parameter">limit</code> 是 0，则会被当做 1。
      </p>
     </dd>

    
   </dl>

  </p>
  <p class="para">
   由于历史原因，虽然 <span class="function"><a href="function.implode.html" class="function">implode()</a></span>
  可以接收两种参数顺序，但是
  <span class="function"><strong>explode()</strong></span> 不行。你必须保证
  <code class="parameter">separator</code> 参数在
  <code class="parameter">string</code> 参数之前才行。
  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.explode-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   此函数返回由字符串组成的 <span class="type"><a href="language.types.array.html" class="type array">array</a></span>，每个元素都是
   <code class="parameter">string</code>
   的一个子串，它们被字符串
   <code class="parameter">delimiter</code>
   作为边界点分割出来。
  </p>
  <p class="para">
   如果 <code class="parameter">delimiter</code>
   为空字符串（&quot;&quot;），<span class="function"><strong>explode()</strong></span>
   将返回 <strong><code>FALSE</code></strong>。
   如果
   <code class="parameter">delimiter</code>
   所包含的值在
   <code class="parameter">string</code>
   中找不到，并且使用了负数的 <code class="parameter">limit</code> ，
   那么会返回空的 <span class="type"><a href="language.types.array.html" class="type array">array</a></span>，
   否则返回包含 <code class="parameter">string</code>
   单个元素的数组。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.explode-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.1.0</td>
       <td>
        支持负数的  <code class="parameter">limit</code>
       </td>
      </tr>

      <tr>
       <td>4.0.1</td>
       <td>
          增加了参数 <code class="parameter">limit</code>
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.explode-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5279">
    <p><strong>Example #1 <span class="function"><strong>explode()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;示例&nbsp;1<br /></span><span style="color: #0000BB">$pizza&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"piece1&nbsp;piece2&nbsp;piece3&nbsp;piece4&nbsp;piece5&nbsp;piece6"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$pieces&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">"&nbsp;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pizza</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$pieces</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;piece1<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$pieces</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;piece2<br /><br />//&nbsp;示例&nbsp;2<br /></span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"foo:*:1023:1000::/home/foo:/bin/sh"</span><span style="color: #007700">;<br />list(</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pass</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$uid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$gid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$gecos</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$home</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$shell</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">":"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$pass</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;*<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
    <p class="para">
   <div class="example" id="example-5280">
    <p><strong>Example #2 <span class="function"><strong>explode()</strong></span> return examples</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;A&nbsp;string&nbsp;that&nbsp;doesn't&nbsp;contain&nbsp;the&nbsp;delimiter&nbsp;will&nbsp;simply&nbsp;return&nbsp;a&nbsp;one-length&nbsp;array&nbsp;of&nbsp;the&nbsp;original&nbsp;string.&nbsp;*/<br /></span><span style="color: #0000BB">$input1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"hello"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$input2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"hello,there"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">','</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$input1&nbsp;</span><span style="color: #007700">)&nbsp;);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">','</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$input2&nbsp;</span><span style="color: #007700">)&nbsp;);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(1)
(
    [0] =&gt; string(5) &quot;hello&quot;
)
array(2)
(
    [0] =&gt; string(5) &quot;hello&quot;
    [1] =&gt; string(5) &quot;there&quot;
)
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-5281">
    <p><strong>Example #3 <code class="parameter">limit</code> 参数的例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'one|two|three|four'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;正数的&nbsp;limit<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">'|'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;负数的&nbsp;limit（自&nbsp;PHP&nbsp;5.1&nbsp;起）<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">'|'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; one
    [1] =&gt; two|three|four
)
Array
(
    [0] =&gt; one
    [1] =&gt; two
    [2] =&gt; three
)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.explode-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">此函数可安全用于二进制对象。</span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.explode-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.preg-split.html" class="function" rel="rdfs-seeAlso">preg_split()</a> - 通过一个正则表达式分隔字符串</span></li>
    <li class="member"><span class="function"><a href="function.str-split.html" class="function" rel="rdfs-seeAlso">str_split()</a> - 将字符串转换为数组</span></li>
    <li class="member"><span class="function"><a href="function.mb-split.html" class="function" rel="rdfs-seeAlso">mb_split()</a> - 使用正则表达式分割多字节字符串</span></li>
    <li class="member"><span class="function"><a href="function.str-word-count.html" class="function" rel="rdfs-seeAlso">str_word_count()</a> - 返回字符串中单词的使用情况</span></li>
    <li class="member"><span class="function"><a href="function.strtok.html" class="function" rel="rdfs-seeAlso">strtok()</a> - 标记分割字符串</span></li>
    <li class="member"><span class="function"><a href="function.implode.html" class="function" rel="rdfs-seeAlso">implode()</a> - 将一个一维数组的值转化为字符串</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="119212""></a>
  <div class="note">
   <strong class="user">dark dot side01 at yahoo dot com</strong>
   <a href="#119212" class="date">20-Apr-2016 04:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
(excuse my english)<br />
When I try to use explode to know if a string contains many words, I noticed this :<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp;&nbsp; $sentence</span><span class="keyword">= </span><span class="string">"&nbsp; word "</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$sentence</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>return this :<br />
<br />
array(4) {<br />
&nbsp; [0]=&gt;&nbsp; string(0) ""<br />
&nbsp; [1]=&gt;&nbsp; string(0) ""<br />
&nbsp; [2]=&gt;&nbsp; string(4) "word"<br />
&nbsp; [3]=&gt;&nbsp; string(0) ""<br />
}<br />
<br />
So, "explode" didn't keep the delimiter but counts it. You have to use trim($sentence) to count words in a sentence.&nbsp; ^v^</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118175""></a>
  <div class="note">
   <strong class="user">kenorb at niepodam dot pl</strong>
   <a href="#118175" class="date">21-Oct-2015 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to split by multiple characters, use preg_split() instead:<br />
<br />
&nbsp;&nbsp;&nbsp; $new_string = preg_split("/[&amp;=:]/", $string);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116213""></a>
  <div class="note">
   <strong class="user">wado</strong>
   <a href="#116213" class="date">23-Nov-2014 11:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It should be said that when an empty delimiter is passed to explode, the function not only will return false but will also emit a warning.<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">( </span><span class="default">explode</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">,</span><span class="string">'asdasd'</span><span class="keyword">) );<br />
<br />
</span><span class="comment">/**<br />
&nbsp; * Output:<br />
&nbsp; * Warning: explode(): Empty delimiter in ...<br />
&nbsp; * bool(false)<br />
&nbsp; */<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114481""></a>
  <div class="note">
   <strong class="user">david dot drakulovski at gmail dot com</strong>
   <a href="#114481" class="date">25-Feb-2014 07:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I made this code for some useful filtering texts with lot of gibberish. Example provided:<br />
<br />
<span class="default">&lt;?php<br />
$text </span><span class="keyword">= </span><span class="string">"There are;many|variations of:passages of Lorem Ipsum available,but the/majority have\"suffered|alteration in some form,by injected humour,or randomised words which don't look even.slightly:believable./"</span><span class="keyword">;<br />
<br />
</span><span class="default">$delimiter </span><span class="keyword">= array(</span><span class="string">" "</span><span class="keyword">,</span><span class="string">","</span><span class="keyword">,</span><span class="string">"."</span><span class="keyword">,</span><span class="string">"'"</span><span class="keyword">,</span><span class="string">"\""</span><span class="keyword">,</span><span class="string">"|"</span><span class="keyword">,</span><span class="string">"\\"</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">,</span><span class="string">";"</span><span class="keyword">,</span><span class="string">":"</span><span class="keyword">);<br />
</span><span class="default">$replace </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$text</span><span class="keyword">);<br />
</span><span class="default">$explode </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$replace</span><span class="keyword">);<br />
<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$explode</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
</span><span class="comment">// replaces many symbols in text, then explodes it<br />
</span><span class="default">?&gt;<br />
</span><br />
This will output the following:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; There<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; are<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; many<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; variations<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; of<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; passages<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; of<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; Lorem<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; Ipsum<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; available<br />
&nbsp;&nbsp;&nbsp; [10] =&gt; but<br />
&nbsp;&nbsp;&nbsp; [11] =&gt; the<br />
&nbsp;&nbsp;&nbsp; [12] =&gt; majority<br />
&nbsp;&nbsp;&nbsp; [13] =&gt; have<br />
&nbsp;&nbsp;&nbsp; [14] =&gt; suffered<br />
&nbsp;&nbsp;&nbsp; [15] =&gt; alteration<br />
&nbsp;&nbsp;&nbsp; [16] =&gt; in<br />
&nbsp;&nbsp;&nbsp; [17] =&gt; some<br />
&nbsp;&nbsp;&nbsp; [18] =&gt; form<br />
&nbsp;&nbsp;&nbsp; [19] =&gt; by<br />
&nbsp;&nbsp;&nbsp; [20] =&gt; injected<br />
&nbsp;&nbsp;&nbsp; [21] =&gt; humour<br />
&nbsp;&nbsp;&nbsp; [22] =&gt; or<br />
&nbsp;&nbsp;&nbsp; [23] =&gt; randomised<br />
&nbsp;&nbsp;&nbsp; [24] =&gt; words<br />
&nbsp;&nbsp;&nbsp; [25] =&gt; which<br />
&nbsp;&nbsp;&nbsp; [26] =&gt; don<br />
&nbsp;&nbsp;&nbsp; [27] =&gt; t<br />
&nbsp;&nbsp;&nbsp; [28] =&gt; look<br />
&nbsp;&nbsp;&nbsp; [29] =&gt; even<br />
&nbsp;&nbsp;&nbsp; [30] =&gt; slightly<br />
&nbsp;&nbsp;&nbsp; [31] =&gt; believable<br />
&nbsp;&nbsp;&nbsp; [32] =&gt; <br />
&nbsp;&nbsp;&nbsp; [33] =&gt; <br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114273""></a>
  <div class="note">
   <strong class="user">artaxerxes2 at iname dot com</strong>
   <a href="#114273" class="date">01-Feb-2014 01:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that using explode() on an empty string returns a non-empty array.<br />
<br />
So the code:<br />
<span class="default">&lt;?php<br />
&nbsp; print_r</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"|"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>returns:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; <br />
)<br />
<br />
If you need to return an empty array in the case of an empty string, you must call array_diff() after the explode:<br />
<span class="default">&lt;?php<br />
&nbsp; print_r</span><span class="keyword">(</span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"|"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">),array(</span><span class="string">""</span><span class="keyword">)));<br />
</span><span class="default">?&gt;<br />
</span>returns:<br />
Array<br />
(<br />
)<br />
<br />
This is useful in case your use of MySQL's group_concat() returns an empty string for just some records but you want to convert them all to arrays that actually reflect what group_concat() gave you</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112885""></a>
  <div class="note">
   <strong class="user">crog at gustavus dot edu</strong>
   <a href="#112885" class="date">02-Aug-2013 04:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that while the documentation states the "If limit is set and positive," passing a null-value will still result in triggering the "limit is zero" case (as of PHP 5.4.17).<br />
<br />
When passing through values (such as using explode to implement an interface method), you'll need to explicitly check that the limit has been set:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">public function </span><span class="default">split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$limit </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; return isset(</span><span class="default">$limit</span><span class="keyword">) ? </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$limit</span><span class="keyword">) : </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Failing to check $limit and simply passing through a null-value will return the same value as if $limit were 0 or 1. To clarify, all of the following will return the same value:<br />
<br />
<span class="default">&lt;?php<br />
explode</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">);<br />
</span><span class="default">explode</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">explode</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111650""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#111650" class="date">13-Mar-2013 06:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The comments to use array_filter() without a callback to remove empty strings from explode's results miss the fact that array_filter will remove all elements that, to quote the manual,&nbsp; "are equal to FALSE".<br />
<br />
This includes, in particular, the string "0", which is NOT an empty string.<br />
<br />
If you really want to filter out empty strings, use the defining feature of the empty string that it is the only string that has a length of 0. So:<br />
<span class="default">&lt;?php<br />
array_filter</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="string">"1:2::3:0:4"</span><span class="keyword">), </span><span class="string">'strlen'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111419""></a>
  <div class="note">
   <strong class="user">m.reesinck</strong>
   <a href="#111419" class="date">18-Feb-2013 09:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a multiexplode which didn't replace my delimiters for 1 other delimiter. Because I couldn't find one in the examples I made one.
<br />

<br />
delimiter array:
<br />
array('/RTRN/','/BUSP/','/BENM/','/ORDP/','/CSID/', '/MARF/','/EREF/', '/PREF/','/REMI/','/ID/','/PURP/', '/ULTB/','/ULTD/');
<br />

<br />
input string: /RTRN/MS03//BENM/NL50INGB00012345/BUSP/Europese Incasso/eenmalig/67/INGBNL2A/ING Bank N.V. inzake WeB///CSID/NL32ZZZ999999991234//MARF/EV45451//EREF/EV45451 REP170112T1106//REMI///EV45451REP170112T1106/
<br />

<br />
output:
<br />
array(
<br />
[/RTRN/] =&gt; MS03/
<br />
[/BENM/] =&gt; NL50INGB00012345
<br />
[/BUSP/] =&gt; Europese Incasso/eenmalig/67/INGBNL2A/ING Bank N.V. inzake WeB//
<br />
[/CSID/] =&gt; NL32ZZZ999999991234/
<br />
[/MARF/] =&gt; EV45451/
<br />
[/EREF/] =&gt; EV45451REP170112T1106/
<br />
[/REMI/] =&gt; //EV45451REP170112T1106/
<br />
[/ORDP/] =&gt; 
<br />
[/PREF/] =&gt; 
<br />
[/ID/] =&gt; 
<br />
[/PURP/] =&gt; 
<br />
[/ULTB/] =&gt; 
<br />
[/ULTD/] =&gt;
<br />
)
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">multiexplode</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrOccurence </span><span class="keyword">= array();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrEnd </span><span class="keyword">= array();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$delimiters </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$position </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$position </span><span class="keyword">&gt; -</span><span class="default">1</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrOccurence</span><span class="keyword">[</span><span class="default">$value</span><span class="keyword">] = </span><span class="default">$position</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrOccurence</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$arrOccurence</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrEnd </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$arrOccurence</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arrEnd</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$arrOccurence </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$start</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pointer </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">+</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i </span><span class="keyword">== </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrEnd</span><span class="keyword">)){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrOccurence</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$pointer</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrOccurence</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$pointer</span><span class="keyword">, </span><span class="default">$arrEnd</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]-</span><span class="default">$pointer</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//next part can be left apart if not necessary. In that case key that don't appear in the inputstringwill not be returned
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$delimiters </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!isset(</span><span class="default">$arrOccurence</span><span class="keyword">[</span><span class="default">$value</span><span class="keyword">])){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrOccurence</span><span class="keyword">[</span><span class="default">$value</span><span class="keyword">] = </span><span class="string">''</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$arrOccurence</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111307""></a>
  <div class="note">
   <strong class="user">php at metehanarslan dot com</strong>
   <a href="#111307" class="date">05-Feb-2013 07:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is my approach to have exploded output with multiple delimiter. <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//$delimiters has to be array<br />
//$string has to be array<br />
<br />
</span><span class="keyword">function </span><span class="default">multiexplode </span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ready </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">, </span><span class="default">$delimiters</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$launch </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$ready</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return&nbsp; </span><span class="default">$launch</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$text </span><span class="keyword">= </span><span class="string">"here is a sample: this text, and this will be exploded. this also | this one too :)"</span><span class="keyword">;<br />
</span><span class="default">$exploded </span><span class="keyword">= </span><span class="default">multiexplode</span><span class="keyword">(array(</span><span class="string">","</span><span class="keyword">,</span><span class="string">"."</span><span class="keyword">,</span><span class="string">"|"</span><span class="keyword">,</span><span class="string">":"</span><span class="keyword">),</span><span class="default">$text</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$exploded</span><span class="keyword">);<br />
<br />
</span><span class="comment">//And output will be like this:<br />
// Array<br />
// (<br />
//&nbsp; &nbsp; [0] =&gt; here is a sample<br />
//&nbsp; &nbsp; [1] =&gt;&nbsp; this text<br />
//&nbsp; &nbsp; [2] =&gt;&nbsp; and this will be exploded<br />
//&nbsp; &nbsp; [3] =&gt;&nbsp; this also <br />
//&nbsp; &nbsp; [4] =&gt;&nbsp; this one too <br />
//&nbsp; &nbsp; [5] =&gt; )<br />
// )<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109403""></a>
  <div class="note">
   <strong class="user">kkobashi at kobashicomputing dot com</strong>
   <a href="#109403" class="date">14-Jul-2012 12:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Explode does not parse a string by delimiters, in the sense that we expect to find tokens between a starting and ending delimiter, but instead splits a string into parts by using a string as the boundary of each part. Once that boundary is discovered the string is split. Whether or not that boundary is proceeded or superseded by any data is irrelevant since the parts are determined at the point a boundary is discovered. 
<br />

<br />
For example: 
<br />

<br />
<span class="default">&lt;?php 
<br />

<br />
var_dump</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">)); 
<br />

<br />
</span><span class="comment">/* 
<br />
&nbsp;&nbsp; Outputs 
<br />

<br />
&nbsp;&nbsp; array(2) { 
<br />
&nbsp;&nbsp; &nbsp; [0]=&gt; 
<br />
&nbsp;&nbsp; &nbsp; string(0) "" 
<br />
&nbsp;&nbsp; &nbsp; [1]=&gt; 
<br />
&nbsp;&nbsp; &nbsp; string(0) "" 
<br />
&nbsp;&nbsp; } 
<br />
*/ 
<br />

<br />
</span><span class="default">?&gt;</span> 
<br />

<br />
The reason we have two empty strings here is that a boundary is discovered before any data has been collected from the string. The boundary splits the string into two parts even though those parts are empty. 
<br />

<br />
One way to avoid getting back empty parts (if you don't care for those empty parts) is to use array_filter on the result. 
<br />

<br />
<span class="default">&lt;?php 
<br />

<br />
var_dump</span><span class="keyword">(</span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">))); 
<br />

<br />
</span><span class="comment">/* 
<br />
&nbsp;&nbsp; Outputs 
<br />

<br />
&nbsp;&nbsp; array(0) { 
<br />
&nbsp;&nbsp; } 
<br />
*/ 
<br />
</span><span class="default">?&gt;</span> 
<br />

<br />
*[This note was edited by googleguy at php dot net for clarity]*</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104176""></a>
  <div class="note">
   <strong class="user">eye_syah88 at yahoo dot com</strong>
   <a href="#104176" class="date">30-May-2011 09:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a simple one line method to explode &amp; trim whitespaces from the exploded elements<br />
<br />
array_map('trim',explode(",",$str));<br />
<br />
example:<br />
<br />
$str="one&nbsp; ,two&nbsp; ,&nbsp; &nbsp; &nbsp;&nbsp; three&nbsp; ,&nbsp; four&nbsp; &nbsp; "; <br />
print_r(array_map('trim',explode(",",$str)));<br />
<br />
Output:<br />
<br />
Array ( [0] =&gt; one [1] =&gt; two [2] =&gt; three [3] =&gt; four )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101624""></a>
  <div class="note">
   <strong class="user">dhz</strong>
   <a href="#101624" class="date">30-Dec-2010 06:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A one-liner to extract a portion of a string, starting from the END of the string....<br />
<span class="default">&lt;?php<br />
$extracted_string </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$original_string</span><span class="keyword">), -</span><span class="default">2</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99830""></a>
  <div class="note">
   <strong class="user">tiago dot dias at flow-me dot com</strong>
   <a href="#99830" class="date">09-Sep-2010 12:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beaware splitting empty strings.<br />
<br />
<span class="default">&lt;?php<br />
$str </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
If you split an empty string, you get back a one-element array with 0 as the key and an empty string for the value.<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; <br />
)<br />
<br />
To solve this, just use array_filter() without callback. Quoting manual page "If the callback function is not supplied, array_filter() will remove all the entries of input that are equal to FALSE.".<br />
<br />
<span class="default">&lt;?php<br />
$str </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Array<br />
(<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99281""></a>
  <div class="note">
   <strong class="user">Cody G.</strong>
   <a href="#99281" class="date">08-Aug-2010 03:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm sure you guys get just a bit frustrated at times when you need a fraction of a very simple string and you use "explode()", but then you have to define a whole extra variable. (That is because you need to store a function-returned array in a variable before you can extract a value).<br />
<br />
If you're extracting the last half, or third, of a string, there's an easy inline workaround. Check this:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;$mystr </span><span class="keyword">= </span><span class="string">"separated-text"</span><span class="keyword">;<br />
&nbsp;print(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">strstr</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="default">$mystr</span><span class="keyword">)));<br />
&nbsp;</span><span class="comment">//Returns "text"<br />
</span><span class="default">?&gt;<br />
</span><br />
If the separator (dash) can be left in, you don't even need the "str_replace()" function.<br />
<br />
Lets try this with 3 fractions:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;$mystr </span><span class="keyword">= </span><span class="string">"separated-text-again"</span><span class="keyword">;<br />
&nbsp;</span><span class="comment">//Comment submission wouldn't let me<br />
&nbsp;// combine this into one statement.<br />
&nbsp;// That's okay, it's more readable.<br />
&nbsp;</span><span class="default">$split1 </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">strstr</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="default">$mystr</span><span class="keyword">));<br />
&nbsp;print(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">strstr</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="default">$split1</span><span class="keyword">)));<br />
&nbsp;</span><span class="comment">//Returns "again"<br />
</span><span class="default">?&gt;<br />
</span><br />
Anything more than 3 fractions gets really confusing, in that case you should use "explode()".<br />
<br />
Hope this helps!<br />
~Cody G.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99167""></a>
  <div class="note">
   <strong class="user">m0gr14 at gmail dot com</strong>
   <a href="#99167" class="date">31-Jul-2010 04:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a function for "multi" exploding a string.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//the function<br />
//Param 1 has to be an Array<br />
//Param 2 has to be a String<br />
</span><span class="keyword">function </span><span class="default">multiexplode </span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ary </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$delimiters </span><span class="keyword">!= </span><span class="default">NULL</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$ary </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ary</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">multiexplode</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return&nbsp; </span><span class="default">$ary</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Example of use<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="string">"1-2-3|4-5|6:7-8-9-0|1,2:3-4|5"</span><span class="keyword">;<br />
</span><span class="default">$delimiters </span><span class="keyword">= Array(</span><span class="string">","</span><span class="keyword">,</span><span class="string">":"</span><span class="keyword">,</span><span class="string">"|"</span><span class="keyword">,</span><span class="string">"-"</span><span class="keyword">);<br />
<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">multiexplode</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="comment">//returns<br />
/*<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; 3<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 5<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 6<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 7<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 8<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; 9<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] =&gt; 0<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 3<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 5<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98135""></a>
  <div class="note">
   <strong class="user">jessebusman at gmail dot com</strong>
   <a href="#98135" class="date">27-May-2010 09:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes you need to explode a string by different delimiters. In that case you can use this function:<br />
<br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">(</span><span class="default">explodeX</span><span class="keyword">(Array(</span><span class="string">"."</span><span class="keyword">,</span><span class="string">"!"</span><span class="keyword">,</span><span class="string">" "</span><span class="keyword">,</span><span class="string">"?"</span><span class="keyword">,</span><span class="string">";"</span><span class="keyword">),</span><span class="string">"This.sentence?contains wrong;characters"</span><span class="keyword">));<br />
</span><span class="comment">// Returns:<br />
// Array("This","sentence","contains","wrong","characters")<br />
<br />
</span><span class="keyword">function </span><span class="default">explodeX</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$return_array </span><span class="keyword">= Array(</span><span class="default">$string</span><span class="keyword">); </span><span class="comment">// The array to return<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d_count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while (isset(</span><span class="default">$delimiters</span><span class="keyword">[</span><span class="default">$d_count</span><span class="keyword">])) </span><span class="comment">// Loop to loop through all delimiters<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_return_array </span><span class="keyword">= Array(); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$return_array </span><span class="keyword">as </span><span class="default">$el_to_split</span><span class="keyword">) </span><span class="comment">// Explode all returned elements by the next delimiter<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$put_in_new_return_array </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$delimiters</span><span class="keyword">[</span><span class="default">$d_count</span><span class="keyword">],</span><span class="default">$el_to_split</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$put_in_new_return_array </span><span class="keyword">as </span><span class="default">$substr</span><span class="keyword">) </span><span class="comment">// Put all the exploded elements in array to return<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_return_array</span><span class="keyword">[] = </span><span class="default">$substr</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_array </span><span class="keyword">= </span><span class="default">$new_return_array</span><span class="keyword">; </span><span class="comment">// Replace the previous return array by the next version<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$d_count</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return_array</span><span class="keyword">; </span><span class="comment">// Return the exploded elements<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97216""></a>
  <div class="note">
   <strong class="user">locoluis at gmail dot com</strong>
   <a href="#97216" class="date">08-Apr-2010 06:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
That with all stateful encodings that use bytes between 0x00 and 0x7f for something other than, say, encoding ASCII characters. Including GBK, BIG5, Shift-JIS etc.<br />
<br />
explode and other such PHP functions work on bytes, not characters.<br />
<br />
What you do is to convert the string to UTF-8 using iconv(), then explode, then go back to GBK.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94652""></a>
  <div class="note">
   <strong class="user">gxd305 at gmail dot com</strong>
   <a href="#94652" class="date">17-Nov-2009 02:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
when the encoding of $string&nbsp; is 'GBK' and $delimiter is '|' , the return value may be wrong. 
<br />
for example:
<br />

<br />
<span class="default">&lt;?php
<br />
$result </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"|"</span><span class="keyword">, </span><span class="string">"滕华||海青"</span><span class="keyword">);
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
and the result will be:
<br />
array (
<br />
&nbsp; 0 =&gt; '滕华,
<br />
&nbsp; 1 =&gt; '',
<br />
&nbsp; 2 =&gt; '海青',
<br />
)
<br />

<br />
bcz "|" 's GBK is '0x8f7c'. and "|" 's ASCII is '0x7c'.
<br />

<br />
So, all GBK-encoding characters include '7c' will lead to the error result.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94068""></a>
  <div class="note">
   <strong class="user">nick dot brown at free dot fr</strong>
   <a href="#94068" class="date">15-Oct-2009 12:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My application was running out of memory (my hosting company limits PHP to 32MB).&nbsp; I have a string containing between 100 and 20000 triplets, separated by a space, with each triplet consisting of three double-precision numbers, separated by commas.&nbsp; Total size of the biggest string, with 20000 triplets, is about 1MB.<br />
<br />
The application needs to split the string into triplets, then split the triplet into numbers.&nbsp; In C, this would take up about 480K (20000 times 3 x 8 bytes) for the final array.&nbsp; The intermediate array of strings shouldn't be much bigger than the long string itself (1MB).&nbsp; And I expect some overhead from PHP, say 300% to allow for indexes etc.<br />
<br />
Well, PHP5 manages to run out of memory *at the first stage* (exploding the string on the space character).&nbsp; I'm expecting to get an array of 20000 strings, but it needs more than 32MB to store it.&nbsp; Amazing.<br />
<br />
The workaround was easy and had the bonus of producing faster code (I compared it on a 10000 triplet string).&nbsp; Since in any case I had to split up the numeric triplets afterwards, I decided to use preg_match_all() on the original string.&nbsp; Despite the fact that the resulting "matches" array contains more data per element than the result of explode() - because it stores the matched triplet, plus its component numbers - it takes up far less memory.<br />
<br />
Moral: be careful when using explode() on big strings, as it can also explode your memory usage.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94024""></a>
  <div class="note">
   <strong class="user">Jrg Wagner</strong>
   <a href="#94024" class="date">12-Oct-2009 11:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a very concise example for a quote aware explode - substrings in quotes (or another definable enclosure char) are not exploded. 
<br />
An additional parameter allows to determine whether the enclosure chars should be preserved within the resulting array elements. Please note that as of PHP 5.3 the str_getcsv function offers a built-in way to do this!
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">csv_explode</span><span class="keyword">(</span><span class="default">$delim</span><span class="keyword">=</span><span class="string">','</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$enclose</span><span class="keyword">=</span><span class="string">'"'</span><span class="keyword">, </span><span class="default">$preserve</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">){
<br />
&nbsp; </span><span class="default">$resArr </span><span class="keyword">= array();
<br />
&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp; </span><span class="default">$expEncArr </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$enclose</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);
<br />
&nbsp; foreach(</span><span class="default">$expEncArr </span><span class="keyword">as </span><span class="default">$EncItem</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$n</span><span class="keyword">++%</span><span class="default">2</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$resArr</span><span class="keyword">, </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$resArr</span><span class="keyword">) . (</span><span class="default">$preserve</span><span class="keyword">?</span><span class="default">$enclose</span><span class="keyword">:</span><span class="string">''</span><span class="keyword">) . </span><span class="default">$EncItem</span><span class="keyword">.(</span><span class="default">$preserve</span><span class="keyword">?</span><span class="default">$enclose</span><span class="keyword">:</span><span class="string">''</span><span class="keyword">));
<br />
&nbsp;&nbsp;&nbsp; }else{
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$expDelArr </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$delim</span><span class="keyword">, </span><span class="default">$EncItem</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$resArr</span><span class="keyword">, </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$resArr</span><span class="keyword">) . </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$expDelArr</span><span class="keyword">));
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$resArr </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$resArr</span><span class="keyword">, </span><span class="default">$expDelArr</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp; }
<br />
&nbsp; return </span><span class="default">$resArr</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93778""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#93778" class="date">29-Sep-2009 12:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note to the previous example: we can do the whole string-&gt;array conversion using explode() exclusively. <br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// converts pure string into a trimmed keyed array<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">string_2_array</span><span class="keyword">( </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$delimiter </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">, </span><span class="default">$kv </span><span class="keyword">= </span><span class="string">'=&gt;'</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$element </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">( </span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$string </span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// create parts<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach ( </span><span class="default">$element </span><span class="keyword">as </span><span class="default">$key_value </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// key -&gt; value pair or single value<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$atom </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">( </span><span class="default">$kv</span><span class="keyword">, </span><span class="default">$key_value </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$atom</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key_arr</span><span class="keyword">[</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$atom</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$atom</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key_arr</span><span class="keyword">[] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$atom</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key_arr </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$key_arr</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93324""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#93324" class="date">03-Sep-2009 04:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// converts pure string into a trimmed keyed array<br />
</span><span class="keyword">function </span><span class="default">string2KeyedArray</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$delimiter </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">, </span><span class="default">$kv </span><span class="keyword">= </span><span class="string">'=&gt;'</span><span class="keyword">) {<br />
&nbsp; if (</span><span class="default">$a </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">)) { </span><span class="comment">// create parts<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$s</span><span class="keyword">) { </span><span class="comment">// each part<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$s</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$kv</span><span class="keyword">)) { </span><span class="comment">// key/value delimiter<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ka</span><span class="keyword">[</span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">))] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$kv</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else { </span><span class="comment">// key delimiter not found<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ka</span><span class="keyword">[] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ka</span><span class="keyword">;<br />
&nbsp; }<br />
} </span><span class="comment">// string2KeyedArray<br />
<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="string">'a=&gt;1, b=&gt;23&nbsp;&nbsp; , $a, c=&gt; 45% , true,d =&gt; ab c '</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">string2KeyedArray</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Array<br />
(<br />
&nbsp; [a] =&gt; 1<br />
&nbsp; [b] =&gt; 23<br />
&nbsp; [0] =&gt; $a<br />
&nbsp; [c] =&gt; 45%<br />
&nbsp; [1] =&gt; true<br />
&nbsp; [d] =&gt; ab c<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92831""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#92831" class="date">11-Aug-2009 07:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are exploding string literals in your code that have a dollar sign ($) in it, be sure to use single-quotes instead of double-quotes, since php will not spare any chance to interpret the variable-friendly characters after the dollar signs as variables, leading to unintended consequences, the most typical being missing characters.<br />
<br />
<span class="default">&lt;?php<br />
$doubleAr </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="string">"The </span><span class="default">$quick</span><span class="string"> brown fox"</span><span class="keyword">);<br />
</span><span class="default">$singleAr </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="string">'The $quick brown fox'</span><span class="keyword">);<br />
echo </span><span class="default">$doubleAr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]; </span><span class="comment">// prints "";<br />
</span><span class="keyword">echo </span><span class="default">$singleAr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]; </span><span class="comment">// prints "$quick";<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90415""></a>
  <div class="note">
   <strong class="user">SR</strong>
   <a href="#90415" class="date">21-Apr-2009 04:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Keep in mind that explode() can return empty elements if the delimiter is immediately repeated twice (or more), as shown by the following example:<br />
<br />
<span class="default">&lt;?php<br />
$foo </span><span class="keyword">= </span><span class="string">'uno dos&nbsp; tres'</span><span class="keyword">; </span><span class="comment">// two spaces between "dos" and "tres"<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">, </span><span class="default">$foo</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; uno<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; dos<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; <br />
&nbsp;&nbsp;&nbsp; [3] =&gt; tres<br />
)<br />
<br />
Needless to say this is definitely not intuitive and must be handled carefully.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90380""></a>
  <div class="note">
   <strong class="user">Michael</strong>
   <a href="#90380" class="date">19-Apr-2009 11:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a simple script which uses explode() to check to see if an IP address is in an array (can be used as a ban-check, without needing to resort to database storage and queries).
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
&nbsp;</span><span class="keyword">function </span><span class="default">denied</span><span class="keyword">(</span><span class="default">$one</span><span class="keyword">) {
<br />

<br />
&nbsp; </span><span class="default">$denied </span><span class="keyword">= array(
<br />

<br />
&nbsp;&nbsp; </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">'^255.255.255.255'</span><span class="keyword">,
<br />
&nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'^255.250'</span><span class="keyword">,
<br />
&nbsp;&nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">'^255.255.250'
<br />

<br />
&nbsp; </span><span class="keyword">);
<br />

<br />
&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$denied</span><span class="keyword">) ; </span><span class="default">$i</span><span class="keyword">++) {
<br />

<br />
&nbsp;&nbsp; if (</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="default">$denied</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="string">'^' </span><span class="keyword">. </span><span class="default">$one </span><span class="keyword">. </span><span class="string">'$'</span><span class="keyword">)) == </span><span class="default">2</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; }
<br />

<br />
&nbsp; }
<br />

<br />
&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />

<br />
&nbsp;}
<br />

<br />
&nbsp;if (</span><span class="default">denied</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REMOTE_ADDR'</span><span class="keyword">])) {
<br />
&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Location: denied.php'</span><span class="keyword">);
<br />
&nbsp;}
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78494""></a>
  <div class="note">
   <strong class="user">pinkgothic at gmail dot com</strong>
   <a href="#78494" class="date">15-Oct-2007 11:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
coroa at cosmo-genics dot com mentioned using preg_split() instead of explode() when you have multiple delimiters in your text and don't want your result array cluttered with empty elements. While that certainly works, it means you need to know your way around regular expressions... and, as it turns out, it is slower than its alternative. Specifically, you can cut execution time roughly in half if you use array_filter(explode(...)) instead.<br />
<br />
Benchmarks (using 'too many spaces'):<br />
Looped 100000 times:<br />
preg_split: 1.61789011955 seconds<br />
filter-explode: 0.916578054428 seconds<br />
<br />
Looped 10000 times:<br />
preg_split: 0.162719011307 seconds<br />
filter-explode: 0.0918920040131 seconds<br />
<br />
(The relation is, evidently, pretty linear.)<br />
<br />
Note: Adding array_values() to the filter-explode combination, to avoid having those oft-feared 'holes' in your array, doesn't remove the benefit, either. (For scale - the '9' becomes a '11' in the benchmarks above.)<br />
<br />
Also note: I haven't tested anything other than the example with spaces - since djogo_curl at yahoo's note seems to imply that explode() might get slow with longer delimiters, I expect this would be the case here, too.<br />
<br />
I hope this helps someone. :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71648""></a>
  <div class="note">
   <strong class="user">seventoes at gmail dot com</strong>
   <a href="#71648" class="date">10-Dec-2006 04:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that explode, split, and functions like it, can accept more than a single character for the delimiter.<br />
<br />
<span class="default">&lt;?php<br />
$string </span><span class="keyword">= </span><span class="string">"Something--next--something else--next--one more"</span><span class="keyword">;<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'--next--'</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37467""></a>
  <div class="note">
   <strong class="user">coroa at cosmo-genics dot com</strong>
   <a href="#37467" class="date">16-Nov-2003 05:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To split a string containing multiple seperators between elements rather use preg_split than explode:<br />
<br />
preg_split ("/\s+/", "Here&nbsp; are&nbsp; &nbsp; to&nbsp; &nbsp; many&nbsp; spaces in&nbsp;&nbsp; between");<br />
<br />
which gives you<br />
array ("Here", "are", "to", "many", "spaces", "in", "between");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
