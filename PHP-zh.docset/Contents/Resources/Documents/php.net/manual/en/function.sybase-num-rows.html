<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Get number of rows in a result set</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.sybase-num-fields.html">? sybase_num_fields</a></li>
      <li style="float: right;"><a href="function.sybase-pconnect.html">sybase_pconnect ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sybase.html">Sybase 函数</a></li>
    <li>Get number of rows in a result set</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.sybase-num-rows" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sybase_num_rows</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">sybase_num_rows</span> &mdash; <span class="dc-title">Get number of rows in a result set</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.sybase-num-rows-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>sybase_num_rows</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$result</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>sybase_num_rows()</strong></span> returns the number of rows in a
   result set.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.sybase-num-rows-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">result</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.sybase-num-rows-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns the number of rows as an integer.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.sybase-num-rows-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.sybase-num-fields.html" class="function" rel="rdfs-seeAlso">sybase_num_fields()</a> - Gets the number of fields in a result set</span></li>
    <li class="member"><span class="function"><a href="function.sybase-query.html" class="function" rel="rdfs-seeAlso">sybase_query()</a> - Sends a Sybase query</span></li>
    <li class="member"><span class="function"><a href="function.sybase-fetch-row.html" class="function" rel="rdfs-seeAlso">sybase_fetch_row()</a> - Get a result row as an enumerated array</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="1229""></a>
  <div class="note">
   <strong class="user">verdy_p at wanadoo dot fr</strong>
   <a href="#1229" class="date">25-Jul-1999 12:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Because Sybase does not process the number of returned rows until all rows have been fetched, this function should be avoided if the query returns MANY rows: PHP3 will have to fetch internally all rows coming from the server, keeping results in memory until the result set is fully returned and no more rows are signaled by the SQL Server. If you want to put a limit on the number of rows to really fetch in your application, it will be much faster to first select the count of rows that match the search criters, prior to select effective data. Shame, the current implementation of PHP3 Sybase support functions does not have an option to control whever all rows should be fetched prior to return from the query. More, there's no provision for queries that return multiple results sets, so this function terminates the current query without allowing further results sets to be returned. A good idea would be that this function processes only the current result set, but does not terminate the query, allowing the script to use either a new "sybase_next_result()" or "sybase_free_result()" after processing the current dataset.
<br />
The current implementation of this function fetches all pending rows in memory, which updates the counter that is otherwised set up for the sybase_affected_rows(). If you don't call this function, sybase_affected_rows() is not accurate for the current selected result set because all rows have not been internally fetched. If you just want to show the total number of rows displayed on your HTML page, it's a good idea to call it only AFTER all rows have been fetched, because this count is immediately accurate without requiring PHP3 to fetch pending rows and save them in internal memory.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
