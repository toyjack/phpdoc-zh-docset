<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>返回由类的方法名组成的数组</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.get-called-class.html">? get_called_class</a></li>
      <li style="float: right;"><a href="function.get-class-vars.html">get_class_vars ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.classobj.html">类/对象 函数</a></li>
    <li>返回由类的方法名组成的数组</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.get-class-methods" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">get_class_methods</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">get_class_methods</span> &mdash; <span class="dc-title">返回由类的方法名组成的数组</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.get-class-methods-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>get_class_methods</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$class_name</code></span>
   )</div>

  <p class="para rdfs-comment">
   返回由类的方法名组成的数组。
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.get-class-methods-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">class_name</code></dt>

     <dd>

      <p class="para">
       类名或者对象实例。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.get-class-methods-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回由 <code class="parameter">class_name</code>
   指定的类中定义的方法名所组成的数组。如果出错，则返回 <strong><code>NULL</code></strong>。
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.get-class-methods-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.0.0</td>
       <td>
        自 PHP 5 起，本函数按照方法被定义的名字返回（区分大小写）。在 PHP 4 中总是返回小写的。
       </td>
      </tr>

      <tr>
       <td>4.0.6</td>
       <td>
        从这个版本开始，可以指定对象本身来代替类名。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.get-class-methods-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5499">
    <p><strong>Example #1 <span class="function"><strong>get_class_methods()</strong></span> 示例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">myclass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;constructor<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">myclass</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;method&nbsp;1<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">myfunc1</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;method&nbsp;2<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">myfunc2</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$class_methods&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_class_methods</span><span style="color: #007700">(</span><span style="color: #DD0000">'myclass'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;or<br /></span><span style="color: #0000BB">$class_methods&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_class_methods</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">myclass</span><span style="color: #007700">());<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$class_methods&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$method_name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$method_name</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
myclass
myfunc1
myfunc2
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.get-class-methods-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.get-class.html" class="function" rel="rdfs-seeAlso">get_class()</a> - 返回对象的类名</span></li>
    <li class="member"><span class="function"><a href="function.get-class-vars.html" class="function" rel="rdfs-seeAlso">get_class_vars()</a> - 返回由类的默认属性组成的数组</span></li>
    <li class="member"><span class="function"><a href="function.get-object-vars.html" class="function" rel="rdfs-seeAlso">get_object_vars()</a> - 返回由对象属性组成的关联数组</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="118330""></a>
  <div class="note">
   <strong class="user">polarglow06 at gmail dot com</strong>
   <a href="#118330" class="date">19-Nov-2015 03:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have created a very simple test runner using this function<br />
<br />
function get_bar($text) {<br />
&nbsp;&nbsp;&nbsp; $bar = "";<br />
&nbsp;&nbsp;&nbsp; for($i=1; $i&lt;=strlen($text); $i++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $bar .= "=";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $bar;<br />
}<br />
class Tester {<br />
&nbsp;&nbsp;&nbsp; function __construct() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;run_tests();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; // run the tests<br />
&nbsp;&nbsp;&nbsp; function run_tests() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print("Tester by Minhajul Anwar \n");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $class = get_class($this);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $test_methods = preg_grep('/^test/', get_class_methods($this));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach($test_methods as $method) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $start_rep = "test: $class::$method";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $bar = get_bar($start_rep);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print("\n$start_rep\n$bar\n");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;$method();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print("\n");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
now you just need to write your test class with tegst methods prefixed by 'test', and then just instantiate object of that test class of your, all those tests methods will get run automatically<br />
The drawback is: your test methods must not accept any arguments<br />
<br />
an example:<br />
require '../autoload.php';<br />
register_autoload_paths(realpath('./'));<br />
<br />
class Test_Test extends Tester {<br />
&nbsp;&nbsp;&nbsp; function test_something() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print("method got executed");<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function testAnotherThing() {<br />
&nbsp;&nbsp;&nbsp; print("another test method");<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$Test = new Test_Test();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95548""></a>
  <div class="note">
   <strong class="user">fschmengler at sgh-it dot eu</strong>
   <a href="#95548" class="date">08-Jan-2010 01:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It should be noted that the returned methods are dependant on the current scope. See this example:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">C<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">privateMethod</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">publicMethod</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'$this:'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">get_class_methods</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'C (inside class):'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">get_class_methods</span><span class="keyword">(</span><span class="string">'C'</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$c </span><span class="keyword">= new </span><span class="default">C</span><span class="keyword">;<br />
echo </span><span class="string">'$c:'</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">get_class_methods</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">));<br />
echo </span><span class="string">'C (outside class):'</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">get_class_methods</span><span class="keyword">(</span><span class="string">'C'</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
$this:<br />
array<br />
&nbsp; 0 =&gt; string 'privateMethod' (length=13)<br />
&nbsp; 1 =&gt; string 'publicMethod' (length=12)<br />
&nbsp; 2 =&gt; string '__construct' (length=11)<br />
<br />
C (inside class):<br />
array<br />
&nbsp; 0 =&gt; string 'privateMethod' (length=13)<br />
&nbsp; 1 =&gt; string 'publicMethod' (length=12)<br />
&nbsp; 2 =&gt; string '__construct' (length=11)<br />
<br />
$c:<br />
array<br />
&nbsp; 0 =&gt; string 'publicMethod' (length=12)<br />
&nbsp; 1 =&gt; string '__construct' (length=11)<br />
<br />
C (outside class):<br />
array<br />
&nbsp; 0 =&gt; string 'publicMethod' (length=12)<br />
&nbsp; 1 =&gt; string '__construct' (length=11)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72970""></a>
  <div class="note">
   <strong class="user">php at stock-consulting dot com</strong>
   <a href="#72970" class="date">06-Feb-2007 11:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that this function will answer both class AND instance methods ("class methods" are called "static" in PHP). Sort of a little "trap" for people who have in-depth experience with the OO terminology :-)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63183""></a>
  <div class="note">
   <strong class="user">BoD</strong>
   <a href="#63183" class="date">15-Mar-2006 04:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
!Concerning PHP5 Only!<br />
<br />
If you want to get all methods/functions from a class you can do this with the get_class_methods function.<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $arrMethodNames </span><span class="keyword">= </span><span class="default">get_class_methods </span><span class="keyword">( </span><span class="default">$ClassNameOrObject</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>However the drawback on this function in PHP5 is that you will NOT receive protected and private methods of a class/object if you are calling the method from another class/object context.<br />
<br />
If you want to receive all methods of a given Class in another Class you should use the PHP5 Reflection API. The following source allows to retrieve all methods from a derived class in its (abstract) Base Class.<br />
<br />
In the example you need to call the base constructor from the derived classes constructor in order to let the base class know the name of the derived class. Use the "__CLASS__" definition for passing the classname of current class to its base class.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Base Class - Abstract<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">abstract class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Array of ReflectionMethod Objects<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // is being set upon instanciation<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // derived Classes don't need to know about this array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">private </span><span class="default">$arrMethods</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Constructor which MUST be called from derived Class Constructor<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">protected function </span><span class="default">__construct </span><span class="keyword">( </span><span class="default">$strDerivedClassName </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$oRefl </span><span class="keyword">= new </span><span class="default">ReflectionClass </span><span class="keyword">( </span><span class="default">$strDerivedClassName </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$oRefl</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">arrMethods </span><span class="keyword">= </span><span class="default">$oRefl</span><span class="keyword">-&gt;</span><span class="default">getMethods</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Some abstract function<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">abstract protected function </span><span class="default">D </span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Some private function<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">private function </span><span class="default">E</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// method to print all class/object methods<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // must be callable from derived classes<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // can be protected if only for internal class use<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">PrintAllMethods </span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach ( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">arrMethods </span><span class="keyword">as </span><span class="default">$curReflectionMethod </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$curReflectionMethod</span><span class="keyword">-&gt;</span><span class="default">getName</span><span class="keyword">().</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Derived Class<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Constructor for this class<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // MUST call Base Constructor<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__construct </span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Call Base Constructor<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">(</span><span class="default">__CLASS__</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Some public function<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">A </span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// some protected function<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">protected function </span><span class="default">B </span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// some private function<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">private function </span><span class="default">C</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// some abstract method from base class implemented<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">protected function </span><span class="default">D </span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Create new B Object<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Print all Methods of this Object/Class<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">PrintAllMethods</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
In this example output will be:<br />
<br />
__construct<br />
A<br />
B<br />
C<br />
D<br />
E<br />
PrintAllMethods<br />
<br />
As you can see these are all methods from class B and also all methods from Class A respectivly in order of their declaration. Note that only one method "__construct" and only one method "D" are being shown. This is due to overloading (__construct) and implementing (D) in PHP.<br />
<br />
In this example any further method-handling methods should be implemented in the base class as these will be available in derived classes as well. Just make sure that you use the right access specifiers for these additional methods ( private, protected, public )<br />
<br />
BoD</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57842""></a>
  <div class="note">
   <strong class="user">jazepstein at greenash dot net dot au</strong>
   <a href="#57842" class="date">16-Oct-2005 03:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP4, this function converts its return values to lowercase; but in PHP5, it leaves the return values in their original case. This can cause serious problems when trying to write code that dynamically calls a class method, and that works in both PHP4 and PHP5. This code snippet shows one way of achieving compatibility with both versions:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Example variables - these would be dynamic in a real application.<br />
</span><span class="default">$className </span><span class="keyword">= </span><span class="string">'SomeClass'</span><span class="keyword">;<br />
</span><span class="default">$methodName</span><span class="keyword">= </span><span class="string">'someMethod'</span><span class="keyword">;<br />
</span><span class="default">$args </span><span class="keyword">= array(</span><span class="string">'arg1'</span><span class="keyword">, </span><span class="string">'arg2'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Use array_map() and strtolower() to make all values returned by get_class_methods() lowercase. PHP4 does this anyway - now it will happen regardless of the PHP version being used.<br />
</span><span class="default">$classMethods </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">, </span><span class="default">get_class_methods</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">));<br />
<br />
</span><span class="comment">// in_array() can only handle being given an array.<br />
</span><span class="keyword">if (!</span><span class="default">$classMethods</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$classMethods </span><span class="keyword">= array();<br />
}<br />
<br />
if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$methodName</span><span class="keyword">), </span><span class="default">$classMethods</span><span class="keyword">)) {<br />
&nbsp; </span><span class="comment">// call some method<br />
&nbsp; </span><span class="keyword">return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$className</span><span class="keyword">, </span><span class="default">$methodName</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51795""></a>
  <div class="note">
   <strong class="user">Oli Filth</strong>
   <a href="#51795" class="date">11-Apr-2005 05:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As an extension to onesimus's code below for finding inherited methods, in PHP 5 you can use the Reflection API to find which of these are overriden.<br />
<br />
e.g.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_overriden_methods</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rClass </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$rClass</span><span class="keyword">-&gt;</span><span class="default">getMethods</span><span class="keyword">() as </span><span class="default">$rMethod</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; try<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// attempt to find method in parent class<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">new </span><span class="default">ReflectionMethod</span><span class="keyword">(</span><span class="default">$rClass</span><span class="keyword">-&gt;</span><span class="default">getParentClass</span><span class="keyword">()-&gt;</span><span class="default">getName</span><span class="keyword">(),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rMethod</span><span class="keyword">-&gt;</span><span class="default">getName</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// check whether method is explicitly defined in this class<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$rMethod</span><span class="keyword">-&gt;</span><span class="default">getDeclaringClass</span><span class="keyword">()-&gt;</span><span class="default">getName</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; == </span><span class="default">$rClass</span><span class="keyword">-&gt;</span><span class="default">getName</span><span class="keyword">())<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// if so, then it is overriden, so add to array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[] .=&nbsp; </span><span class="default">$rMethod</span><span class="keyword">-&gt;</span><span class="default">getName</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; catch (</span><span class="default">exception $e</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {&nbsp; &nbsp; </span><span class="comment">/* was not in parent class! */&nbsp; &nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50167""></a>
  <div class="note">
   <strong class="user">kabatak</strong>
   <a href="#50167" class="date">20-Feb-2005 02:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP4, if you need to get_class_methods in their original case. You can use this simple function I created.<br />
<br />
// Note: this function assumes that you only have 1 class in 1 file<br />
<br />
$file = "path/to/myclass.php"<br />
<br />
function file_get_class_methods ($file)<br />
{<br />
&nbsp;&nbsp;&nbsp; $arr = file($file);<br />
&nbsp;&nbsp;&nbsp; foreach ($arr as $line)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (ereg ('function ([_A-Za-z0-9]+)', $line, $regs))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $arr_methods[] = $regs[1];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $arr_methods;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46435""></a>
  <div class="note">
   <strong class="user">epowell at removethis dot visi dot com</strong>
   <a href="#46435" class="date">11-Oct-2004 05:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've figured out how to get around my issue described below, using the Reflection API.<br />
<br />
&lt;?<br />
/* Pass the name of the class, not a declared handler */<br />
function get_public_methods($className) {<br />
&nbsp;&nbsp;&nbsp; /* Init the return array */<br />
&nbsp;&nbsp;&nbsp; $returnArray = array();<br />
<br />
&nbsp;&nbsp;&nbsp; /* Iterate through each method in the class */<br />
&nbsp;&nbsp;&nbsp; foreach (get_class_methods($className) as $method) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* Get a reflection object for the class method */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $reflect = new ReflectionMethod($className, $method);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* For private, use isPrivate().&nbsp; For protected, use isProtected() */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* See the Reflection API documentation for more definitions */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($reflect-&gt;isPublic()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* The method is one we're looking for, push it onto the return array */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array_push($returnArray,$method);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; /* return the array to the caller */<br />
&nbsp;&nbsp;&nbsp; return $returnArray;<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43379""></a>
  <div class="note">
   <strong class="user">onesimus at cox dot net</strong>
   <a href="#43379" class="date">19-Jun-2004 11:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function will return only the methods for the object you indicate. It will strip out the inherited methods.<br />
<br />
function get_this_class_methods($class){<br />
&nbsp;&nbsp;&nbsp; $array1 = get_class_methods($class);<br />
&nbsp;&nbsp;&nbsp; if($parent_class = get_parent_class($class)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $array2 = get_class_methods($parent_class);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $array3 = array_diff($array1, $array2);<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $array3 = $array1;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return($array3);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32585""></a>
  <div class="note">
   <strong class="user">gk at proliberty dot com</strong>
   <a href="#32585" class="date">02-Jun-2003 01:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is important to note that get_class_methods($class) returns not only methods defined by $class but also the inherited methods.<br />
<br />
There does not appear to be any PHP function to determine which methods are inherited and which are defined explicitly by a class.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20920""></a>
  <div class="note">
   <strong class="user">aldo at cerca dot com</strong>
   <a href="#20920" class="date">22-Apr-2002 07:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use "get_class_methods" to check if a Method is in a Class remember that the function return lowered name of class methods:<br />
<br />
class classPippo<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function DummyFunct()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Do nothing...<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
}<br />
<br />
$aClassMethods = get_class_methods(classPippo);<br />
<br />
$sMethodName = 'DummyFunct';<br />
<br />
// This not work...<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (in_array($sMethodName, $aClassMethods))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; classPippo::DummyFunct();<br />
<br />
// This work...<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (in_array(strtolower($sMethodName), $aClassMethods))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; classPippo::DummyFunct();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20083""></a>
  <div class="note">
   <strong class="user">matt at zevi dot net</strong>
   <a href="#20083" class="date">22-Mar-2002 01:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Win32 only:<br />
<br />
It's probably worth noting here that you can't get the methods of an object created by the built-in 'COM' class. ie - this won't work:<br />
<br />
$word = new COM('Word.Application');<br />
$methods = get_class_methods(get_class($word));<br />
print_r($methods);<br />
<br />
Matt</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
