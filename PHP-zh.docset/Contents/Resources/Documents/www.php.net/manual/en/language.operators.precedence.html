<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>运算符优先级</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.operators.html">? 运算符</a></li>
      <li style="float: right;"><a href="language.operators.arithmetic.html">算术运算符 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.operators.html">运算符</a></li>
    <li>运算符优先级</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.operators.precedence" class="sect1">
   <h2 class="title">运算符优先级</h2>
   <p class="para">
    运算符优先级指定了两个表达式绑定得有多"紧密"。例如，表达式 <code class="literal">1 + 5 *
    3</code> 的结果是 <code class="literal">16</code> 而不是 <code class="literal">18</code>
    是因为乘号（"*"）的优先级比加号（"+"）高。必要时可以用括号来强制改变优先级。例如：<code class="literal">(1
    + 5) * 3</code> 的值为 <code class="literal">18</code>。
   </p>
   <p class="para">
    如果运算符优先级相同，那运算符的结合方向决定了该如何运算。例如，&quot;-&quot;是左联的，那么 <code class="literal">1 - 2 - 3</code> 就等同于 <code class="literal">(1 - 2) - 3</code>
    并且结果是 <code class="literal">-4</code>. 另外一方面，&quot;=&quot;是右联的，所以 <code class="literal">$a = $b = $c</code> 等同于
    <code class="literal">$a = ($b = $c)</code>。
   </p>
   <p class="para">
    没有结合的相同优先级的运算符不能连在一起使用，例如
    <code class="literal">1 &lt; 2 &gt; 1</code> 在PHP是不合法的。但另外一方面表达式
    <code class="literal">1 &lt;= 1 == 1</code> 是合法的, 因为 <code class="literal">==</code> 的优先级低于
    <code class="literal">&lt;=</code>。
   </p>
   <p class="para">
    括号的使用，哪怕在不是必要的场合下，通过括号的配对来明确标明运算顺序，而非靠运算符优先级和结合性来决定，通常能够增加代码的可读性。
   </p>
   <p class="para">
    下表按照优先级从高到低列出了运算符。同一行中的运算符具有相同优先级，此时它们的结合方向决定求值顺序。
    <table class="doctable table">
     <caption><strong>运算符优先级</strong></caption>
     
      <thead>
       <tr>
        <th>结合方向</th>
        <th>运算符</th>
        <th>附加信息</th>
       </tr>

      </thead>

      <tbody class="tbody">
       <tr>
        <td>不适用</td>
        <td>
         <code class="literal">clone</code>
         <code class="literal">new</code>
        </td>
        <td><a href="language.oop5.cloning.html" class="link">clone</a> 和 <a href="language.oop5.basic.html#language.oop5.basic.new" class="link">new</a></td>
       </tr>

       <tr>
        <td>右</td>
        <td><code class="literal">**</code></td>
        <td><a href="language.operators.arithmetic.html" class="link">算术运算符</a></td>
       </tr>

       <tr>
        <td>不适用</td>
        <td>
         <code class="literal">++</code>
         <code class="literal">--</code>
         <code class="literal">~</code>
         <code class="literal">(int)</code>
         <code class="literal">(float)</code>
         <code class="literal">(string)</code>
         <code class="literal">(array)</code>
         <code class="literal">(object)</code>
         <code class="literal">(bool)</code>
         <code class="literal">@</code>
        </td>
        <td>
         <a href="language.types.html" class="link">类型</a>、<a href="language.operators.increment.html" class="link">递增／递减</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">instanceof</code></td>
        <td>
         <a href="language.types.html" class="link">类型</a>
        </td>
       </tr>

       <tr>
        <td>不适用</td>
        <td><code class="literal">!</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td>
         <code class="literal">*</code>
         <code class="literal">/</code>
         <code class="literal">%</code>
        </td>
        <td>
         <a href="language.operators.arithmetic.html" class="link">算术运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td>
         <code class="literal">+</code>
         <code class="literal">-</code>
         <code class="literal">.</code>
        </td>
        <td>
         <a href="language.operators.arithmetic.html" class="link">算术运算符</a> 和 <a href="language.operators.string.html" class="link">字符串运算符</a></td>
       </tr>

       <tr>
        <td>左</td>
        <td>
         <code class="literal">&lt;&lt;</code>
         <code class="literal">&gt;&gt;</code>
        </td>
        <td>
         <a href="language.operators.bitwise.html" class="link">位运算符</a>
        </td>
       </tr>

       <tr>
        <td>无</td>
        <td>
         <code class="literal">&lt;</code>
         <code class="literal">&lt;=</code>
         <code class="literal">&gt;</code>
         <code class="literal">&gt;=</code>
        </td>
        <td>
         <a href="language.operators.comparison.html" class="link">比较运算符</a>
        </td>
       </tr>

       <tr>
        <td>无</td>
        <td>
         <code class="literal">==</code>
         <code class="literal">!=</code>
         <code class="literal">===</code>
         <code class="literal">!==</code>
         <code class="literal">&lt;&gt;</code>
         <code class="literal">&lt;=&gt;</code>
        </td>
        <td>
         <a href="language.operators.comparison.html" class="link">比较运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">&amp;</code></td>
        <td>
         <a href="language.operators.bitwise.html" class="link">位运算符</a> 和 <a href="language.references.html" class="link">引用</a></td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">^</code></td>
        <td>
         <a href="language.operators.bitwise.html" class="link">位运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">|</code></td>
        <td>
         <a href="language.operators.bitwise.html" class="link">位运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">&amp;&amp;</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">||</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>右</td>
        <td><code class="literal">??</code></td>
        <td>
         <a href="language.operators.comparison.html#language.operators.comparison.coalesce" class="link">null 合并运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">? :</code></td>
        <td>
         <a href="language.operators.comparison.html#language.operators.comparison.ternary" class="link">三元运算符</a>
        </td>
       </tr>

       <tr>
        <td>右</td>
        <td>
         <code class="literal">=</code>
         <code class="literal">+=</code>
         <code class="literal">-=</code>
         <code class="literal">*=</code>
         <code class="literal">**=</code>
         <code class="literal">/=</code>
         <code class="literal">.=</code>
         <code class="literal">%=</code>
         <code class="literal">&amp;=</code>
         <code class="literal">|=</code>
         <code class="literal">^=</code>
         <code class="literal">&lt;&lt;=</code>
         <code class="literal">&gt;&gt;=</code>
         <code class="literal">??=</code>
        </td>
        <td>
         <a href="language.operators.assignment.html" class="link">赋值运算符</a>
        </td>
       </tr>

       <tr>
        <td>不适用</td>
        <td><code class="literal">yield from</code></td>
        <td>
         <a href="language.generators.syntax.html#control-structures.yield.from" class="link">yield from</a>
        </td>
       </tr>

       <tr>
        <td>不适用</td>
        <td><code class="literal">yield</code></td>
        <td>
         <a href="language.generators.syntax.html#control-structures.yield" class="link">yield</a>
        </td>
       </tr>

       <tr>
        <td>不适用</td>
        <td><code class="literal">print</code></td>
        <td><span class="function"><a href="function.print.html" class="function">print</a></span></td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">and</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">xor</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

       <tr>
        <td>左</td>
        <td><code class="literal">or</code></td>
        <td>
         <a href="language.operators.logical.html" class="link">逻辑运算符</a>
        </td>
       </tr>

      </tbody>
     
    </table>

   </p>
   <p class="para">
    <div class="example" id="example-106">
     <p><strong>Example #1 结合方向</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">%&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;(3&nbsp;*&nbsp;3)&nbsp;%&nbsp;5&nbsp;=&nbsp;4<br />//&nbsp;ternary&nbsp;operator&nbsp;associativity&nbsp;differs&nbsp;from&nbsp;C/C++<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;(true&nbsp;?&nbsp;0&nbsp;:&nbsp;true)&nbsp;?&nbsp;1&nbsp;:&nbsp;2&nbsp;=&nbsp;2<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$a&nbsp;=&nbsp;($b&nbsp;+=&nbsp;3)&nbsp;-&gt;&nbsp;$a&nbsp;=&nbsp;5,&nbsp;$b&nbsp;=&nbsp;5<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    Operator precedence and associativity only determine how expressions
    are grouped, they do not specify an order of evaluation. PHP does not
    (in the general case) specify in which order an expression is evaluated
    and code that assumes a specific order of evaluation should be avoided,
    because the behavior can change between versions of PHP or depending on
    the surrounding code.
    <div class="example" id="example-107">
     <p><strong>Example #2 Undefined order of evaluation</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;&nbsp;</span><span style="color: #FF8000">//&nbsp;may&nbsp;print&nbsp;either&nbsp;2&nbsp;or&nbsp;3<br /><br /></span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++;&nbsp;</span><span style="color: #FF8000">//&nbsp;may&nbsp;set&nbsp;either&nbsp;index&nbsp;1&nbsp;or&nbsp;2<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
    <div class="example" id="example-108">
     <p><strong>Example #3 <code class="literal">+</code>、<code class="literal">-</code> 、<code class="literal">.</code> 具有相同的优先级</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;this&nbsp;line&nbsp;might&nbsp;result&nbsp;in&nbsp;unexpected&nbsp;output:<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"x&nbsp;minus&nbsp;one&nbsp;equals&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">-</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">",&nbsp;or&nbsp;so&nbsp;I&nbsp;hope\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;because&nbsp;it&nbsp;is&nbsp;evaluated&nbsp;like&nbsp;this&nbsp;line:<br /></span><span style="color: #007700">echo&nbsp;((</span><span style="color: #DD0000">"x&nbsp;minus&nbsp;one&nbsp;equals&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">",&nbsp;or&nbsp;so&nbsp;I&nbsp;hope\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;the&nbsp;desired&nbsp;precedence&nbsp;can&nbsp;be&nbsp;enforced&nbsp;by&nbsp;using&nbsp;parentheses:<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"x&nbsp;minus&nbsp;one&nbsp;equals&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">",&nbsp;or&nbsp;so&nbsp;I&nbsp;hope\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>以上例程会输出：</p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
-1, or so I hope
-1, or so I hope
x minus one equals 3, or so I hope
</pre></div>
     </div>
    </div>
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     尽管 <code class="literal">=</code> 比其它大多数的运算符的优先级低，PHP
     仍旧允许类似如下的表达式：<code class="literal">if (!$a = foo())</code>，在此例中
     <code class="literal">foo()</code> 的返回值被赋给了 <var class="varname">$a</var>。
    </p>
   </p></blockquote>
  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="125753""></a>
  <div class="note">
   <strong class="user">anisgazig at gmail dot com</strong>
   <a href="#125753" class="date">01-Feb-2021 03:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Three types of operator associativity in php.<br />
1.left<br />
2.rigt<br />
3.non-associativity<br />
<br />
Category of three operators are right associativity<br />
1)**<br />
2)=,+=,-=,*=,/=,%=,&amp;=,^=,|=,&lt;&lt;=,&gt;&gt;=,??=,.=<br />
3)??<br />
<br />
Category of eight operators are non-associativity<br />
1)clone new<br />
2)++,--,~,@<br />
3)!<br />
4)&lt;,&lt;=,&gt;,&gt;=<br />
5)&lt;&lt;,&gt;&gt;<br />
6)yield from<br />
7)yield<br />
8)print<br />
<br />
Rest of the operators are left associativity</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124745""></a>
  <div class="note">
   <strong class="user">noone</strong>
   <a href="#124745" class="date">23-Feb-2020 02:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Something that threw me of guard and I hadn't found it mentioned anywhere is if you're looking to asign a value in an if statement condition and use the same value in the said condition and compare it to a different value note the precedence of operators.<br />
<br />
if($a=5&amp;&amp;$a==5){<br />
&nbsp; echo '5';<br />
} else {<br />
&nbsp; echo 'not 5';<br />
}<br />
//echos&nbsp; not 5<br />
<br />
You'll get a Notice:&nbsp; Undefined variable: a; <br />
This happens because the expression is treated as <br />
($a=5&amp;&amp;($a==5))<br />
In this case $a was undefined.<br />
<br />
Use parentheses to enforce the desired outcome or and instead of &amp;&amp;.<br />
if(($a=5)&amp;&amp;$a==5){ // or $a=5 and $a==5<br />
&nbsp; echo '5';<br />
} else {<br />
&nbsp; echo 'not 5';<br />
}<br />
<br />
//echos&nbsp; 5<br />
<br />
We get no notice!<br />
<br />
A use case for this can be a three part condition that first checks if a value is valid, second assigns a new variable based on the first value and then checks if the result is valid.<br />
<br />
$ID=100;<br />
<br />
if ($ID&amp;&amp;($data=get_table_row_for_ID($ID))&amp;&amp;$data-&gt;is_valid()) { //NOTE: assigned $data<br />
&nbsp;// do something with the data<br />
}<br />
<br />
If assigning variables in an if condition I recommend adding a comment at the end of the line that such an action took place.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121509""></a>
  <div class="note">
   <strong class="user">aaronw at catalyst dot net dot nz</strong>
   <a href="#121509" class="date">11-Aug-2017 01:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you've come here looking for a full list of PHP operators, take note that the table here is *not* complete. There are some additional operators (or operator-ish punctuation tokens) that are not included here, such as "-&gt;", "::", and "...".<br />
<br />
For a really comprehensive list, take a look at the "List of Parser Tokens" page: <a href="http://php.net/manual/en/tokens.php" rel="nofollow" target="_blank">http://php.net/manual/en/tokens.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121011""></a>
  <div class="note">
   <strong class="user">ivan at dilber dot info</strong>
   <a href="#121011" class="date">24-Apr-2017 03:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php <br />
</span><span class="comment">// Another tricky thing here is using &amp;&amp; or || with ternary ?:<br />
</span><span class="default">$x </span><span class="keyword">&amp;&amp; </span><span class="default">$y </span><span class="keyword">? </span><span class="default">$a </span><span class="keyword">: </span><span class="default">$b</span><span class="keyword">;&nbsp; </span><span class="comment">// ($x &amp;&amp; $y) ? $a : $b;<br />
<br />
// while:<br />
</span><span class="default">$x </span><span class="keyword">and </span><span class="default">$y </span><span class="keyword">? </span><span class="default">$a </span><span class="keyword">: </span><span class="default">$b</span><span class="keyword">;&nbsp; </span><span class="comment">// $x and ($y ? $a : $b);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118296""></a>
  <div class="note">
   <strong class="user">karlisd at gmail dot com</strong>
   <a href="#118296" class="date">10-Nov-2015 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes it's easier to understand things in your own examples.<br />
If you want to play around operator precedence and look which tests will be made, you can play around with this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">F</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) {echo </span><span class="default">$v</span><span class="keyword">.</span><span class="string">" "</span><span class="keyword">; return </span><span class="default">false</span><span class="keyword">;}<br />
function </span><span class="default">T</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) {echo </span><span class="default">$v</span><span class="keyword">.</span><span class="string">" "</span><span class="keyword">; return </span><span class="default">true</span><span class="keyword">;}<br />
<br />
IF (</span><span class="default">F</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">) || </span><span class="default">T</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">) &amp;&amp; </span><span class="default">F</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">)&nbsp; || </span><span class="default">F</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">)&nbsp; &amp;&amp; ! </span><span class="default">F</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">) ) {<br />
&nbsp; echo </span><span class="string">"true"</span><span class="keyword">;<br />
} else echo </span><span class="string">" false"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>Now put in IF arguments f for false and t for true, put in them some ID's. Play out by changing "F" to "T" and vice versa, by keeping your ID the same. See output and you will know which arguments&nbsp; actualy were checked.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117390""></a>
  <div class="note">
   <strong class="user">fabmlk</strong>
   <a href="#117390" class="date">02-Jun-2015 05:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Watch out for the difference of priority between 'and vs &amp;&amp;' or '|| vs or':<br />
<span class="default">&lt;?php<br />
$bool </span><span class="keyword">= </span><span class="default">true </span><span class="keyword">&amp;&amp; </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bool</span><span class="keyword">); </span><span class="comment">// false, that's expected<br />
<br />
</span><span class="default">$bool </span><span class="keyword">= </span><span class="default">true </span><span class="keyword">and </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bool</span><span class="keyword">); </span><span class="comment">// true, ouch!<br />
</span><span class="default">?&gt;<br />
</span>Because 'and/or' have lower priority than '=' but '||/&amp;&amp;' have higher.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109325""></a>
  <div class="note">
   <strong class="user">Carsten Milkau</strong>
   <a href="#109325" class="date">06-Jul-2012 12:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware the unusual order of bit-wise operators and comparison operators, this has often lead to bugs in my experience. For instance:<br />
<br />
<span class="default">&lt;?php </span><span class="keyword">if ( </span><span class="default">$flags </span><span class="keyword">&amp; </span><span class="default">MASK&nbsp; </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) </span><span class="default">do_something</span><span class="keyword">(); </span><span class="default">?&gt;<br />
</span><br />
will not do what you might expect from other languages. Use<br />
<br />
<span class="default">&lt;?php </span><span class="keyword">if ((</span><span class="default">$flags </span><span class="keyword">&amp; </span><span class="default">MASK</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">) </span><span class="default">do_something</span><span class="keyword">(); </span><span class="default">?&gt;<br />
</span><br />
in PHP instead.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
