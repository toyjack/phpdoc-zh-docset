<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>The DOMDocument class</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="domcomment.construct.html">? DOMComment::__construct</a></li>
      <li style="float: right;"><a href="domdocument.construct.html">DOMDocument::__construct ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.dom.html">DOM</a></li>
    <li>The DOMDocument class</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="class.domdocument" class="reference">
 <h1 class="title">The DOMDocument class</h1>
 
 
 <div class="partintro"><p class="verinfo">(PHP 5, PHP 7)</p>
 

  <div class="section" id="domdocument.intro">
   <h2 class="title">简介</h2>
   <p class="para">
    Represents an entire HTML or XML document; serves as the root of the
    document tree.
   </p>
  </div>

 
  <div class="section" id="domdocument.synopsis">
   <h2 class="title">类摘要</h2>
 

   <div class="classsynopsis">
    <div class="ooclass"></div>
 

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <strong class="classname">DOMDocument</strong>
     </span>
 

     <span class="ooclass">
      <span class="modifier">extends</span>
      <a href="class.domnode.html" class="classname">DOMNode</a>
     </span>
 
     {</div>

 
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 属性 */</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.actualencoding">$<var class="varname">actualEncoding</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type DOMConfiguration">DOMConfiguration</span></span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.config">$<var class="varname">config</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="class.domdocumenttype.html" class="type DOMDocumentType">DOMDocumentType</a></span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.doctype">$<var class="varname">doctype</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="class.domelement.html" class="type DOMElement">DOMElement</a></span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.documentelement">$<var class="varname">documentElement</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type"><span class="type">string</span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.documenturi">$<var class="varname">documentURI</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.encoding">$<var class="varname">encoding</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.formatoutput">$<var class="varname">formatOutput</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="class.domimplementation.html" class="type DOMImplementation">DOMImplementation</a></span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.implementation">$<var class="varname">implementation</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.preservewhitespace">$<var class="varname">preserveWhiteSpace</var></a></var>
     <span class="initializer"> = <strong><code>true</code></strong></span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.recover">$<var class="varname">recover</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.resolveexternals">$<var class="varname">resolveExternals</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.standalone">$<var class="varname">standalone</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.stricterrorchecking">$<var class="varname">strictErrorChecking</var></a></var>
     <span class="initializer"> = <strong><code>true</code></strong></span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.substituteentities">$<var class="varname">substituteEntities</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.validateonparse">$<var class="varname">validateOnParse</var></a></var>
     <span class="initializer"> = <strong><code>false</code></strong></span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.version">$<var class="varname">version</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type">string</span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.xmlencoding">$<var class="varname">xmlEncoding</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">bool</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.xmlstandalone">$<var class="varname">xmlStandalone</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domdocument.html#domdocument.props.xmlversion">$<var class="varname">xmlVersion</var></a></var>
    ;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 继承的属性 */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domnode.html#domnode.props.nodename">$<var class="varname">nodeName</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domnode.html#domnode.props.nodevalue">$<var class="varname">nodeValue</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">int</span>
      <var class="varname"><a href="class.domnode.html#domnode.props.nodetype">$<var class="varname">nodeType</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.parentnode">$<var class="varname">parentNode</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><a href="class.domnodelist.html" class="type DOMNodeList">DOMNodeList</a></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.childnodes">$<var class="varname">childNodes</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.firstchild">$<var class="varname">firstChild</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.lastchild">$<var class="varname">lastChild</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.previoussibling">$<var class="varname">previousSibling</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.nextsibling">$<var class="varname">nextSibling</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type"><a href="class.domnamednodemap.html" class="type DOMNamedNodeMap">DOMNamedNodeMap</a></span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.attributes">$<var class="varname">attributes</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type"><a href="class.domdocument.html" class="type DOMDocument">DOMDocument</a></span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.ownerdocument">$<var class="varname">ownerDocument</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type">string</span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.namespaceuri">$<var class="varname">namespaceURI</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domnode.html#domnode.props.prefix">$<var class="varname">prefix</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domnode.html#domnode.props.localname">$<var class="varname">localName</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type">string</span>|<span class="type">null</span></span>
      <var class="varname"><a href="class.domnode.html#domnode.props.baseuri">$<var class="varname">baseURI</var></a></var>
    ;</div>
<div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.domnode.html#domnode.props.textcontent">$<var class="varname">textContent</var></a></var>
    ;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 方法 */</div>
    <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.construct.html" class="methodname">__construct</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$version</code><span class="initializer"> = &quot;1.0&quot;</span></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$encoding</code><span class="initializer"> = &quot;&quot;</span></span>
   )</div>

    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createattribute.html" class="methodname">createAttribute</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$localName</code></span>
   ) : <span class="type"><span class="type"><a href="class.domattr.html" class="type DOMAttr">DOMAttr</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createattributens.html" class="methodname">createAttributeNS</a></span>
    ( <span class="methodparam"><span class="type"><span class="type">string</span>|<span class="type">null</span></span> <code class="parameter">$namespace</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$qualifiedName</code></span>
   ) : <span class="type"><span class="type"><a href="class.domattr.html" class="type DOMAttr">DOMAttr</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createcdatasection.html" class="methodname">createCDATASection</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code></span>
   ) : <span class="type"><span class="type"><a href="class.domcdatasection.html" class="type DOMCdataSection">DOMCdataSection</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createcomment.html" class="methodname">createComment</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code></span>
   ) : <span class="type"><span class="type"><a href="class.domcomment.html" class="type DOMComment">DOMComment</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createdocumentfragment.html" class="methodname">createDocumentFragment</a></span>
    (
   ) : <span class="type"><span class="type"><a href="class.domdocumentfragment.html" class="type DOMDocumentFragment">DOMDocumentFragment</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createelement.html" class="methodname">createElement</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$localName</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$value</code><span class="initializer"> = &quot;&quot;</span></span>
   ) : <span class="type"><span class="type"><a href="class.domelement.html" class="type DOMElement">DOMElement</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createelementns.html" class="methodname">createElementNS</a></span>
    ( <span class="methodparam"><span class="type"><span class="type">string</span>|<span class="type">null</span></span> <code class="parameter">$namespace</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$qualifiedName</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$value</code><span class="initializer"> = &quot;&quot;</span></span>
   ) : <span class="type"><span class="type"><a href="class.domelement.html" class="type DOMElement">DOMElement</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createentityreference.html" class="methodname">createEntityReference</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   ) : <span class="type"><span class="type"><a href="class.domentityreference.html" class="type DOMEntityReference">DOMEntityReference</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createprocessinginstruction.html" class="methodname">createProcessingInstruction</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$target</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code><span class="initializer"> = &quot;&quot;</span></span>
   ) : <span class="type"><span class="type"><a href="class.domprocessinginstruction.html" class="type DOMProcessingInstruction">DOMProcessingInstruction</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.createtextnode.html" class="methodname">createTextNode</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code></span>
   ) : <span class="type"><span class="type"><a href="class.domtext.html" class="type DOMText">DOMText</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.getelementbyid.html" class="methodname">getElementById</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$elementId</code></span>
   ) : <span class="type"><span class="type"><a href="class.domelement.html" class="type DOMElement">DOMElement</a></span>|<span class="type">null</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.getelementsbytagname.html" class="methodname">getElementsByTagName</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$qualifiedName</code></span>
   ) : <span class="type"><a href="class.domnodelist.html" class="type DOMNodeList">DOMNodeList</a></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.getelementsbytagnamens.html" class="methodname">getElementsByTagNameNS</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$namespace</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$localName</code></span>
   ) : <span class="type"><a href="class.domnodelist.html" class="type DOMNodeList">DOMNodeList</a></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.importnode.html" class="methodname">importNode</a></span>
    ( <span class="methodparam"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span> <code class="parameter">$node</code></span>
   , <span class="methodparam"><span class="type">bool</span> <code class="parameter">$deep</code><span class="initializer"> = <strong><code>false</code></strong></span></span>
   ) : <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.load.html" class="methodname">load</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>
   ) : <span class="type"><span class="type"><a href="class.domdocument.html" class="type DOMDocument">DOMDocument</a></span>|<span class="type">bool</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.loadhtml.html" class="methodname">loadHTML</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$source</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>
   ) : <span class="type"><span class="type"><a href="class.domdocument.html" class="type DOMDocument">DOMDocument</a></span>|<span class="type">bool</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.loadhtmlfile.html" class="methodname">loadHTMLFile</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>
   ) : <span class="type"><span class="type"><a href="class.domdocument.html" class="type DOMDocument">DOMDocument</a></span>|<span class="type">bool</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.loadxml.html" class="methodname">loadXML</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$source</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>
   ) : <span class="type"><span class="type"><a href="class.domdocument.html" class="type DOMDocument">DOMDocument</a></span>|<span class="type">bool</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.normalizedocument.html" class="methodname">normalizeDocument</a></span>
    (
   ) : <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.registernodeclass.html" class="methodname">registerNodeClass</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$baseClass</code></span>
   , <span class="methodparam"><span class="type"><span class="type">string</span>|<span class="type">null</span></span> <code class="parameter">$extendedClass</code></span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.relaxngvalidate.html" class="methodname">relaxNGValidate</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.relaxngvalidatesource.html" class="methodname">relaxNGValidateSource</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$source</code></span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.save.html" class="methodname">save</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>
   ) : <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.savehtml.html" class="methodname">saveHTML</a></span>
    ( <span class="methodparam"><span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type">null</span></span> <code class="parameter">$node</code><span class="initializer"> = <strong><code>null</code></strong></span></span>
   ) : <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.savehtmlfile.html" class="methodname">saveHTMLFile</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   ) : <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.savexml.html" class="methodname">saveXML</a></span>
    ( <span class="methodparam"><span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type">null</span></span> <code class="parameter">$node</code><span class="initializer"> = <strong><code>null</code></strong></span></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>
   ) : <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.schemavalidate.html" class="methodname">schemaValidate</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.schemavalidatesource.html" class="methodname">schemaValidateSource</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$source</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.validate.html" class="methodname">validate</a></span>
    (
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domdocument.xinclude.html" class="methodname">xinclude</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>
   ) : <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>

 

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 继承的方法 */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.appendchild.html" class="methodname">DOMNode::appendChild</a></span>
    ( <span class="methodparam"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span> <code class="parameter">$node</code></span>
   ) : <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.c14n.html" class="methodname">DOMNode::C14N</a></span>
    ( <span class="methodparam"><span class="type">bool</span> <code class="parameter">$exclusive</code><span class="initializer"> = <strong><code>false</code></strong></span></span>
   , <span class="methodparam"><span class="type">bool</span> <code class="parameter">$withComments</code><span class="initializer"> = <strong><code>false</code></strong></span></span>
   , <span class="methodparam"><span class="type"><span class="type">array</span>|<span class="type">null</span></span> <code class="parameter">$xpath</code><span class="initializer"> = <strong><code>null</code></strong></span></span>
   , <span class="methodparam"><span class="type"><span class="type">array</span>|<span class="type">null</span></span> <code class="parameter">$nsPrefixes</code><span class="initializer"> = <strong><code>null</code></strong></span></span>
   ) : <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.c14nfile.html" class="methodname">DOMNode::C14NFile</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$uri</code></span>
   , <span class="methodparam"><span class="type">bool</span> <code class="parameter">$exclusive</code><span class="initializer"> = <strong><code>false</code></strong></span></span>
   , <span class="methodparam"><span class="type">bool</span> <code class="parameter">$withComments</code><span class="initializer"> = <strong><code>false</code></strong></span></span>
   , <span class="methodparam"><span class="type"><span class="type">array</span>|<span class="type">null</span></span> <code class="parameter">$xpath</code><span class="initializer"> = <strong><code>null</code></strong></span></span>
   , <span class="methodparam"><span class="type"><span class="type">array</span>|<span class="type">null</span></span> <code class="parameter">$nsPrefixes</code><span class="initializer"> = <strong><code>null</code></strong></span></span>
   ) : <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.clonenode.html" class="methodname">DOMNode::cloneNode</a></span>
    ( <span class="methodparam"><span class="type">bool</span> <code class="parameter">$deep</code><span class="initializer"> = <strong><code>false</code></strong></span></span>
   ) : <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.getlineno.html" class="methodname">DOMNode::getLineNo</a></span>
    (
   ) : <span class="type">int</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.getnodepath.html" class="methodname">DOMNode::getNodePath</a></span>
    (
   ) : <span class="type"><span class="type">string</span>|<span class="type">null</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.hasattributes.html" class="methodname">DOMNode::hasAttributes</a></span>
    (
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.haschildnodes.html" class="methodname">DOMNode::hasChildNodes</a></span>
    (
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.insertbefore.html" class="methodname">DOMNode::insertBefore</a></span>
    ( <span class="methodparam"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span> <code class="parameter">$node</code></span>
   , <span class="methodparam"><span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type">null</span></span> <code class="parameter">$child</code><span class="initializer"> = <strong><code>null</code></strong></span></span>
   ) : <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.isdefaultnamespace.html" class="methodname">DOMNode::isDefaultNamespace</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$namespace</code></span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.issamenode.html" class="methodname">DOMNode::isSameNode</a></span>
    ( <span class="methodparam"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span> <code class="parameter">$otherNode</code></span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.issupported.html" class="methodname">DOMNode::isSupported</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$feature</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$version</code></span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.lookupnamespaceuri.html" class="methodname">DOMNode::lookupNamespaceUri</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$prefix</code></span>
   ) : <span class="type">string</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.lookupprefix.html" class="methodname">DOMNode::lookupPrefix</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$namespace</code></span>
   ) : <span class="type"><span class="type">string</span>|<span class="type">null</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.normalize.html" class="methodname">DOMNode::normalize</a></span>
    (
   ) : <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.removechild.html" class="methodname">DOMNode::removeChild</a></span>
    ( <span class="methodparam"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span> <code class="parameter">$child</code></span>
   ) : <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="domnode.replacechild.html" class="methodname">DOMNode::replaceChild</a></span>
    ( <span class="methodparam"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span> <code class="parameter">$node</code></span>
   , <span class="methodparam"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span> <code class="parameter">$child</code></span>
   ) : <span class="type"><span class="type"><a href="class.domnode.html" class="type DOMNode">DOMNode</a></span>|<span class="type"><span class="type false">false</span></span></span></div>


   }</div>

 
  </div>
 

  <div class="section" id="domdocument.props">
   <h2 class="title">属性</h2>
   <dl>

    
     <dt id="domdocument.props.actualencoding"><var class="varname">actualEncoding</var></dt>

     <dd>

      <p class="para">
       <em class="emphasis">Deprecated</em>. Actual encoding of the document,
       is a readonly equivalent to
       <var class="varname">encoding</var>.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.config"><var class="varname">config</var></dt>

     <dd>

      <p class="para">
       <em class="emphasis">Deprecated</em>. Configuration used when
       <span class="function"><a href="domdocument.normalizedocument.html" class="function">DOMDocument::normalizeDocument()</a></span> is
       invoked.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.doctype"><var class="varname">doctype</var></dt>

     <dd>

      <p class="para">The Document Type Declaration associated with this document.</p>
     </dd>

    
    
     <dt id="domdocument.props.documentelement"><var class="varname">documentElement</var></dt>

     <dd>

      <p class="para">
       This is a convenience attribute that allows direct access to the
       child node that is the document element of the document.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.documenturi"><var class="varname">documentURI</var></dt>

     <dd>

      <p class="para">The location of the document or <strong><code>null</code></strong> if undefined.</p>
     </dd>

    
    
     <dt id="domdocument.props.encoding"><var class="varname">encoding</var></dt>

     <dd>

      <p class="para">
       Encoding of the document, as specified by the XML declaration. This
       attribute is not present in the final DOM Level 3 specification, but
       is the only way of manipulating XML document encoding in this
       implementation.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.formatoutput"><var class="varname">formatOutput</var></dt>

     <dd>

      <p class="para">
       Nicely formats output with indentation and extra space.
       This has no effect if the document was loaded with
       <var class="varname">preserveWhitespace</var> enabled.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.implementation"><var class="varname">implementation</var></dt>

     <dd>

      <p class="para">
       The <a href="class.domimplementation.html" class="classname">DOMImplementation</a> object that handles 
       this document.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.preservewhitespace"><var class="varname">preserveWhiteSpace</var></dt>

     <dd>

      <p class="para">
       Do not remove redundant white space. Default to <strong><code>true</code></strong>.
       Setting this to <strong><code>false</code></strong> has the same effect as passing <strong><code>LIBXML_NOBLANKS</code></strong>
       as <code class="parameter">option</code> to <span class="methodname"><a href="domdocument.load.html" class="methodname">DOMDocument::load()</a></span> etc.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.recover"><var class="varname">recover</var></dt>

     <dd>

      <p class="para">
       <em class="emphasis">Proprietary</em>. Enables recovery mode, i.e. trying
       to parse non-well formed documents. This attribute is not part of
       the DOM specification and is specific to libxml.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.resolveexternals"><var class="varname">resolveExternals</var></dt>

     <dd>

      <p class="para">
       Set it to <strong><code>true</code></strong> to load external entities from a doctype 
       declaration. This is useful for including character entities in
       your XML document.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.standalone"><var class="varname">standalone</var></dt>

     <dd>

      <p class="para">
       <em class="emphasis">Deprecated</em>. Whether or not the document is
       standalone, as specified by the XML declaration, corresponds to
       <var class="varname">xmlStandalone</var>.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.stricterrorchecking"><var class="varname">strictErrorChecking</var></dt>

     <dd>

      <p class="para">Throws <a href="class.domexception.html" class="classname">DOMException</a> on errors. Default to <strong><code>true</code></strong>.</p>
     </dd>

    
    
     <dt id="domdocument.props.substituteentities"><var class="varname">substituteEntities</var></dt>

     <dd>

      <p class="para">
       <em class="emphasis">Proprietary</em>. Whether or not to substitute
       entities. This attribute is not part of
       the DOM specification and is specific to libxml.
      </p>
      <div class="caution"><strong class="caution">Caution</strong>
       <p class="simpara">
        Enabling entity substitution may facilitate XML External Entity (XXE) attacks.
       </p>
      </div>
     </dd>

    
    
     <dt id="domdocument.props.validateonparse"><var class="varname">validateOnParse</var></dt>

     <dd>

      <p class="para">Loads and validates against the DTD. Default to <strong><code>false</code></strong>.</p>
     </dd>

    
    
     <dt id="domdocument.props.version"><var class="varname">version</var></dt>

     <dd>

      <p class="para">
       <em class="emphasis">Deprecated</em>. Version of XML, corresponds to
       <var class="varname">xmlVersion</var>.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.xmlencoding"><var class="varname">xmlEncoding</var></dt>

     <dd>

      <p class="para">
       An attribute specifying, as part of the XML declaration, the
       encoding of this document. This is <strong><code>null</code></strong> when unspecified or when it
       is not known, such as when the Document was created in memory.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.xmlstandalone"><var class="varname">xmlStandalone</var></dt>

     <dd>

      <p class="para">
       An attribute specifying, as part of the XML declaration, whether
       this document is standalone. This is <strong><code>false</code></strong> when unspecified.
      </p>
     </dd>

    
    
     <dt id="domdocument.props.xmlversion"><var class="varname">xmlVersion</var></dt>

     <dd>

      <p class="para">
       An attribute specifying, as part of the XML declaration, the
       version number of this document. If there is no declaration and if
       this document supports the &quot;XML&quot; feature, the value is &quot;1.0&quot;.
      </p>
     </dd>

    
   </dl>

  </div>



  <div class="section">
   <h2 class="title">注释</h2>
   <blockquote class="note"><p><strong class="note">Note</strong>: <p class="para">此 DOM 扩展采用 UTF-8 编码。在 ISO-8859-1 编码下，使用 <span class="function"><a href="function.utf8-encode.html" class="function">utf8_encode()</a></span> 和 <span class="function"><a href="function.utf8-decode.html" class="function">utf8_decode()</a></span> 来处理，其它编码下使用 <a href="ref.iconv.html" class="link">iconv</a> 函数处理。</p></p></blockquote>
   <blockquote class="note"><p><strong class="note">Note</strong>: <p class="para">When using <span class="function"><a href="function.json-encode.html" class="function">json_encode()</a></span> on a <strong class="classname">DOMDocument</strong> object the result will be that of encoding an empty object.</p></p></blockquote>
  </div>

  

  <div class="section">
   <h2 class="title">参见</h2>
   <p class="para">
    <ul class="simplelist">
     <li class="member"><a href="http://www.w3.org/TR/2003/WD-DOM-Level-3-Core-20030226/DOM3-Core.html#core-i-Document" class="link external" title="Link : http://www.w3.org/TR/2003/WD-DOM-Level-3-Core-20030226/DOM3-Core.html#core-i-Document">&raquo;&nbsp;W3C specification for Document</a></li>
    </ul>
   </p>
  </div>

 
 </div>
 
 
































































































































































 
<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="domdocument.construct.html">DOMDocument::__construct</a> &mdash; Creates a new DOMDocument object</li><li><a href="domdocument.createattribute.html">DOMDocument::createAttribute</a> &mdash; Create new attribute</li><li><a href="domdocument.createattributens.html">DOMDocument::createAttributeNS</a> &mdash; Create new attribute node with an associated namespace</li><li><a href="domdocument.createcdatasection.html">DOMDocument::createCDATASection</a> &mdash; Create new cdata node</li><li><a href="domdocument.createcomment.html">DOMDocument::createComment</a> &mdash; Create new comment node</li><li><a href="domdocument.createdocumentfragment.html">DOMDocument::createDocumentFragment</a> &mdash; Create new document fragment</li><li><a href="domdocument.createelement.html">DOMDocument::createElement</a> &mdash; Create new element node</li><li><a href="domdocument.createelementns.html">DOMDocument::createElementNS</a> &mdash; Create new element node with an associated namespace</li><li><a href="domdocument.createentityreference.html">DOMDocument::createEntityReference</a> &mdash; Create new entity reference node</li><li><a href="domdocument.createprocessinginstruction.html">DOMDocument::createProcessingInstruction</a> &mdash; Creates new PI node</li><li><a href="domdocument.createtextnode.html">DOMDocument::createTextNode</a> &mdash; Create new text node</li><li><a href="domdocument.getelementbyid.html">DOMDocument::getElementById</a> &mdash; Searches for an element with a certain id</li><li><a href="domdocument.getelementsbytagname.html">DOMDocument::getElementsByTagName</a> &mdash; Searches for all elements with given local tag name</li><li><a href="domdocument.getelementsbytagnamens.html">DOMDocument::getElementsByTagNameNS</a> &mdash; Searches for all elements with given tag name in specified namespace</li><li><a href="domdocument.importnode.html">DOMDocument::importNode</a> &mdash; Import node into current document</li><li><a href="domdocument.load.html">DOMDocument::load</a> &mdash; Load XML from a file</li><li><a href="domdocument.loadhtml.html">DOMDocument::loadHTML</a> &mdash; Load HTML from a string</li><li><a href="domdocument.loadhtmlfile.html">DOMDocument::loadHTMLFile</a> &mdash; Load HTML from a file</li><li><a href="domdocument.loadxml.html">DOMDocument::loadXML</a> &mdash; Load XML from a string</li><li><a href="domdocument.normalizedocument.html">DOMDocument::normalizeDocument</a> &mdash; Normalizes the document</li><li><a href="domdocument.registernodeclass.html">DOMDocument::registerNodeClass</a> &mdash; Register extended class used to create base node type</li><li><a href="domdocument.relaxngvalidate.html">DOMDocument::relaxNGValidate</a> &mdash; Performs relaxNG validation on the document</li><li><a href="domdocument.relaxngvalidatesource.html">DOMDocument::relaxNGValidateSource</a> &mdash; Performs relaxNG validation on the document</li><li><a href="domdocument.save.html">DOMDocument::save</a> &mdash; Dumps the internal XML tree back into a file</li><li><a href="domdocument.savehtml.html">DOMDocument::saveHTML</a> &mdash; Dumps the internal document into a string using HTML formatting</li><li><a href="domdocument.savehtmlfile.html">DOMDocument::saveHTMLFile</a> &mdash; Dumps the internal document into a file using HTML formatting</li><li><a href="domdocument.savexml.html">DOMDocument::saveXML</a> &mdash; Dumps the internal XML tree back into a string</li><li><a href="domdocument.schemavalidate.html">DOMDocument::schemaValidate</a> &mdash; Validates a document based on a schema. Only XML Schema 1.0 is supported.</li><li><a href="domdocument.schemavalidatesource.html">DOMDocument::schemaValidateSource</a> &mdash; Validates a document based on a schema</li><li><a href="domdocument.validate.html">DOMDocument::validate</a> &mdash; Validates the document based on its DTD</li><li><a href="domdocument.xinclude.html">DOMDocument::xinclude</a> &mdash; Substitutes XIncludes in a DOMDocument Object</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122917""></a>
  <div class="note">
   <strong class="user">ashjkshdu283 at gmail dot com</strong>
   <a href="#122917" class="date">07-Jul-2018 11:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/* Function evolved from jay at jaygilford dot com post<br />
&nbsp; * This function will return an array of the values of the specified<br />
&nbsp; * attribute ($attr) for all the Dom Document object's elements <br />
&nbsp; */<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">getAttrData</span><span class="keyword">(</span><span class="default">string $attr</span><span class="keyword">, </span><span class="default">DomDocument $dom</span><span class="keyword">) { <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Empty array to hold all classes to return <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$attrData </span><span class="keyword">= array(); <br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Loop through each tag in the dom and add it's attribute data to the array <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">'*'</span><span class="keyword">) as </span><span class="default">$tag</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(empty(</span><span class="default">$tag</span><span class="keyword">-&gt;</span><span class="default">getAttribute</span><span class="keyword">(</span><span class="default">$attr</span><span class="keyword">)) === </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$attrData</span><span class="keyword">, </span><span class="default">$tag</span><span class="keyword">-&gt;</span><span class="default">getAttribute</span><span class="keyword">(</span><span class="default">$attr</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; } <br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Return the array of attribute data<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$attrData</span><span class="keyword">); <br />
}<br />
<br />
</span><span class="default">$html </span><span class="keyword">= </span><span class="string">'<br />
&lt;!DOCTYPE html&gt;<br />
&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;Page Title&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;a href="#someLink" id="someLink" class="link-class"&gt;Some Link&lt;/a&gt;<br />
&lt;a href="#someOtherLink" id="someOtherLink" class="link-class"&gt;Some Other Link&lt;/a&gt;<br />
&lt;h1 id="header1" class="header-class"&gt;My First Heading&lt;/h1&gt;<br />
&lt;p id="para1" class="para-class"&gt;My first paragraph.&lt;/p&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;'</span><span class="keyword">;<br />
</span><span class="default">$dom </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br />
</span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">loadHtml</span><span class="keyword">(</span><span class="default">$html</span><span class="keyword">);<br />
</span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">saveHTML</span><span class="keyword">();<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">getAttrData</span><span class="keyword">(</span><span class="string">'class'</span><span class="keyword">, </span><span class="default">$dom</span><span class="keyword">));</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119775""></a>
  <div class="note">
   <strong class="user">biker dot mike at gmx dot com</strong>
   <a href="#119775" class="date">22-Aug-2016 01:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Look out for the following gotcha when loading XML from a string:<br />
<br />
<span class="default">&lt;?php<br />
$doc </span><span class="keyword">= new \</span><span class="default">DOMDocument</span><span class="keyword">;<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">documentURI </span><span class="keyword">= </span><span class="default">$myXmlFilename</span><span class="keyword">;<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">loadXML</span><span class="keyword">(</span><span class="default">$myXmlString</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
documentURI is now set to the value of $myXmlFilename, right?<br />
<br />
Wrong!<br />
<br />
It's set to the current working directory.&nbsp; If you want to manually set documentURI to something other than the CWD, do so AFTER the call to loadXML().<br />
<br />
E.g.:<br />
<span class="default">&lt;?php<br />
$doc </span><span class="keyword">= new \</span><span class="default">DOMDocument</span><span class="keyword">;<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">loadXML</span><span class="keyword">(</span><span class="default">$myXmlString</span><span class="keyword">);<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">documentURI </span><span class="keyword">= </span><span class="default">$myXmlFilename</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
documentURI really is now set to the value of $myXmlFilename.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118509""></a>
  <div class="note">
   <strong class="user">developer at nabtron dot com</strong>
   <a href="#118509" class="date">17-Dec-2015 07:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those landing here and checking for encoding issue with utf-8 characteres, it's pretty easy to correct it, without adding any additional output tag to your html.<br />
<br />
We'll be utilizing: mb_convert_encoding<br />
<br />
Thanks to the user who shared: SmartDOMDocument in previous comments, I got the idea of solving it. However I truly wish that he shared the method instead of giving a link.<br />
<br />
Anyway coming back to the solution, you can simply use:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// checks if the content we're receiving isn't empty, to avoid the warning<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if ( empty( </span><span class="default">$content </span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// converts all special characters to utf-8<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$content </span><span class="keyword">= </span><span class="default">mb_convert_encoding</span><span class="keyword">(</span><span class="default">$content</span><span class="keyword">, </span><span class="string">'HTML-ENTITIES'</span><span class="keyword">, </span><span class="string">'UTF-8'</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// creating new document<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$doc </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">, </span><span class="string">'utf-8'</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//turning off some errors<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">libxml_use_internal_errors</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// it loads the content without adding enclosing html/body tags and also the doctype declaration<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">LoadHTML</span><span class="keyword">(</span><span class="default">$content</span><span class="keyword">, </span><span class="default">LIBXML_HTML_NOIMPLIED </span><span class="keyword">| </span><span class="default">LIBXML_HTML_NODEFDTD</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// do whatever you want to do with this code now<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope it solves the issue for someone! If you need my help or service to fix your code, you can reach me on nabtron.com or contact me at the email mentioned with this comment.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117274""></a>
  <div class="note">
   <strong class="user">ingjetel at gmail dot com</strong>
   <a href="#117274" class="date">13-May-2015 11:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Easy function for basic output of XML file via DOM parsing<br />
<br />
<span class="default">&lt;?php<br />
$dom </span><span class="keyword">= new </span><span class="default">DomDocument</span><span class="keyword">();<br />
</span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">load</span><span class="keyword">(</span><span class="string">"./file.xml"</span><span class="keyword">) or die(</span><span class="string">"error"</span><span class="keyword">);<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">;<br />
</span><span class="default">fc</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">);<br />
<br />
function </span><span class="default">fc</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$child </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">;<br />
&nbsp; foreach(</span><span class="default">$child </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">nodeType </span><span class="keyword">== </span><span class="default">XML_TEXT_NODE</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">))) echo </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">).</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else if (</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">nodeType </span><span class="keyword">== </span><span class="default">XML_ELEMENT_NODE</span><span class="keyword">) </span><span class="default">fc</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116118""></a>
  <div class="note">
   <strong class="user">qrworld.net</strong>
   <a href="#116118" class="date">11-Nov-2014 04:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In this post <a href="http://softontherocks.blogspot.com/2014/11/descargar-el-contenido-de-una-url_11.html I found a simple way to get the content of a URL with DOMDocument, loadHTMLFile and saveHTML(" rel="nofollow" target="_blank">http://softontherocks.blogspot.com/2014/11/descargar-el-contenido-de-una-url_11.html I found a simple way to get the content of a URL with DOMDocument, loadHTMLFile and saveHTML(</a>).<br />
<br />
function getURLContent($url){<br />
&nbsp;&nbsp;&nbsp; $doc = new DOMDocument;<br />
&nbsp;&nbsp;&nbsp; $doc-&gt;preserveWhiteSpace = FALSE;<br />
&nbsp;&nbsp;&nbsp; @$doc-&gt;loadHTMLFile($url);<br />
&nbsp;&nbsp;&nbsp; return $doc-&gt;saveHTML();<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113545""></a>
  <div class="note">
   <strong class="user">danny dot nunez15 at gmail dot com</strong>
   <a href="#113545" class="date">28-Oct-2013 02:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple function to grab all links in a page. <br />
<br />
&nbsp;&nbsp;&nbsp; function get_links($url) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Create a new DOM Document to hold our webpage structure <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $xml = new DOMDocument();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Load the url's contents into the DOM <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $xml-&gt;loadHTMLFile($url);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Empty array to hold all links to return <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $links = array();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //Loop through each &lt;a&gt; tag in the dom and add it to the link array <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($xml-&gt;getElementsByTagName('a') as $link) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $url = $link-&gt;getAttribute('href');<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!empty($url)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $links[] = $link-&gt;getAttribute('href');<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //Return the links <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $links;<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111169""></a>
  <div class="note">
   <strong class="user">sites.sitesbr.net</strong>
   <a href="#111169" class="date">22-Jan-2013 12:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to objetify a DomDocument with hierarchy like:<br />
&lt;root&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;item&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;prop1&gt;info1&lt;/prop1&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;prop2&gt;info2&lt;/prop2&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;prop3&gt;info3&lt;/prop3&gt;<br />
&nbsp;&nbsp; &nbsp; &lt;/item&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;item&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;prop1&gt;info1&lt;/prop1&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;prop2&gt;info2&lt;/prop2&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;prop3&gt;info3&lt;/prop3&gt;<br />
&nbsp;&nbsp; &nbsp; &lt;/item&gt;<br />
&lt;/root&gt;<br />
<br />
It's possible to use in object style to retrieve information, as:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; $theNodeValue </span><span class="keyword">= </span><span class="default">$aitem</span><span class="keyword">-&gt;</span><span class="default">prop1</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Here is the code: one Class and 2 functions.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="keyword">class </span><span class="default">ArrayNode</span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp; public </span><span class="default">$nodeName</span><span class="keyword">, </span><span class="default">$nodeValue</span><span class="keyword">;<br />
&nbsp;}<br />
<br />
&nbsp;function </span><span class="default">getChildNodeElements</span><span class="keyword">( </span><span class="default">$domNode </span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$nodes </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; for( </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$cn </span><span class="keyword">= </span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; if( </span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">nodeType </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nodes</span><span class="keyword">[] = </span><span class="default">$cn</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$nodes</span><span class="keyword">;<br />
&nbsp;}<br />
<br />
&nbsp;function </span><span class="default">getArrayNodes</span><span class="keyword">( </span><span class="default">$domDoc </span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; for( </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$domDoc</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$cn </span><span class="keyword">= </span><span class="default">$domDoc</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment"># The first is the root tag...<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( </span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">nodeType </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># But we want it's childNodes.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sub_cn </span><span class="keyword">= </span><span class="default">getChildNodeElements</span><span class="keyword">( </span><span class="default">$cn</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># Found the tagName:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$baseItemTagName </span><span class="keyword">= </span><span class="default">$sub_cn</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">nodeName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$dnl </span><span class="keyword">= </span><span class="default">$domDoc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">( </span><span class="default">$baseItemTagName</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; for( </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt; </span><span class="default">$dnl</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrayNode </span><span class="keyword">= new </span><span class="default">ArrayNode</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment"># Summary<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$arrayNode</span><span class="keyword">-&gt;</span><span class="default">nodeName </span><span class="keyword">= </span><span class="default">$dnl</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)-&gt;</span><span class="default">nodeName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$arrayNode</span><span class="keyword">-&gt;</span><span class="default">nodeValue </span><span class="keyword">= </span><span class="default">$dnl</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment"># Child Nodes<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$cn </span><span class="keyword">= </span><span class="default">$dnl</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)-&gt;</span><span class="default">childNodes</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; for( </span><span class="default">$k</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">&lt;</span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)-&gt;</span><span class="default">nodeName </span><span class="keyword">== </span><span class="string">"#text" </span><span class="keyword">&amp;&amp; </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)-&gt;</span><span class="default">nodeValue</span><span class="keyword">) == </span><span class="string">""</span><span class="keyword">) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arrayNode</span><span class="keyword">-&gt;{</span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)-&gt;</span><span class="default">nodeName</span><span class="keyword">} = </span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment"># Attributes<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$attr </span><span class="keyword">= </span><span class="default">$dnl</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)-&gt;</span><span class="default">attributes</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; for( </span><span class="default">$k</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$k </span><span class="keyword">&lt; </span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(! </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$attr</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)-&gt;</span><span class="default">nodeName </span><span class="keyword">== </span><span class="string">"#text" </span><span class="keyword">&amp;&amp; </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)-&gt;</span><span class="default">nodeValue</span><span class="keyword">) == </span><span class="string">""</span><span class="keyword">) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrayNode</span><span class="keyword">-&gt;{</span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)-&gt;</span><span class="default">nodeName</span><span class="keyword">} = </span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$res</span><span class="keyword">[] = </span><span class="default">$arrayNode</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">$res</span><span class="keyword">;<br />
&nbsp;}<br />
</span><span class="default">?&gt;<br />
</span><br />
To use it:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp; </span><span class="comment"># First you load a XML in a DomDocument variable.<br />
<br />
&nbsp;&nbsp; </span><span class="default">$url </span><span class="keyword">= </span><span class="string">"/path/to/yourxmlfile.xml"</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$domSrc </span><span class="keyword">= </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$dom </span><span class="keyword">= new </span><span class="default">DomDocument</span><span class="keyword">();<br />
&nbsp;&nbsp; </span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">loadXML</span><span class="keyword">( </span><span class="default">$domSrc </span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment"># Then, you get the ArrayNodes from the DomDocument.<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ans </span><span class="keyword">= </span><span class="default">getArrayNodes</span><span class="keyword">( </span><span class="default">$dom </span><span class="keyword">);<br />
<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; for( </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">( </span><span class="default">$ans </span><span class="keyword">) ; </span><span class="default">$i</span><span class="keyword">++){<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$cn </span><span class="keyword">=&nbsp; </span><span class="default">$ans</span><span class="keyword">[ </span><span class="default">$i</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$info1 </span><span class="keyword">=&nbsp; </span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">prop1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$info2 </span><span class="keyword">=&nbsp; </span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">prop2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$info3 </span><span class="keyword">=&nbsp; </span><span class="default">$cn</span><span class="keyword">-&gt;</span><span class="default">prop3</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// ...<br />
&nbsp;<br />
&nbsp;&nbsp; </span><span class="keyword">}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104218""></a>
  <div class="note">
   <strong class="user">Nick M</strong>
   <a href="#104218" class="date">01-Jun-2011 10:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You may need to save all or part of a DOMDocument as an XHTML-friendly string, something compliant with both XML and HTML 4. Here's the DOMDocument class extended with a saveXHTML method:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* XHTML Document<br />
&nbsp;*<br />
&nbsp;* Represents an entire XHTML DOM document; serves as the root of the document tree.<br />
&nbsp;*/<br />
</span><span class="keyword">class </span><span class="default">XHTMLDocument </span><span class="keyword">extends </span><span class="default">DOMDocument </span><span class="keyword">{<br />
<br />
&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; * These tags must always self-terminate. Anything else must never self-terminate.<br />
&nbsp;&nbsp; * <br />
&nbsp;&nbsp; * @var array<br />
&nbsp;&nbsp; */<br />
&nbsp; </span><span class="keyword">public </span><span class="default">$selfTerminate </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'area'</span><span class="keyword">,</span><span class="string">'base'</span><span class="keyword">,</span><span class="string">'basefont'</span><span class="keyword">,</span><span class="string">'br'</span><span class="keyword">,</span><span class="string">'col'</span><span class="keyword">,</span><span class="string">'frame'</span><span class="keyword">,</span><span class="string">'hr'</span><span class="keyword">,</span><span class="string">'img'</span><span class="keyword">,</span><span class="string">'input'</span><span class="keyword">,</span><span class="string">'link'</span><span class="keyword">,</span><span class="string">'meta'</span><span class="keyword">,</span><span class="string">'param'<br />
&nbsp; </span><span class="keyword">);<br />
&nbsp; <br />
&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; * saveXHTML<br />
&nbsp;&nbsp; *<br />
&nbsp;&nbsp; * Dumps the internal XML tree back into an XHTML-friendly string.<br />
&nbsp;&nbsp; *<br />
&nbsp;&nbsp; * @param DOMNode $node<br />
&nbsp;&nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Use this parameter to output only a specific node rather than the entire document.<br />
&nbsp;&nbsp; */<br />
&nbsp; </span><span class="keyword">public function </span><span class="default">saveXHTML</span><span class="keyword">(</span><span class="default">DOMNode $node</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">$node</span><span class="keyword">) </span><span class="default">$node </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">firstChild</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$clone </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">importNode</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">cloneNode</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$term </span><span class="keyword">= </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$clone</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">), </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">selfTerminate</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$inner</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">$term</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$clone</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(new </span><span class="default">DOMText</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">) foreach (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">childNodes </span><span class="keyword">as </span><span class="default">$child</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$inner </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">saveXHTML</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$clone</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">(</span><span class="default">$clone</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$term </span><span class="keyword">? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">) . </span><span class="string">' /&gt;' </span><span class="keyword">: </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&gt;&lt;'</span><span class="keyword">, </span><span class="string">"&gt;</span><span class="default">$inner</span><span class="string">&lt;"</span><span class="keyword">, </span><span class="default">$out</span><span class="keyword">);<br />
<br />
&nbsp; }<br />
<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This hasn't been benchmarked, but is probably significantly slower than saveXML or saveHTML and should be used sparingly.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101014""></a>
  <div class="note">
   <strong class="user">evert at er dot nl</strong>
   <a href="#101014" class="date">20-Nov-2010 02:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A nice and simple node 2 array I wrote, worth a try ;) 
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">getArray</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">hasAttributes</span><span class="keyword">())
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">attributes </span><span class="keyword">as </span><span class="default">$attr</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">] = </span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">hasChildNodes</span><span class="keyword">())
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">length </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">firstChild</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">] = </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">firstChild</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">childNodes </span><span class="keyword">as </span><span class="default">$childNode</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$childNode</span><span class="keyword">-&gt;</span><span class="default">nodeType </span><span class="keyword">!= </span><span class="default">XML_TEXT_NODE</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$childNode</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">][] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getArray</span><span class="keyword">(</span><span class="default">$childNode</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96709""></a>
  <div class="note">
   <strong class="user">admin at beerpla dot net</strong>
   <a href="#96709" class="date">12-Mar-2010 02:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After seeing many complaints about certain DOMDocument shortcomings, such as bad handling of encodings and always saving HTML fragments with &lt;html&gt;, &lt;head&gt;, and DOCTYPE, I decided that a better solution is needed.<br />
<br />
So here it is: SmartDOMDocument. You can find it at <a href="http://beerpla.net/projects/smartdomdocument/" rel="nofollow" target="_blank">http://beerpla.net/projects/smartdomdocument/</a><br />
<br />
Currently, the main highlights are:<br />
<br />
- SmartDOMDocument inherits from DOMDocument, so it's very easy to use - just declare an object of type SmartDOMDocument instead of DOMDocument and enjoy the new behavior on top of all existing functionality (see example below).<br />
<br />
- saveHTMLExact() - DOMDocument has an extremely badly designed "feature" where if the HTML code you are loading does not contain &lt;html&gt; and &lt;body&gt; tags, it adds them automatically (yup, there are no flags to turn this behavior off).<br />
Thus, when you call $doc-&gt;saveHTML(), your newly saved content now has &lt;html&gt;&lt;body&gt; and DOCTYPE in it. Not very handy when trying to work with code fragments (XML has a similar problem).<br />
SmartDOMDocument contains a new function called saveHTMLExact() which does exactly what you would want - it saves HTML without adding that extra garbage that DOMDocument does.<br />
<br />
- encoding fix - DOMDocument notoriously doesn't handle encoding (at least UTF-8) correctly and garbles the output.<br />
SmartDOMDocument tries to work around this problem by enhancing loadHTML() to deal with encoding correctly. This behavior is transparent to you - just use loadHTML() as you would normally.<br />
<br />
- SmartDOMDocument Object As String - you can use a SmartDOMDocument object as a string which will print out its contents.<br />
For example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"Here is the HTML: </span><span class="default">$smart_dom_doc</span><span class="string">"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
I'm going to maintain this code and try to fix bugs as they come in.<br />
<br />
Enjoy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96055""></a>
  <div class="note">
   <strong class="user">tloach at gmail dot com</strong>
   <a href="#96055" class="date">05-Feb-2010 10:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For anyone else who has been having issues with formatOuput not working, here is a work-around:
<br />

<br />
rather than just doing something like:
<br />

<br />
<span class="default">&lt;?php
<br />
$outXML </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">();
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
force it to reload the XML from scratch, then it will format correctly:
<br />

<br />
<span class="default">&lt;?php
<br />
$outXML </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">();
<br />
</span><span class="default">$xml </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();
<br />
</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">preserveWhiteSpace </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br />
</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">formatOutput </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br />
</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">loadXML</span><span class="keyword">(</span><span class="default">$outXML</span><span class="keyword">);
<br />
</span><span class="default">$outXML </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">();
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95894""></a>
  <div class="note">
   <strong class="user">jay at jaygilford dot com</strong>
   <a href="#95894" class="date">27-Jan-2010 08:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a small function I wrote to get all page links using the DOMDocument which will hopefully be of use to others
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">/**
<br />
&nbsp;* @author Jay Gilford
<br />
&nbsp;*/
<br />
&nbsp;
<br />
/**
<br />
&nbsp;* get_links()
<br />
&nbsp;* 
<br />
&nbsp;* @param string $url
<br />
&nbsp;* @return array
<br />
&nbsp;*/
<br />
</span><span class="keyword">function </span><span class="default">get_links</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">) {
<br />
&nbsp;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Create a new DOM Document to hold our webpage structure
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$xml </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();
<br />
&nbsp;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Load the url's contents into the DOM
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">loadHTMLFile</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">);
<br />
&nbsp;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Empty array to hold all links to return
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$links </span><span class="keyword">= array();
<br />
&nbsp;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Loop through each &lt;a&gt; tag in the dom and add it to the link array
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">) as </span><span class="default">$link</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$links</span><span class="keyword">[] = array(</span><span class="string">'url' </span><span class="keyword">=&gt; </span><span class="default">$link</span><span class="keyword">-&gt;</span><span class="default">getAttribute</span><span class="keyword">(</span><span class="string">'href'</span><span class="keyword">), </span><span class="string">'text' </span><span class="keyword">=&gt; </span><span class="default">$link</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Return the links
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$links</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94380""></a>
  <div class="note">
   <strong class="user">fcartegnie</strong>
   <a href="#94380" class="date">31-Oct-2009 01:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful with formatOutput().<br />
<br />
Creating an empty node like this:<br />
createElement('foo','')<br />
instead of<br />
createElement('foo')<br />
will break formatOutput.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92947""></a>
  <div class="note">
   <strong class="user">PhilipWayneRollins at gmail dot com</strong>
   <a href="#92947" class="date">15-Aug-2009 01:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to use the DOMDocument to create xHTML documents here is a simple class<br />
<br />
Note this is designed for creating xHTML documents from scratch but could be easily extended to work with xHTML documents. Also this is for xHTML not XML.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">Document<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public </span><span class="default">$doctype</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public </span><span class="default">$head</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public </span><span class="default">$title </span><span class="keyword">= </span><span class="string">'Sensei Ninja'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public </span><span class="default">$body</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private </span><span class="default">$styles</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private </span><span class="default">$metas</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private </span><span class="default">$scripts</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private </span><span class="default">$document</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function </span><span class="default">__construct </span><span class="keyword">(&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">( );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">head </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'head'</span><span class="keyword">, </span><span class="string">' ' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">body </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'body'</span><span class="keyword">, </span><span class="string">' ' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">addStyleSheet </span><span class="keyword">( </span><span class="default">$url</span><span class="keyword">, </span><span class="default">$media</span><span class="keyword">=</span><span class="string">'all' </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'link' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'type'</span><span class="keyword">, </span><span class="string">'text/css' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'href'</span><span class="keyword">, </span><span class="default">$url </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'media'</span><span class="keyword">, </span><span class="default">$media </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">styles</span><span class="keyword">[] = </span><span class="default">$element</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">addScript </span><span class="keyword">( </span><span class="default">$url </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'script'</span><span class="keyword">, </span><span class="string">' ' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'type'</span><span class="keyword">, </span><span class="string">'text/javascript' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'src'</span><span class="keyword">, </span><span class="default">$url </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">scripts</span><span class="keyword">[] = </span><span class="default">$element</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">addMetaTag </span><span class="keyword">( </span><span class="default">$name</span><span class="keyword">, </span><span class="default">$content </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'meta' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'name'</span><span class="keyword">, </span><span class="default">$name </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'content'</span><span class="keyword">, </span><span class="default">$content </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">metas</span><span class="keyword">[] = </span><span class="default">$element</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">setDescription </span><span class="keyword">( </span><span class="default">$dec </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">addMetaTag</span><span class="keyword">( </span><span class="string">'description'</span><span class="keyword">, </span><span class="default">$dec </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">setKeywords </span><span class="keyword">( </span><span class="default">$keywords </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">addMetaTag</span><span class="keyword">( </span><span class="string">'keywords'</span><span class="keyword">, </span><span class="default">$keywords </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">createElement </span><span class="keyword">( </span><span class="default">$nodeName</span><span class="keyword">, </span><span class="default">$nodeValue</span><span class="keyword">=</span><span class="default">null </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="default">$nodeName</span><span class="keyword">, </span><span class="default">$nodeValue </span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">assemble </span><span class="keyword">( )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Doctype creation<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$doctype </span><span class="keyword">= </span><span class="string">'&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML TRANSITIONAL 1.0//EN" "<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>"&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Create the head element<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$title </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'title'</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">title </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Add stylesheets if needed<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if ( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">styles </span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach ( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">styles </span><span class="keyword">as </span><span class="default">$element </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">head</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$element </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Add scripts if needed<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(&nbsp; </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">scripts </span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach ( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">scripts </span><span class="keyword">as </span><span class="default">$element </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">head</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$element </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Add meta tags if needed<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if ( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">metas </span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach ( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">metas </span><span class="keyword">as </span><span class="default">$element </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">head</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$element </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">head</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$title </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Create the document<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$html </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'html' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'xmlns'</span><span class="keyword">, </span><span class="string">'<a href="http://www.w3.org/1999/xhtml" rel="nofollow" target="_blank">http://www.w3.org/1999/xhtml</a>' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'xml:lang'</span><span class="keyword">, </span><span class="string">'en' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'lang'</span><span class="keyword">, </span><span class="string">'en' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">head </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$html</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">body </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$html </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$doctype </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">document</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">( );<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
Small example<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $document </span><span class="keyword">= new </span><span class="default">Document</span><span class="keyword">( );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$document</span><span class="keyword">-&gt;</span><span class="default">title </span><span class="keyword">= </span><span class="string">'Hello'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$document</span><span class="keyword">-&gt;</span><span class="default">addStyleSheet</span><span class="keyword">( </span><span class="string">'StyleSheets/main.css' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$div </span><span class="keyword">= </span><span class="default">$document</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'div' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$div</span><span class="keyword">-&gt;</span><span class="default">nodeValue </span><span class="keyword">= </span><span class="string">'Hello, world!'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$div</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">'style'</span><span class="keyword">, </span><span class="string">'color: red;' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$document</span><span class="keyword">-&gt;</span><span class="default">body</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$div </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">printf</span><span class="keyword">( </span><span class="string">'%s'</span><span class="keyword">, </span><span class="default">$document</span><span class="keyword">-&gt;</span><span class="default">assemble</span><span class="keyword">( ) );<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91072""></a>
  <div class="note">
   <strong class="user">cmyk777 at gmail dot com</strong>
   <a href="#91072" class="date">23-May-2009 12:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function may help to debug current dom element:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">dom_dump</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$classname </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">= </span><span class="string">"Instance of </span><span class="default">$classname</span><span class="string">, node list: \n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">true</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case (</span><span class="default">$obj </span><span class="keyword">instanceof </span><span class="default">DOMDocument</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">.= </span><span class="string">"XPath: </span><span class="keyword">{</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getNodePath</span><span class="keyword">()}</span><span class="string">\n"</span><span class="keyword">.</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case (</span><span class="default">$obj </span><span class="keyword">instanceof </span><span class="default">DOMElement</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">.= </span><span class="string">"XPath: </span><span class="keyword">{</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getNodePath</span><span class="keyword">()}</span><span class="string">\n"</span><span class="keyword">.</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">ownerDocument</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case (</span><span class="default">$obj </span><span class="keyword">instanceof </span><span class="default">DOMAttr</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">.= </span><span class="string">"XPath: </span><span class="keyword">{</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getNodePath</span><span class="keyword">()}</span><span class="string">\n"</span><span class="keyword">.</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">ownerDocument</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//$retval .= $obj-&gt;ownerDocument-&gt;saveXML($obj);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case (</span><span class="default">$obj </span><span class="keyword">instanceof </span><span class="default">DOMNodeList</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">.= </span><span class="string">"Item #</span><span class="default">$i</span><span class="string">, XPath: </span><span class="keyword">{</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)-&gt;</span><span class="default">getNodePath</span><span class="keyword">()}</span><span class="string">\n"</span><span class="keyword">.<br />
</span><span class="string">"</span><span class="keyword">{</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)-&gt;</span><span class="default">ownerDocument</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">))}</span><span class="string">\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"Instance of unknown class"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'no elements...'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">htmlspecialchars</span><span class="keyword">(</span><span class="default">$retval</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example usage:<br />
<br />
<span class="default">&lt;?php<br />
$dom </span><span class="keyword">= new </span><span class="default">DomDocument</span><span class="keyword">();<br />
</span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">load</span><span class="keyword">(</span><span class="string">'test.xml'</span><span class="keyword">);<br />
</span><span class="default">$body </span><span class="keyword">= </span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">'book'</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">.</span><span class="default">dom_dump</span><span class="keyword">(</span><span class="default">$body</span><span class="keyword">).</span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
Instance of DOMNodeList, node list: <br />
Item #0, XPath: /library/book[1]<br />
&lt;book isbn="0345342968"&gt;<br />
&lt;title&gt;Fahrenheit 451&lt;/title&gt;<br />
&lt;author&gt;R. Bradbury&lt;/author&gt;<br />
&lt;publisher&gt;Del Rey&lt;/publisher&gt;<br />
&lt;/book&gt;<br />
Item #1, XPath: /library/book[2]<br />
&lt;book isbn="0048231398"&gt;<br />
&lt;title&gt;The Silmarillion&lt;/title&gt;<br />
&lt;author&gt;J.R.R. Tolkien&lt;/author&gt;<br />
&lt;publisher&gt;G. Allen &amp;amp; Unwin&lt;/publisher&gt;<br />
&lt;/book&gt;<br />
Item #2, XPath: /library/book[3]<br />
&lt;book isbn="0451524934"&gt;<br />
&lt;title&gt;1984&lt;/title&gt;<br />
&lt;author&gt;G. Orwell&lt;/author&gt;<br />
&lt;publisher&gt;Signet&lt;/publisher&gt;<br />
&lt;/book&gt;<br />
Item #3, XPath: /library/book[4]<br />
&lt;book isbn="031219126X"&gt;<br />
&lt;title&gt;Frankenstein&lt;/title&gt;<br />
&lt;author&gt;M. Shelley&lt;/author&gt;<br />
&lt;publisher&gt;Bedford&lt;/publisher&gt;<br />
&lt;/book&gt;<br />
Item #4, XPath: /library/book[5]<br />
&lt;book isbn="0312863551"&gt;<br />
&lt;title&gt;The Moon Is a Harsh Mistress&lt;/title&gt;<br />
&lt;author&gt;R. A. Heinlein&lt;/author&gt;<br />
&lt;publisher&gt;Orb&lt;/publisher&gt;<br />
&lt;/book&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82447""></a>
  <div class="note">
   <strong class="user">Fernando H</strong>
   <a href="#82447" class="date">11-Apr-2008 12:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Showing a quick example of how to use this class, just so that new users can get a quick start without having to figure it all out by themself. ( At the day of posting, this documentation just got added and is lacking examples. )<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Set the content type to be XML, so that the browser will&nbsp;&nbsp; recognise it as XML.<br />
</span><span class="default">header</span><span class="keyword">( </span><span class="string">"content-type: application/xml; charset=ISO-8859-15" </span><span class="keyword">);<br />
<br />
</span><span class="comment">// "Create" the document.<br />
</span><span class="default">$xml </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">( </span><span class="string">"1.0"</span><span class="keyword">, </span><span class="string">"ISO-8859-15" </span><span class="keyword">);<br />
<br />
</span><span class="comment">// Create some elements.<br />
</span><span class="default">$xml_album </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">"Album" </span><span class="keyword">);<br />
</span><span class="default">$xml_track </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">"Track"</span><span class="keyword">, </span><span class="string">"The ninth symphony" </span><span class="keyword">);<br />
<br />
</span><span class="comment">// Set the attributes.<br />
</span><span class="default">$xml_track</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">"length"</span><span class="keyword">, </span><span class="string">"0:01:15" </span><span class="keyword">);<br />
</span><span class="default">$xml_track</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">"bitrate"</span><span class="keyword">, </span><span class="string">"64kb/s" </span><span class="keyword">);<br />
</span><span class="default">$xml_track</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">"channels"</span><span class="keyword">, </span><span class="string">"2" </span><span class="keyword">);<br />
<br />
</span><span class="comment">// Create another element, just to show you can add any (realistic to computer) number of sublevels.<br />
</span><span class="default">$xml_note </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">"Note"</span><span class="keyword">, </span><span class="string">"The last symphony composed by Ludwig van Beethoven." </span><span class="keyword">);<br />
<br />
</span><span class="comment">// Append the whole bunch.<br />
</span><span class="default">$xml_track</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_note </span><span class="keyword">);<br />
</span><span class="default">$xml_album</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_track </span><span class="keyword">);<br />
<br />
</span><span class="comment">// Repeat the above with some different values..<br />
</span><span class="default">$xml_track </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">"Track"</span><span class="keyword">, </span><span class="string">"Highway Blues" </span><span class="keyword">);<br />
<br />
</span><span class="default">$xml_track</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">"length"</span><span class="keyword">, </span><span class="string">"0:01:33" </span><span class="keyword">);<br />
</span><span class="default">$xml_track</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">"bitrate"</span><span class="keyword">, </span><span class="string">"64kb/s" </span><span class="keyword">);<br />
</span><span class="default">$xml_track</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">( </span><span class="string">"channels"</span><span class="keyword">, </span><span class="string">"2" </span><span class="keyword">);<br />
</span><span class="default">$xml_album</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_track </span><span class="keyword">);<br />
<br />
</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_album </span><span class="keyword">);<br />
<br />
</span><span class="comment">// Parse the XML.<br />
</span><span class="keyword">print </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
&lt;Album&gt;<br />
&nbsp; &lt;Track length="0:01:15" bitrate="64kb/s" channels="2"&gt;<br />
&nbsp;&nbsp;&nbsp; The ninth symphony<br />
&nbsp;&nbsp;&nbsp; &lt;Note&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; The last symphony composed by Ludwig van Beethoven.<br />
&nbsp;&nbsp;&nbsp; &lt;/Note&gt;<br />
&nbsp; &lt;/Track&gt;<br />
&nbsp; &lt;Track length="0:01:33" bitrate="64kb/s" channels="2"&gt;Highway Blues&lt;/Track&gt;<br />
&lt;/Album&gt;<br />
<br />
If you want your PHP-&gt;DOM code to run under the .xml extension, you should set your webserver up to run the .xml extension with PHP ( Refer to the installation/configuration configuration for PHP on how to do this ).<br />
<br />
Note that this:<br />
<span class="default">&lt;?php<br />
$xml </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">( </span><span class="string">"1.0"</span><span class="keyword">, </span><span class="string">"ISO-8859-15" </span><span class="keyword">);<br />
</span><span class="default">$xml_album </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">"Album" </span><span class="keyword">);<br />
</span><span class="default">$xml_track </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">"Track" </span><span class="keyword">);<br />
</span><span class="default">$xml_album</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_track </span><span class="keyword">);<br />
</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_album </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
is NOT the same as this:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Will NOT work.<br />
</span><span class="default">$xml </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">( </span><span class="string">"1.0"</span><span class="keyword">, </span><span class="string">"ISO-8859-15" </span><span class="keyword">);<br />
</span><span class="default">$xml_album </span><span class="keyword">= new </span><span class="default">DOMElement</span><span class="keyword">( </span><span class="string">"Album" </span><span class="keyword">);<br />
</span><span class="default">$xml_track </span><span class="keyword">= new </span><span class="default">DOMElement</span><span class="keyword">( </span><span class="string">"Track" </span><span class="keyword">);<br />
</span><span class="default">$xml_album</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_track </span><span class="keyword">);<br />
</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_album </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
although this will work:<br />
<span class="default">&lt;?php<br />
$xml </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">( </span><span class="string">"1.0"</span><span class="keyword">, </span><span class="string">"ISO-8859-15" </span><span class="keyword">);<br />
</span><span class="default">$xml_album </span><span class="keyword">= new </span><span class="default">DOMElement</span><span class="keyword">( </span><span class="string">"Album" </span><span class="keyword">);<br />
</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$xml_album </span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
