<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>返回文件路径的信息</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.parse-ini-string.html">? parse_ini_string</a></li>
      <li style="float: right;"><a href="function.pclose.html">pclose ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.filesystem.html">文件系统函数</a></li>
    <li>返回文件路径的信息</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.pathinfo" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">pathinfo</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.3, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">pathinfo</span> &mdash; <span class="dc-title">返回文件路径的信息</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.pathinfo-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>pathinfo</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = PATHINFO_DIRNAME | PATHINFO_BASENAME | PATHINFO_EXTENSION | PATHINFO_FILENAME</span></span>
   ) : <span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>pathinfo()</strong></span> 返回一个关联数组包含有 <code class="literal">path</code>
   的信息。返回关联数组还是字符串取决于 <code class="parameter">options</code>。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.pathinfo-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">path</code></dt>

     <dd>

      <p class="para">
       要解析的路径。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">options</code></dt>

     <dd>

      <p class="para">
       如果指定了，将会返回指定元素；它们包括：<strong><code>PATHINFO_DIRNAME</code></strong>，<strong><code>PATHINFO_BASENAME</code></strong>
   和 <strong><code>PATHINFO_EXTENSION</code></strong> 或 <strong><code>PATHINFO_FILENAME</code></strong>。
      </p>
      <p class="para">如果没有指定 <code class="parameter">options</code> 默认是返回全部的单元。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.pathinfo-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   如果没有传入 <code class="parameter">options</code> ，将会返回包括以下单元的数组 <span class="type">array</span>：<code class="literal">dirname</code>，<code class="literal">basename</code>
   和 <code class="literal">extension</code>（如果有），以 及<code class="literal">filename</code>。
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    If the <code class="parameter">path</code> does not have an extension, no
    <code class="literal">extension</code> element will be returned（以下第二个案例）。
   </p>
  </p></blockquote>
  <p class="para">
   If <code class="parameter">options</code> is present, returns a 
   <span class="type">string</span> containing the requested element.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.pathinfo-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.2.0</td>
       <td>
        添加了常量 <strong><code>PATHINFO_FILENAME</code></strong>。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.pathinfo-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-2592">
    <p><strong>Example #1 <span class="function"><strong>pathinfo()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$path_parts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/www/htdocs/inc/lib.inc.php'</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'dirname'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'basename'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;since&nbsp;PHP&nbsp;5.2.0<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
/www/htdocs/inc
lib.inc.php
php
lib.inc
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-2593">
    <p><strong>Example #2 <span class="function"><strong>pathinfo()</strong></span> example showing difference between null and no extension</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$path_parts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/emptyextension.'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB">$path_parts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/noextension'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程的输出类似于：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
string(0) &quot;&quot;

Notice: Undefined index: extension in test.php on line 6
NULL
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.pathinfo-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    有关取得当前路径信息的说明，请阅读<a href="language.variables.predefined.html" class="link">预定义变量</a>一节。
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    <span class="function"><strong>pathinfo()</strong></span> is locale aware, so for it to parse a path 
    containing multibyte characters correctly, the matching locale must be set using 
    the <span class="function"><a href="function.setlocale.html" class="function">setlocale()</a></span> function.
   </p>
  </p></blockquote>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.pathinfo-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.dirname.html" class="function" rel="rdfs-seeAlso">dirname()</a> - 返回路径中的目录部分</span></li>
    <li class="member"><span class="function"><a href="function.basename.html" class="function" rel="rdfs-seeAlso">basename()</a> - 返回路径中的文件名部分</span></li>
    <li class="member"><span class="function"><a href="function.parse-url.html" class="function" rel="rdfs-seeAlso">parse_url()</a> - 解析 URL，返回其组成部分</span></li>
    <li class="member"><span class="function"><a href="function.realpath.html" class="function" rel="rdfs-seeAlso">realpath()</a> - 返回规范化的绝对路径名</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124617""></a>
  <div class="note">
   <strong class="user">Ozan Kurt</strong>
   <a href="#124617" class="date">15-Jan-2020 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
extract(pathinfo("storage/example.pdf"));<br />
<br />
echo $dirname; // "storage/"<br />
echo $basename; // "example.pdf"<br />
echo $extension; // "pdf"<br />
echo $filename; // "example"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124397""></a>
  <div class="note">
   <strong class="user">610010559 at qq dot com</strong>
   <a href="#124397" class="date">15-Nov-2019 04:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
about the path, there are one thing you should note : <br />
On Windows, both slash (/) and backslash (\) are used as directory separator character. In other environments, it is the forward slash (/).&nbsp; (this explain is from basename() function part https://www.php.net/manual/en/function.basename.php)<br />
example: <br />
<span class="default">&lt;?php<br />
$path </span><span class="keyword">= </span><span class="string">"<a href="http://www.test.com/a" rel="nofollow" target="_blank">http://www.test.com/a</a>\b\c\filename.pdf"</span><span class="keyword">;<br />
<br />
echo </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$pdfUrl</span><span class="keyword">, </span><span class="default">PATHINFO_BASENAME</span><span class="keyword">);&nbsp; </span><span class="comment">//get basename<br />
//output<br />
//on window:&nbsp; result is filename.pdf<br />
//on Linux: result is a\b\c\filename.pdf (that is may not your expect)<br />
<br />
//so in order to get same result in different system.&nbsp; i will do below first. <br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">); </span><span class="comment">//convert '\'&nbsp; to '/'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123778""></a>
  <div class="note">
   <strong class="user">dev_zakaria at outlook dot com</strong>
   <a href="#123778" class="date">15-Apr-2019 04:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php <br />
<br />
</span><span class="comment">// suppose we are using a path like = www/myfiles/script.js <br />
<br />
</span><span class="keyword">const </span><span class="default">FILE </span><span class="keyword">= </span><span class="string">"www/myfiles/script.js"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// print file name<br />
</span><span class="keyword">echo </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">FILE</span><span class="keyword">,</span><span class="default">PATHINFO_FILENAME</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// print file extension<br />
</span><span class="keyword">echo </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">FILE</span><span class="keyword">,</span><span class="default">PATHINFO_EXTENSION</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// print file Full name<br />
</span><span class="keyword">echo </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">FILE</span><span class="keyword">,</span><span class="default">PATHINFO_BASENAME</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// print file directory name<br />
</span><span class="keyword">echo </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">FILE</span><span class="keyword">,</span><span class="default">PATHINFO_DIRNAME</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123456""></a>
  <div class="note">
   <strong class="user">guy dot paddock at gmail dot com</strong>
   <a href="#123456" class="date">20-Dec-2018 03:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is an enhanced version of pathinfo() that interprets multi-part extensions like tar.gz as one file extension:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">pathinfo_enhanced</span><span class="keyword">(</span><span class="default">$file_path</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$core_path_info </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$file_path</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">$core_path_info</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">];<br />
<br />
&nbsp; if (isset(</span><span class="default">$core_path_info</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">])) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="default">$core_path_info</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">];<br />
&nbsp; } else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="default">$extension_parts </span><span class="keyword">= array();<br />
<br />
&nbsp; while (!empty(</span><span class="default">$extension</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_unshift</span><span class="keyword">(</span><span class="default">$extension_parts</span><span class="keyword">, </span><span class="default">$extension</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$remaining_path_info </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">$remaining_path_info</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp;&nbsp; if (isset(</span><span class="default">$remaining_path_info</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="default">$remaining_path_info</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="default">$revised_path_info </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'filename'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">$filename</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'extension' </span><span class="keyword">=&gt; </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$extension_parts</span><span class="keyword">),<br />
&nbsp; );<br />
<br />
&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$core_path_info</span><span class="keyword">, </span><span class="default">$revised_path_info</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">// === EXAMPLES ===<br />
<br />
// Directory; two extensions<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'/www/htdocs/inc/file.tar.gz'</span><span class="keyword">;<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">pathinfo_enhanced</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"</span><span class="default">$path</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// Directory; one extension<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'/www/htdocs/inc/file.tgz'</span><span class="keyword">;<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">pathinfo_enhanced</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"</span><span class="default">$path</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// Directory; no extension<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'/www/htdocs/inc/lib'</span><span class="keyword">;<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">pathinfo_enhanced</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"</span><span class="default">$path</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// No directory; one extension<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'test.php'</span><span class="keyword">;<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">pathinfo_enhanced</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"</span><span class="default">$path</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// No directory; dot file<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'.example'</span><span class="keyword">;<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">pathinfo_enhanced</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"</span><span class="default">$path</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// Directory only<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'/www/htdocs/inc/'</span><span class="keyword">;<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">pathinfo_enhanced</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"</span><span class="default">$path</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br />
echo </span><span class="string">"\n"</span><span class="keyword">;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123151""></a>
  <div class="note">
   <strong class="user">Lori</strong>
   <a href="#123151" class="date">21-Sep-2018 01:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple example of pathinfo and array destructuring in PHP 7:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">[ </span><span class="string">'basename' </span><span class="keyword">=&gt; </span><span class="default">$basename</span><span class="keyword">, </span><span class="string">'dirname' </span><span class="keyword">=&gt; </span><span class="default">$dirname </span><span class="keyword">] = </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">'/www/htdocs/inc/lib.inc.php'</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">, </span><span class="default">$dirname</span><span class="keyword">);<br />
<br />
</span><span class="comment">// result:<br />
// string(11) "lib.inc.php"<br />
// string(15) "/www/htdocs/inc"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120370""></a>
  <div class="note">
   <strong class="user">daniel_rhodes at yahoo dot co dot uk</strong>
   <a href="#120370" class="date">23-Dec-2016 11:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that pathinfo($somePath, PATHINFO_EXTENSION) will return '' (empty string) for both of these paths:<br />
<br />
- some_random_file<br />
- another_strange_file_ending_in_dot.<br />
<br />
That's good, but then note that pathinfo($somePath, PATHINFO_FILENAME) won't end in the dot for 'another_strange_file_ending_in_dot.' - you'll need pathinfo($somePath, PATHINFO_BASENAME) to get the original filename ending in a dot.<br />
<br />
Hope this helps!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120300""></a>
  <div class="note">
   <strong class="user">smartdog at tut.by</strong>
   <a href="#120300" class="date">08-Dec-2016 11:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Lightweight way to get extension for *nix systems<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_extension</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'#[^\/]+\.([^\.]*)$#uis'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">, </span><span class="default">$tmp</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$c </span><span class="keyword">? </span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] : </span><span class="default">null</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>this will return NULL for dotfiles (hidden files)<br />
<br />
Testing:<br />
<span class="default">&lt;?php<br />
$test </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'/normal_dir/normal.foo'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'/double_ext.foo.bar'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'/.hidden/empty_ext.'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'/.hidden_dir/.hidden_file'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'/foo.bar/no_ext'<br />
</span><span class="keyword">);<br />
foreach(</span><span class="default">$test </span><span class="keyword">as </span><span class="default">$path</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">parse_extension</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
results:<br />
string(3) "foo"<br />
string(3) "bar"<br />
string(0) ""<br />
NULL<br />
NULL<br />
<br />
if you want to get all extensions (substring of file name after first dot) use another expression:<br />
<span class="default">&lt;?php<br />
$c </span><span class="keyword">= </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'#[^\.|\/]+\.([^\/]*)$#uis'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">, </span><span class="default">$tmp</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119468""></a>
  <div class="note">
   <strong class="user">498936940 at qq dot com</strong>
   <a href="#119468" class="date">15-Jun-2016 03:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note:<br />
<br />
pathinfo() is locale aware, so for it to parse a path containing multibyte characters correctly, the matching locale must be set using the setlocale() function. <br />
<br />
Reality:<br />
var_dump(pathinfo('中国人2016.xls'));<br />
exit();<br />
array(4) { 'dirname' =&gt; string(1) "." 'basename' =&gt; string(8) "2016.xls" 'extension' =&gt; string(3) "xls" 'filename' =&gt; string(4) "2016" } <br />
<br />
Expect(Solve):<br />
setlocale(LC_ALL, 'zh_CN.UTF-8');<br />
var_dump(pathinfo('中国人2016.xls'));<br />
exit();<br />
array(4) { 'dirname' =&gt; string(1) "." 'basename' =&gt; string(17) "中国人2016.xls" 'extension' =&gt; string(3) "xls" 'filename' =&gt; string(13) "中国人2016" }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117298""></a>
  <div class="note">
   <strong class="user">wxb0328 at hotmail dot com</strong>
   <a href="#117298" class="date">19-May-2015 02:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// your code goes here<br />
</span><span class="keyword">echo </span><span class="default">phpversion</span><span class="keyword">();<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">"/resources/img/stock/wxb001/美景.png"</span><span class="keyword">)); <br />
<br />
</span><span class="default">输出：<br />
5.6.4</span><span class="keyword">-</span><span class="default">2<br />
</span><span class="keyword">Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [</span><span class="default">dirname</span><span class="keyword">] =&gt; /</span><span class="default">resources</span><span class="keyword">/</span><span class="default">img</span><span class="keyword">/</span><span class="default">stock</span><span class="keyword">/</span><span class="default">wxb001<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">basename</span><span class="keyword">] =&gt; </span><span class="default">美景</span><span class="keyword">.</span><span class="default">png<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">extension</span><span class="keyword">] =&gt; </span><span class="default">png<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">filename</span><span class="keyword">] =&gt; </span><span class="default">美景<br />
</span><span class="keyword">)<br />
</span><span class="default">但是在php5.3.3版本中<br />
</span><span class="keyword">&lt;?</span><span class="default">php<br />
<br />
</span><span class="comment">// your code goes here<br />
</span><span class="keyword">echo </span><span class="default">phpversion</span><span class="keyword">();<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">"/resources/img/stock/wxb001/美景.png"</span><span class="keyword">)); <br />
</span><span class="default">输出：<br />
5.3.3<br />
</span><span class="keyword">Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [</span><span class="default">dirname</span><span class="keyword">] =&gt; /var/</span><span class="default">www</span><span class="keyword">/</span><span class="default">www</span><span class="keyword">.</span><span class="default">shima</span><span class="keyword">.</span><span class="default">jp</span><span class="keyword">.</span><span class="default">net</span><span class="keyword">/</span><span class="default">resources</span><span class="keyword">/</span><span class="default">img</span><span class="keyword">/</span><span class="default">stock</span><span class="keyword">/</span><span class="default">wxb001<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">basename</span><span class="keyword">] =&gt; .</span><span class="default">png<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">extension</span><span class="keyword">] =&gt; </span><span class="default">png<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">filename</span><span class="keyword">] =&gt; <br />
)</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116754""></a>
  <div class="note">
   <strong class="user">bart at mediawave dot nl</strong>
   <a href="#116754" class="date">23-Feb-2015 12:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP equivalent for custom implementations. Will be nearly as fast or faster (with long paths):<br />
<br />
<span class="default">&lt;?php<br />
$trimPath </span><span class="keyword">= </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);<br />
<br />
</span><span class="default">$slashPos </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$trimPath</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);<br />
if (</span><span class="default">$slashPos </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dirName </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$trimPath</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$slashPos</span><span class="keyword">) ?: </span><span class="string">'/'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$baseName </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$trimPath</span><span class="keyword">, </span><span class="default">$slashPos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />
} else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dirName </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$baseName </span><span class="keyword">= </span><span class="default">$trimPath</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$dotPos </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$baseName</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">);<br />
if (</span><span class="default">$dotPos </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$fileName </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$baseName</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$dotPos</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$baseName</span><span class="keyword">, </span><span class="default">$dotPos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />
} else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$fileName </span><span class="keyword">= </span><span class="default">$baseName</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116742""></a>
  <div class="note">
   <strong class="user">ivan dot dossev at gmail dot com</strong>
   <a href="#116742" class="date">21-Feb-2015 12:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note: dirname will be "." (meaning current directory) if the path is just a file name. (PHP 5.4.34)<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">( </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">'file.ext'</span><span class="keyword">, </span><span class="default">PATHINFO_DIRNAME</span><span class="keyword">) ); </span><span class="comment">// string(1) "."<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116599""></a>
  <div class="note">
   <strong class="user">cmartinezme at hotmail dot com</strong>
   <a href="#116599" class="date">27-Jan-2015 12:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Checked with version 5.5.12:
<br />

<br />
It works fine with filenames with utf-8 characters, pathinfo will strip them away:
<br />

<br />
<span class="default">&lt;?php
<br />
print_r</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">"/mnt/files/wF光茫.mp3"</span><span class="keyword">));
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
.. will display:
<br />

<br />
Array
<br />
(
<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /mnt/files
<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; wF光茫.mp3
<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; mp3
<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; wF光茫
<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112107""></a>
  <div class="note">
   <strong class="user">Jordan Doyle</strong>
   <a href="#112107" class="date">04-May-2013 07:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's worth nothing that pathinfo returns foo/index.php for the directory when dealing with URLs like foo/index.php/bar</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111368""></a>
  <div class="note">
   <strong class="user">krkbpk at gmail dot com   RamaKrishna Kothamasu</strong>
   <a href="#111368" class="date">12-Feb-2013 03:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//pathinfo function example<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//passing single argument<br />
</span><span class="keyword">echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">"/home/ramki/ramki.pdf"</span><span class="keyword">));<br />
echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
</span><span class="comment">//passing two agruments<br />
</span><span class="default">$path</span><span class="keyword">=array(</span><span class="default">PATHINFO_DIRNAME</span><span class="keyword">,</span><span class="default">PATHINFO_BASENAME</span><span class="keyword">,</span><span class="default">PATHINFO_EXTENSION</span><span class="keyword">,</span><span class="default">PATHINFO_FILENAME</span><span class="keyword">);<br />
foreach (</span><span class="default">$path </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">.</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">"/home/ramki/ramki.pdf"</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">).</span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>//output<br />
/*<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /home/ramki<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; ramki.pdf<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; pdf<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; ramki<br />
)<br />
/home/ramki<br />
ramki.pdf<br />
pdf<br />
ramki<br />
*/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107461""></a>
  <div class="note">
   <strong class="user">Pietro Baricco</strong>
   <a href="#107461" class="date">10-Feb-2012 04:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Use this function in place of pathinfo to make it work with UTF-8 encoded file names too<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mb_pathinfo</span><span class="keyword">(</span><span class="default">$filepath</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'%^(.*?)[\\\\/]*(([^/\\\\]*?)(\.([^\.\\\\/]+?)|))[\\\\/\.]*$%im'</span><span class="keyword">,</span><span class="default">$filepath</span><span class="keyword">,</span><span class="default">$m</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$m</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) </span><span class="default">$ret</span><span class="keyword">[</span><span class="string">'dirname'</span><span class="keyword">]=</span><span class="default">$m</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$m</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]) </span><span class="default">$ret</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">]=</span><span class="default">$m</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$m</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">]) </span><span class="default">$ret</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">]=</span><span class="default">$m</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$m</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]) </span><span class="default">$ret</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">]=</span><span class="default">$m</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104638""></a>
  <div class="note">
   <strong class="user">admin at torntech dot com</strong>
   <a href="#104638" class="date">27-Jun-2011 09:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
pathinfo will return null if 0 or null is specified for the option argument.<br />
So you'll need to define it's value manually if the option field is omitted, to provide the default functionality.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">getFileInfo</span><span class="keyword">(</span><span class="default">$source </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$option </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">$option</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//1 + 2 + 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$option </span><span class="keyword">= </span><span class="default">PATHINFO_DIRNAME </span><span class="keyword">+ </span><span class="default">PATHINFO_BASENAME </span><span class="keyword">+ </span><span class="default">PATHINFO_EXTENSION</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'PATHINFO_FILENAME'</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$option </span><span class="keyword">+= </span><span class="default">PATHINFO_FILENAME</span><span class="keyword">; </span><span class="comment">//8<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$option</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getFileInfo</span><span class="keyword">(</span><span class="string">"/test/file/someFile.txt"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93610""></a>
  <div class="note">
   <strong class="user">kc8yds at gmail dot com</strong>
   <a href="#93610" class="date">18-Sep-2009 02:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
any type of url parse_url can handle this will get the extension of<br />
<br />
pathinfo(parse_url('URL GOES HERE',PHP_URL_PATH),PATHINFO_EXTENSION)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88718""></a>
  <div class="note">
   <strong class="user">jjoss at mail dot ru</strong>
   <a href="#88718" class="date">04-Feb-2009 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
pathinfo() which can be used with UTF filenames.
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">pathinfo_utf</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)
<br />
&nbsp; {
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$basename </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">));
<br />
&nbsp;&nbsp;&nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$basename </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">));
<br />
&nbsp;&nbsp;&nbsp; else return </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; if (empty(</span><span class="default">$basename</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dirname </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">);
<br />

<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">));
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$extension</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; else
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">$basename</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; return array
<br />
&nbsp;&nbsp;&nbsp; (
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'dirname' </span><span class="keyword">=&gt; </span><span class="default">$dirname</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'basename' </span><span class="keyword">=&gt; </span><span class="default">$basename</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'extension' </span><span class="keyword">=&gt; </span><span class="default">$extension</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'filename' </span><span class="keyword">=&gt; </span><span class="default">$filename
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);
<br />
&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88654""></a>
  <div class="note">
   <strong class="user">aalaap at gmail dot com</strong>
   <a href="#88654" class="date">02-Feb-2009 07:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a simple function that gets the extension of a file. Simply using PATHINFO_EXTENSION will yield incorrect results if the path contains a query string with dots in the parameter names (for eg. &amp;x.1=2&amp;y.1=5), so this function eliminates the query string first and subsequently runs PATHINFO_EXTENSION on the clean path/url.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">extension</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {
<br />
&nbsp; </span><span class="default">$qpos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">"?"</span><span class="keyword">);
<br />

<br />
&nbsp; if (</span><span class="default">$qpos</span><span class="keyword">!==</span><span class="default">false</span><span class="keyword">) </span><span class="default">$path </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$qpos</span><span class="keyword">);
<br />
&nbsp; 
<br />
&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">PATHINFO_EXTENSION</span><span class="keyword">);
<br />

<br />
&nbsp; return </span><span class="default">$extension</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88159""></a>
  <div class="note">
   <strong class="user">php [spat] hm2k.org</strong>
   <a href="#88159" class="date">13-Jan-2009 04:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little compat for &lt; 5.2<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">pathinfo_filename</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) { </span><span class="comment">//file.name.ext, returns file.name<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'PATHINFO_FILENAME'</span><span class="keyword">)) return </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="default">PATHINFO_FILENAME</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">)) return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87831""></a>
  <div class="note">
   <strong class="user">php-manual at spunts dot net</strong>
   <a href="#87831" class="date">24-Dec-2008 09:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For a good example of how platform independent this function is have a look at the different return values that Lostindream and I experienced. Mine is above and Lostindream's is below:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /www/psychicblast/images/1<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; my three girlfriends.jpg<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; jpg<br />
)<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /www/htdocs<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; index.html<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; html<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; index<br />
)<br />
z</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87388""></a>
  <div class="note">
   <strong class="user">benjaminhill at gmail dot com</strong>
   <a href="#87388" class="date">02-Dec-2008 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A warning: this function varies depending on the platform it is being run on.&nbsp; For example, pathinfo('C:\Program Files\Adobe\Reader 9.0\Reader\AcroRd32.exe') will return a different result when run through a winOS PHP platform (local development) vs. a server's UNIX-based OS.&nbsp; A bit like the Locale settings, but unexpected.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85196""></a>
  <div class="note">
   <strong class="user">Lostindream at atlas dot cz</strong>
   <a href="#85196" class="date">19-Aug-2008 01:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
at example from "qutechie at gmail dot com" you can only replace function 'strpos' with 'strrpos'. (strrpos &mdash; Find position of last occurrence of a char in a string)<br />
<br />
It's simple. For example:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">filePath</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">)<br />
{<br />
&nbsp;</span><span class="default">$fileParts </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">);<br />
<br />
&nbsp;if(!isset(</span><span class="default">$fileParts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">]))<br />
&nbsp;{</span><span class="default">$fileParts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$fileParts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$fileParts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">], </span><span class="string">'.'</span><span class="keyword">));}<br />
&nbsp; <br />
&nbsp;return </span><span class="default">$fileParts</span><span class="keyword">;<br />
}<br />
&nbsp;<br />
</span><span class="default">$filePath </span><span class="keyword">= </span><span class="default">filePath</span><span class="keyword">(</span><span class="string">'/www/htdocs/index.html'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output will be:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /www/htdocs<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; index.html<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; html<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; index<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85115""></a>
  <div class="note">
   <strong class="user">leons87_AT_hotmail_DOT_com</strong>
   <a href="#85115" class="date">15-Aug-2008 04:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
qutechie at gmail dot com wrote a fix for support for filename in PHP 4; however it gets it wrong whenever you have a filename with a . in it (so foo.bar.jpg would return foo instead of foo.bar).<br />
<br />
A fix would be:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!isset(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">])){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$reversed_filename </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">( </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">] );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">] = </span><span class="default">strrev</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$reversed_filename</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">( </span><span class="default">$reversed_filename</span><span class="keyword">, </span><span class="string">'.' </span><span class="keyword">) + </span><span class="default">1 </span><span class="keyword">) );<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The idea is that you reverse the string and create a substring that starts after the first '.' and then reverse the result.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84613""></a>
  <div class="note">
   <strong class="user">qutechie at gmail dot com</strong>
   <a href="#84613" class="date">21-Jul-2008 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quick fix for lack of support for 'filename' in php4<br />
<br />
<span class="default">&lt;?php<br />
$path_parts </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">'/www/htdocs/index.html'</span><span class="keyword">);<br />
<br />
echo </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'dirname'</span><span class="keyword">], </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">], </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">], </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">], </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// since PHP 5.2.0<br />
<br />
// if php4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(!isset(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">,</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">],</span><span class="string">'.'</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81359""></a>
  <div class="note">
   <strong class="user">christian dot reinecke at web dot de</strong>
   <a href="#81359" class="date">24-Feb-2008 07:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you call pathinfo with a filename in url-style (example.php?with=parameter), make sure you remove the given parameters before, otherwise they will be returned as part of the extension.<br />
<br />
extension =&gt; php?with=parameter</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80748""></a>
  <div class="note">
   <strong class="user">tom at foo-bar dot co dot uk</strong>
   <a href="#80748" class="date">30-Jan-2008 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that this function seems to just perform string operations, and will work even on a non-existent path, e.g.<br />
<br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">'/no/where/file.txt'</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
which will output:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /no/where<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; file.txt<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; txt<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; file<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80641""></a>
  <div class="note">
   <strong class="user">davidblinco at gmail dot com</strong>
   <a href="#80641" class="date">26-Jan-2008 07:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is not perfect, but you can use it to convert a relative path to a URL.<br />
Please email me if you can make any improvements.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mapURL</span><span class="keyword">(</span><span class="default">$relPath</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$filePathName </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$relPath</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$filePath </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$relPath</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$basePath </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// can not create URL for directory lower than DOCUMENT_ROOT<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$basePath</span><span class="keyword">) &gt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="string">'<a href="http://" rel="nofollow" target="_blank">http://</a>' </span><span class="keyword">. </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_HOST'</span><span class="keyword">] . </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$filePathName</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$basePath</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79980""></a>
  <div class="note">
   <strong class="user">henrik at not-an-address dot com</strong>
   <a href="#79980" class="date">21-Dec-2007 10:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have filename with utf-8 characters, pathinfo will strip them away:<br />
<br />
print_r(pathinfo("/mnt/files/wF光茫.mp3"));<br />
<br />
&nbsp;.. will display:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /mnt/files<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; .mp3<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; mp3<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; <br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79912""></a>
  <div class="note">
   <strong class="user">mrnemesis at ntlworld dot com</strong>
   <a href="#79912" class="date">19-Dec-2007 07:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that in PHP 4 (if you're stuck using it), pathinfo only provides dirname, basename, and extension, but not filename. This function will not split a file's stem and extension for you.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59083""></a>
  <div class="note">
   <strong class="user">cochise_chiracahua at hotmail.com</strong>
   <a href="#59083" class="date">25-Nov-2005 11:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes, it's interessant to get the basename without extension.<br />
So, I appended a new entry 'basenameWE' (Basename Without Extension) to the returned array.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// pathinfo improved<br />
</span><span class="keyword">function </span><span class="default">pathinfo_im</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tab </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tab</span><span class="keyword">[</span><span class="string">"basenameWE"</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$tab</span><span class="keyword">[</span><span class="string">"basename"</span><span class="keyword">],</span><span class="default">0<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$tab</span><span class="keyword">[</span><span class="string">"basename"</span><span class="keyword">]) - (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$tab</span><span class="keyword">[</span><span class="string">"extension"</span><span class="keyword">]) + </span><span class="default">1</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$tab</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$my_path </span><span class="keyword">= </span><span class="string">"/var/www/html/example.html"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"&lt;pre&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">pathinfo_im</span><span class="keyword">(</span><span class="default">$my_path</span><span class="keyword">) );<br />
echo </span><span class="string">"&lt;/pre&gt;\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Out :<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /var/www/html<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; example.html<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; html<br />
&nbsp;&nbsp;&nbsp; [basenameWE] =&gt; example<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49765""></a>
  <div class="note">
   <strong class="user">n0dalus</strong>
   <a href="#49765" class="date">08-Feb-2005 01:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If a file has more than one 'file extension' (seperated by periods), the last one will be returned.<br />
For example:<br />
<span class="default">&lt;?php<br />
$pathinfo </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">'/dir/test.tar.gz'</span><span class="keyword">);<br />
echo </span><span class="string">'Extension: '</span><span class="keyword">.</span><span class="default">$pathinfo</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">];<br />
</span><span class="default">?&gt;<br />
</span>will produce:<br />
Extension: gz<br />
<br />
and not tar.gz</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47867""></a>
  <div class="note">
   
   <a href="#47867" class="date">03-Dec-2004 04:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want only the file extension, use this:<br />
<span class="default">&lt;?php<br />
$extension </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>This is many times faster than using pathinfo() and getting the value from array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46252""></a>
  <div class="note">
   <strong class="user">rob at webdimension dot co dot uk</strong>
   <a href="#46252" class="date">04-Oct-2004 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Further to my previous post.<br />
<br />
This affects servers that run PHP as a cgi module<br />
<br />
If you have your own server:<br />
You can use the AcceptPathInfo directive to force the core handler to accept requests with PATH_INFO and thereby restore the ability to use PATH_INFO in server-side includes.<br />
<br />
Further information:<br />
<a href="http://httpd.apache.org/docs-2.0/mod/core.html#acceptpathinfo" rel="nofollow" target="_blank">http://httpd.apache.org/docs-2.0/mod/core.html#acceptpathinfo</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15029""></a>
  <div class="note">
   <strong class="user">m-symons at home dot com</strong>
   <a href="#15029" class="date">24-Aug-2001 06:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a neat wee function to grab the relative path to root (especially useful if you're using mock-directories to pass variables into scripts with mod_rewrite).&nbsp; The function simply iterates through every occurence of "/" within the REQUEST_URI environment variable, appending "../" to the output for every instance:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="keyword">function </span><span class="default">path_to_root</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pathinfo </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$deep </span><span class="keyword">= </span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$pathinfo</span><span class="keyword">[</span><span class="default">dirname</span><span class="keyword">], </span><span class="string">"/"</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$path_to_root </span><span class="keyword">= </span><span class="string">"./"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$deep</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$path_to_root </span><span class="keyword">.= </span><span class="string">"../"</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$path_to_root</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">path_to_root</span><span class="keyword">(</span><span class="default">$REQUEST_URI</span><span class="keyword">);
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
