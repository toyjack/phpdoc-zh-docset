<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>·¶Àý</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="tidy.constants.html">? Ô¤¶¨Òå³£Á¿</a></li>
      <li style="float: right;"><a href="tidy.examples.basic.html">Tidy example ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.tidy.html">Tidy</a></li>
    <li>·¶Àý</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="tidy.examples" class="appendix">
 <h1>·¶Àý</h1>
<h2>Table of Contents</h2><ul class="chunklist chunklist_appendix"><li><a href="tidy.examples.basic.html">Tidy example</a></li></ul>

 
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="95286""></a>
  <div class="note">
   <strong class="user">Dmitri Snytkine cms.lampcms.com</strong>
   <a href="#95286" class="date">23-Dec-2009 02:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Important notice about configuration options:
<br />
If you read the quickref on this page:
<br />
<a href="http://tidy.sourceforge.net/docs/quickref.html" rel="nofollow" target="_blank">http://tidy.sourceforge.net/docs/quickref.html</a>
<br />
you may get an idea that the boolean values for config options can be set as 'y' or 'yes' or 'n' or 'no'
<br />
but that's not true for the tidy extension in php.
<br />

<br />
Boolean values MUST be set only as true or false (without quotes or cause), otherwise tidy just ignores your configuration. It will not raise any error or warning but will just ignore your 'yes' or 'no' values.
<br />

<br />
For example, this config array will not have the desired effect:
<br />
<span class="default">&lt;?php $config </span><span class="keyword">= array(</span><span class="string">'drop-proprietary-attributes' </span><span class="keyword">=&gt; </span><span class="string">'yes'</span><span class="keyword">); </span><span class="default">?&gt;
<br />
</span>
<br />
You must set option to true:
<br />
<span class="default">&lt;?php $config </span><span class="keyword">= array(</span><span class="string">'drop-proprietary-attributes' </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89334""></a>
  <div class="note">
   <strong class="user">Brad</strong>
   <a href="#89334" class="date">03-Mar-2009 12:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Cleaning an html fragment (OO support seems to half-arsed for now)
<br />

<br />
This will ensure all tags are closed, without adding any html/head/body tags around it.
<br />

<br />
<span class="default">&lt;?php
<br />
$tidy_config </span><span class="keyword">= array(
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'clean' </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'output-xhtml' </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'show-body-only' </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'wrap' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );
<br />

<br />
</span><span class="default">$tidy </span><span class="keyword">= </span><span class="default">tidy_parse_string</span><span class="keyword">(</span><span class="default">$html_fragment</span><span class="keyword">, </span><span class="default">$tidy_config</span><span class="keyword">, </span><span class="string">'UTF8'</span><span class="keyword">);
<br />
</span><span class="default">$tidy</span><span class="keyword">-&gt;</span><span class="default">cleanRepair</span><span class="keyword">();
<br />
echo </span><span class="default">$tidy</span><span class="keyword">;
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87218""></a>
  <div class="note">
   <strong class="user">nicolas [at] adaka [dot] fr</strong>
   <a href="#87218" class="date">25-Nov-2008 01:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
That seems to be the correct config to symply tidy an HTML fragment (in a valid XHTML syntax) :
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; $tidy_config&nbsp; &nbsp; </span><span class="keyword">=&nbsp; &nbsp; array(
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'clean'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt;&nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'drop-proprietary-attributes'&nbsp; &nbsp; </span><span class="keyword">=&gt;&nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'output-xhtml'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt;&nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'show-body-only'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt;&nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'word-2000'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt;&nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'wrap'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt;&nbsp; &nbsp; </span><span class="string">'0'
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85268""></a>
  <div class="note">
   <strong class="user">dan [@t] authenticdesign [d_o_t] net</strong>
   <a href="#85268" class="date">22-Aug-2008 10:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're just looking for a quick and dirty way to output HTML code you created in a formatted way use this technique...<br />
<br />
<span class="default">&lt;?php<br />
$html </span><span class="keyword">= </span><span class="string">'a chunk of html you created'</span><span class="keyword">;<br />
</span><span class="default">$config </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'indent'&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'output-xml'&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'input-xml'&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'wrap'&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">'1000'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Tidy<br />
</span><span class="default">$tidy </span><span class="keyword">= new </span><span class="default">tidy</span><span class="keyword">();<br />
</span><span class="default">$tidy</span><span class="keyword">-&gt;</span><span class="default">parseString</span><span class="keyword">(</span><span class="default">$html</span><span class="keyword">, </span><span class="default">$config</span><span class="keyword">, </span><span class="string">'utf8'</span><span class="keyword">);<br />
</span><span class="default">$tidy</span><span class="keyword">-&gt;</span><span class="default">cleanRepair</span><span class="keyword">();<br />
echo </span><span class="default">tidy_get_output</span><span class="keyword">(</span><span class="default">$tidy</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
... This seemed to get the result I wanted every time.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
