<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>进一法取整</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.bindec.html">? bindec</a></li>
      <li style="float: right;"><a href="function.cos.html">cos ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.math.html">Math 函数</a></li>
    <li>进一法取整</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.ceil" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">ceil</h1>
    <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">ceil</span> &mdash; <span class="dc-title">进一法取整</span></p>

   </div>
   <div class="refsect1 description" id="refsect1-function.ceil-description">
  <h3 class="title">说明</h3>
   <div class="methodsynopsis dc-description">
    <span class="methodname"><strong>ceil</strong></span>
     ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$value</code></span>
    ) : <span class="type">float</span></div>

    <p class="simpara">
     返回不小于
     <code class="parameter">value</code> 的下一个整数，<code class="parameter">value</code>
     如果有小数部分则进一位。
    </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.ceil-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">value</code></dt>

     <dd>

      <p class="para">
       要进一法取整的值
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.ceil-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回不小于
     <code class="parameter">value</code> 的下一个整数。
  <span class="function"><strong>ceil()</strong></span> 返回的类型仍然是
     <span class="type"><a href="language.types.float.html" class="type float">float</a></span>，因为 <span class="type"><a href="language.types.float.html" class="type float">float</a></span> 值的范围通常比 <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> 要大。
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.ceil-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-4152">
    <p><strong>Example #1 <span class="function"><strong>ceil()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">ceil</span><span style="color: #007700">(</span><span style="color: #0000BB">4.3</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;5<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">ceil</span><span style="color: #007700">(</span><span style="color: #0000BB">9.999</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;10<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">ceil</span><span style="color: #007700">(-</span><span style="color: #0000BB">3.14</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;-3<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.ceil-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.floor.html" class="function" rel="rdfs-seeAlso">floor()</a> - 舍去法取整</span></li>
    <li class="member"><span class="function"><a href="function.round.html" class="function" rel="rdfs-seeAlso">round()</a> - 对浮点数进行四舍五入</span></li>
   </ul>
  </p>
 </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122724""></a>
  <div class="note">
   <strong class="user">eep2004 at ukr dot net</strong>
   <a href="#122724" class="date">13-May-2018 10:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Caution!<br />
<span class="default">&lt;?php<br />
$value </span><span class="keyword">= </span><span class="default">77.4</span><span class="keyword">;<br />
echo </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">* </span><span class="default">100</span><span class="keyword">) / </span><span class="default">100</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// 77.41 - WRONG!<br />
</span><span class="keyword">echo </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">round</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">* </span><span class="default">100</span><span class="keyword">)) / </span><span class="default">100</span><span class="keyword">;&nbsp; </span><span class="comment">// 77.4 - OK!</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122723""></a>
  <div class="note">
   <strong class="user">eep2004 at ukr dot net</strong>
   <a href="#122723" class="date">12-May-2018 10:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Caution!<br />
<span class="default">&lt;?php<br />
$value </span><span class="keyword">= </span><span class="default">77.4</span><span class="keyword">;<br />
echo </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">* </span><span class="default">100</span><span class="keyword">) / </span><span class="default">100</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// 77.41 - WRONG!<br />
</span><span class="keyword">echo </span><span class="default">ceil</span><span class="keyword">((string)(</span><span class="default">$value </span><span class="keyword">* </span><span class="default">100</span><span class="keyword">)) / </span><span class="default">100</span><span class="keyword">;&nbsp; </span><span class="comment">// 77.4 - OK!</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118248""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#118248" class="date">03-Nov-2015 09:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a quick note to be careful of, if you use the "round_up" code suggested by steve, i must warn you it isn't completely fool proof.<br />
<br />
I have the following maths which is evaluated incorrectly<br />
<br />
37.2000 - 6.2000 = 31.01<br />
<br />
echo(round_up(37.2000 - 6.2000,2));<br />
<br />
This returns the incorrect result, 31.01 which as any junior in mathematics knows...IS WRONG!<br />
<br />
use with caution.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117341""></a>
  <div class="note">
   <strong class="user">Bas Vijfwinkel</strong>
   <a href="#117341" class="date">25-May-2015 03:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that 'ceil' can show unexpected behaviour when using float values due to inaccuracies in the float system and PHP tendency to freely limiting the number of digits it displays to the user.<br />
It might like it is rounding up values that end in 0 (zero) but actually PHP is not showing that the value is not exactly the value it shows.<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">echo(</span><span class="string">'Displaying 13915.0000000000018190 : '</span><span class="keyword">. </span><span class="default">13915.0000000000018190</span><span class="keyword">);<br />
echo(</span><span class="string">'&lt;br&gt;'</span><span class="keyword">);<br />
echo(</span><span class="string">'Result ceil(13915.0000000000018190) :'</span><span class="keyword">.</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">13915.0000000000018190</span><span class="keyword">));<br />
echo(</span><span class="string">'&lt;br&gt;'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>For example 13915 cannot be represented as exactly 13915 but becomes <br />
13916.0000000000018190 and 'ceil' will therefore round it up to 13916.<br />
<br />
<span class="default">&lt;?PHP<br />
$value </span><span class="keyword">= </span><span class="default">12650 </span><span class="keyword">* </span><span class="default">1.1</span><span class="keyword">;<br />
echo(</span><span class="string">'Expected behaviour : ceil(12650 * 1.1) = ceil(13915) = 13915'</span><span class="keyword">);<br />
echo(</span><span class="string">'&lt;br&gt;'</span><span class="keyword">);<br />
echo(</span><span class="string">'Using only ceil :'</span><span class="keyword">.</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">));<br />
echo(</span><span class="string">'&lt;br&gt;'</span><span class="keyword">);<br />
echo(</span><span class="string">'Showing decimals : '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">- </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">), </span><span class="default">16</span><span class="keyword">));<br />
echo(</span><span class="string">'&lt;br&gt;'</span><span class="keyword">);<br />
echo(</span><span class="string">'Using ceil + round : '</span><span class="keyword">.</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">round</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">)));<br />
</span><span class="default">?&gt;<br />
</span><br />
So if 'ceil' looks like it is not working correctly and rounding up figures that end in 0 (zero) then this might be the cause of this behaviour.<br />
Adding a simple 'round' before the applying the 'ceil' solves this problem.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117094""></a>
  <div class="note">
   <strong class="user">cedricaubert at gmail dot com</strong>
   <a href="#117094" class="date">14-Apr-2015 03:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a more accurate way to round on superior decimal.<br />
<br />
function round_sup($nb, $precision) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $p = pow(10, $precision);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ceil(round($nb * $p, 1)) / $p;<br />
}<br />
<br />
$k = 10 * 4.98;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // k = 49.8<br />
echo ceil($k * 10) / 10;&nbsp; &nbsp; // 49.9&nbsp;&nbsp; !!<br />
echo round_sup($k, 1);&nbsp;&nbsp; // 49.8</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116282""></a>
  <div class="note">
   <strong class="user">Gemini_13 at torba dot su</strong>
   <a href="#116282" class="date">05-Dec-2014 12:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$test = (1 - 0.7) * 10;<br />
<br />
$test_1 = ceil($test);<br />
$test_2 = ceil($test * 10);<br />
<br />
var_dump($test_1);&nbsp; &nbsp; // float 4<br />
var_dump($test_2);&nbsp; &nbsp; // float 31</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115008""></a>
  <div class="note">
   <strong class="user">josoort at home dot nl</strong>
   <a href="#115008" class="date">12-May-2014 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can simply make a ceil with decimals function by using the round() function and add 0.05 to the value if the value must have 1 decimal accuracy, or 0.005 for 2 decimals accuracy, or 0.0005 for 3 decimals etc.<br />
<br />
Example :<br />
<br />
function ceilDec($input, $decimals)<br />
{<br />
&nbsp;&nbsp;&nbsp; $subtract = 5 / pow(10, $decimals + 1);<br />
&nbsp;&nbsp;&nbsp; $output = round($input + $subtract, $decimals);<br />
&nbsp;&nbsp;&nbsp; return $output;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112840""></a>
  <div class="note">
   <strong class="user">eg at pensio dot com</strong>
   <a href="#112840" class="date">29-Jul-2013 11:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Remember that floating point precision means behavior can be "correct" - though not what you expect:<br />
<br />
php &gt; echo 100 * 1 * 0.07;<br />
7<br />
php &gt; echo ceil(100 * 1 * 0.07);<br />
8</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112438""></a>
  <div class="note">
   <strong class="user">alesegdia at gmail dot com</strong>
   <a href="#112438" class="date">16-Jun-2013 07:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some people asking on rounding -1.5 to -2 and 1.5 to 2, the way is this:<br />
<br />
<span class="default">&lt;?=round</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">PHP_ROUND_HALF_UP</span><span class="keyword">)</span><span class="default">?&gt;<br />
</span><br />
See round() doc for more information on this.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109581""></a>
  <div class="note">
   <strong class="user">sebastien dot thevenaz at gmail dot com</strong>
   <a href="#109581" class="date">30-Jul-2012 06:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is another way to use ceil for decimal numbers with precision:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">ceil_dec</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$precision</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$coefficient </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">,</span><span class="default">$precision</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">*</span><span class="default">$coefficient</span><span class="keyword">)/</span><span class="default">$coefficient</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108370""></a>
  <div class="note">
   <strong class="user">php is the best</strong>
   <a href="#108370" class="date">20-Apr-2012 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Ceil for decimal numbers with precision:<br />
<br />
function ceil_dec($number,$precision,$separator)<br />
{<br />
&nbsp;&nbsp;&nbsp; $numberpart=explode($separator,$number);&nbsp; <br />
$numberpart[1]=substr_replace($numberpart[1],$separator,$precision,0);<br />
&nbsp;&nbsp;&nbsp; if($numberpart[0]&gt;=0)<br />
&nbsp;&nbsp;&nbsp; {$numberpart[1]=ceil($numberpart[1]);}<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {$numberpart[1]=floor($numberpart[1]);}<br />
<br />
&nbsp;&nbsp;&nbsp; $ceil_number= array($numberpart[0],$numberpart[1]);<br />
&nbsp;&nbsp;&nbsp; return implode($separator,$ceil_number);<br />
}<br />
<br />
echo ceil_dec(1.125,2,"."); //1.13<br />
echo ceil_dec(-1.3436,3,"."); //-1.343<br />
echo ceil_dec(102938.1,4,"."); //102938.1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108123""></a>
  <div class="note">
   <strong class="user">Lexand</strong>
   <a href="#108123" class="date">30-Mar-2012 12:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$k = 0.14 * 100;<br />
echo ceil($k); // results 15<br />
<br />
solution is in converting float number to string<br />
<br />
Example 1.<br />
echo ceil ("{$k}"); // results 14<br />
<br />
Example 2.<br />
$totalSum1 = 102.1568;<br />
$k = $totalSum1 / 100;<br />
echo ceil ("{$k}"); // results 102.16<br />
<br />
Example 3.<br />
$totalSum2 = 102.15;<br />
$k = $totalSum1 / 100;<br />
echo ceil ("{$k}"); // results 102.15<br />
<br />
useful for 'ceil' with precision capability</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107384""></a>
  <div class="note">
   <strong class="user">frozenfire at php dot net</strong>
   <a href="#107384" class="date">06-Feb-2012 02:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please see <a href="http://www.php.net/manual/en/language.types.float.php for information regarding floating point precision issues." rel="nofollow" target="_blank">http://www.php.net/manual/en/language.types.float.php for information regarding floating point precision issues.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103900""></a>
  <div class="note">
   <strong class="user">oktam</strong>
   <a href="#103900" class="date">10-May-2011 03:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Actual behaviour:<br />
echo ceil(-0.1); //result "-0" but i expect "0"<br />
<br />
Workaround:<br />
echo ceil(-0.1)+0; //result "0"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102796""></a>
  <div class="note">
   <strong class="user">AndrewS</strong>
   <a href="#102796" class="date">07-Mar-2011 04:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The code below rounds a value up to a nearest multiple, away from zero.&nbsp; The multiple does not have to be a integer.&nbsp; So you could round, say, to the nearest 25.4, allowing you to round measurements in mm to the nearest inch longer.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// $x is the variable<br />
// $c is the base multiple to round to, away from zero<br />
</span><span class="default">$result </span><span class="keyword">=&nbsp; ( (</span><span class="default">$y </span><span class="keyword">= </span><span class="default">$x</span><span class="keyword">/</span><span class="default">$c</span><span class="keyword">) == (</span><span class="default">$y </span><span class="keyword">= (int)</span><span class="default">$y</span><span class="keyword">) ) ? </span><span class="default">$x </span><span class="keyword">: ( </span><span class="default">$x</span><span class="keyword">&gt;=</span><span class="default">0 </span><span class="keyword">?++</span><span class="default">$y</span><span class="keyword">:--</span><span class="default">$y</span><span class="keyword">)*</span><span class="default">$c </span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
I originally developed this as an example of write-only code: to make the point that being cleverly terse might save clock ticks but wastes more in programmer time generating un-maintainable code.<br />
<br />
The inline code above nests one conditional statement inside another.&nbsp; The value of y changes twice within the same line (three times, if you count the pre-increment).&nbsp; The value of each assignment is used to determine branching within the conditional statement.<br />
<br />
How it works can more easily be seen from the expansion below:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">myCeilingLong</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$c</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// $x is variable<br />
&nbsp;&nbsp;&nbsp; // $c is ceiling multiple<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$x</span><span class="keyword">/</span><span class="default">$c </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= (int)</span><span class="default">$a </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">$b</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$x </span><span class="keyword">;&nbsp; </span><span class="comment">// x is already a multiple of c;<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$x</span><span class="keyword">&gt;=</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (</span><span class="default">$b</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)*</span><span class="default">$c </span><span class="keyword">;&nbsp; </span><span class="comment">// return ((int)(x/c)+1 ) * c<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (</span><span class="default">$b</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">)*</span><span class="default">$c </span><span class="keyword">;&nbsp; </span><span class="comment">// return ((int)(x/c)-1 ) * c<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">myCeilingShort</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$c</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return ( (</span><span class="default">$y </span><span class="keyword">= </span><span class="default">$x</span><span class="keyword">/</span><span class="default">$c</span><span class="keyword">) == (</span><span class="default">$y </span><span class="keyword">= (int)</span><span class="default">$y</span><span class="keyword">) ) ? </span><span class="default">$x </span><span class="keyword">: ( </span><span class="default">$x</span><span class="keyword">&gt;=</span><span class="default">0 </span><span class="keyword">?++</span><span class="default">$y</span><span class="keyword">:--</span><span class="default">$y</span><span class="keyword">)*</span><span class="default">$c </span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Comparing the versions for speed: the in-line version is about three times faster than myCeilingLong() - but this is almost entirely down to function call overhead.&nbsp; <br />
<br />
Putting the in-line code inside the function: the difference in execution speed between myCeilingLong() and myCeilingShort() is around 1.5%.<br />
<br />
ceil() is still around 25% faster than the in-line statement so if you are a speed hound your efforts might be better devoted to compiling your own library ...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85430""></a>
  <div class="note">
   <strong class="user">Scott Weaver / scottmweaver * gmail</strong>
   <a href="#85430" class="date">29-Aug-2008 10:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed this and couldn't find it so I thought someone else wouldn't have to look through a bunch of Google results-<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// duplicates m$ excel's ceiling function<br />
</span><span class="keyword">if( !</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'ceiling'</span><span class="keyword">) )<br />
{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">ceiling</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$significance </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ( </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) &amp;&amp; </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$significance</span><span class="keyword">) ) ? (</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">/</span><span class="default">$significance</span><span class="keyword">)*</span><span class="default">$significance</span><span class="keyword">) : </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
echo </span><span class="default">ceiling</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">1000</span><span class="keyword">);&nbsp; &nbsp;&nbsp; </span><span class="comment">// 0<br />
</span><span class="keyword">echo </span><span class="default">ceiling</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// 1000<br />
</span><span class="keyword">echo </span><span class="default">ceiling</span><span class="keyword">(</span><span class="default">1001</span><span class="keyword">, </span><span class="default">1000</span><span class="keyword">);&nbsp; </span><span class="comment">// 2000<br />
</span><span class="keyword">echo </span><span class="default">ceiling</span><span class="keyword">(</span><span class="default">1.27</span><span class="keyword">, </span><span class="default">0.05</span><span class="keyword">);&nbsp; </span><span class="comment">// 1.30<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74010""></a>
  <div class="note">
   <strong class="user">themanwe at yahoo dot com</strong>
   <a href="#74010" class="date">20-Mar-2007 11:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
float ceil<br />
<br />
function fCeil($val,$pressision=2){<br />
&nbsp;&nbsp; &nbsp; $p = pow(10,$pressision);<br />
&nbsp;&nbsp;&nbsp; $val = $val*$p;<br />
&nbsp;&nbsp;&nbsp; $val = ceil($val);<br />
&nbsp; return $val /$p;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50448""></a>
  <div class="note">
   <strong class="user">steve_phpnet // nanovox \\ com</strong>
   <a href="#50448" class="date">28-Feb-2005 12:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I couldn't find any functions to do what ceiling does while still leaving I specified number of decimal places, so I wrote a couple functions myself.&nbsp; round_up is like ceil but allows you to specify a number of decimal places.&nbsp; round_out does the same, but rounds away from zero.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="comment">// round_up:<br />
&nbsp;// rounds up a float to a specified number of decimal places<br />
&nbsp;// (basically acts like ceil() but allows for decimal places)<br />
&nbsp;</span><span class="keyword">function </span><span class="default">round_up </span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$places</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp; if (</span><span class="default">$places </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) { </span><span class="default">$places </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; }<br />
&nbsp; </span><span class="default">$mult </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">$places</span><span class="keyword">);<br />
&nbsp; return </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">* </span><span class="default">$mult</span><span class="keyword">) / </span><span class="default">$mult</span><span class="keyword">;<br />
&nbsp;}<br />
<br />
&nbsp;</span><span class="comment">// round_out:<br />
&nbsp;// rounds a float away from zero to a specified number of decimal places<br />
&nbsp;</span><span class="keyword">function </span><span class="default">round_out </span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$places</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp; if (</span><span class="default">$places </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) { </span><span class="default">$places </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; }<br />
&nbsp; </span><span class="default">$mult </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">$places</span><span class="keyword">);<br />
&nbsp; return (</span><span class="default">$value </span><span class="keyword">&gt;= </span><span class="default">0 </span><span class="keyword">? </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">* </span><span class="default">$mult</span><span class="keyword">):</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">* </span><span class="default">$mult</span><span class="keyword">)) / </span><span class="default">$mult</span><span class="keyword">;<br />
&nbsp;}<br />
<br />
&nbsp;echo </span><span class="default">round_up </span><span class="keyword">(</span><span class="default">56.77001</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="comment">// displays 56.78<br />
&nbsp;</span><span class="keyword">echo </span><span class="default">round_up </span><span class="keyword">(-</span><span class="default">0.453001</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">); </span><span class="comment">// displays -0.453<br />
&nbsp;</span><span class="keyword">echo </span><span class="default">round_out </span><span class="keyword">(</span><span class="default">56.77001</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="comment">// displays 56.78<br />
&nbsp;</span><span class="keyword">echo </span><span class="default">round_out </span><span class="keyword">(-</span><span class="default">0.453001</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">); </span><span class="comment">// displays -0.4531<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44348""></a>
  <div class="note">
   <strong class="user">aaron at mind-design dot co dot uk</strong>
   <a href="#44348" class="date">21-Jul-2004 01:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Or for the terniary fans:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">roundaway</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) {<br />
&nbsp;&nbsp; return((</span><span class="default">$num </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) ? </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) : </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Slightly pointless, but there you have it, in one line only..</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41794""></a>
  <div class="note">
   <strong class="user">rainfalling at yahoo dot com</strong>
   <a href="#41794" class="date">22-Apr-2004 05:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
IceKarma said: "If you want, say, 2.6 to round to 3, and -2.6 to round to -3, you want round(), which rounds away from zero."<br />
<br />
That's not always true. round() doesn't work that way, like zomis2k said it just rounds up _or_ down to the nearest non-decimal number. However this should work.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">roundaway</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$num </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; elseif (</span><span class="default">$num </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; elseif (</span><span class="default">$num </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">0</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37313""></a>
  <div class="note">
   <strong class="user">roger_dupere at hotmail dot com</strong>
   <a href="#37313" class="date">10-Nov-2003 02:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a navbar using the ceil function.
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;</span><span class="keyword">function </span><span class="default">navbar</span><span class="keyword">(</span><span class="default">$num_rows</span><span class="keyword">,</span><span class="default">$page</span><span class="keyword">,</span><span class="default">$link</span><span class="keyword">) {
<br />
&nbsp;&nbsp; </span><span class="default">$nbrlink </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">; </span><span class="comment">/* Number of link to display per page */
<br />
&nbsp;&nbsp; </span><span class="default">$page </span><span class="keyword">= (int) </span><span class="default">$page</span><span class="keyword">; </span><span class="comment">/* Page now displayed */
<br />
&nbsp;&nbsp; </span><span class="default">$num_rows </span><span class="keyword">= (int) </span><span class="default">$num_rows</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp; if( </span><span class="default">$num_rows </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$total_page </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">( </span><span class="default">$num_rows </span><span class="keyword">/ </span><span class="default">$nbrlink </span><span class="keyword">);
<br />

<br />
&nbsp;&nbsp; &nbsp; for( </span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$total_page</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++ ) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; if( </span><span class="default">$i </span><span class="keyword">== </span><span class="default">$page </span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">.= </span><span class="string">" &lt;b&gt;</span><span class="default">$i</span><span class="string">&lt;/b&gt; "</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; } else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">strstr</span><span class="keyword">( </span><span class="default">$link</span><span class="keyword">,</span><span class="string">"?" </span><span class="keyword">) ) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">.= </span><span class="string">" &lt;a href=\"</span><span class="default">$link</span><span class="string">&amp;page=</span><span class="default">$i</span><span class="string">\"&gt;</span><span class="default">$i</span><span class="string">&lt;/a&gt; "</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; } else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">.= </span><span class="string">" &lt;a href=\"</span><span class="default">$link</span><span class="string">?page=</span><span class="default">$i</span><span class="string">\"&gt;</span><span class="default">$i</span><span class="string">&lt;/a&gt; "</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; }
<br />
&nbsp;&nbsp; &nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">$ret</span><span class="keyword">;
<br />
&nbsp;&nbsp; }
<br />
&nbsp;}
<br />
&nbsp; </span><span class="comment">/* Let say that $num_rows content the numbre of rows of your sql query */
<br />
&nbsp; </span><span class="default">$navbar </span><span class="keyword">= </span><span class="default">navbar</span><span class="keyword">( </span><span class="default">$num_rows</span><span class="keyword">, </span><span class="default">$page</span><span class="keyword">, </span><span class="string">"listmovie.php?id=</span><span class="default">$id</span><span class="string">" </span><span class="keyword">);
<br />

<br />
&nbsp; if( </span><span class="default">$navbar </span><span class="keyword">!= </span><span class="default">null </span><span class="keyword">|| </span><span class="default">$navbar </span><span class="keyword">!= </span><span class="string">"" </span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; print( </span><span class="string">"&lt;p&gt;&lt;div align=\"center\"&gt;</span><span class="default">$navbar</span><span class="string">&lt;/div&gt;&lt;/p&gt;" </span><span class="keyword">);
<br />
&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
