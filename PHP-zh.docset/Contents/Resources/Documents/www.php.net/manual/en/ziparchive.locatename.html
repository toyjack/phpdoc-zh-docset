<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Returns the index of the entry in the archive</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ziparchive.isencryptionmethoddupported.html">? ZipArchive::isEncryptionMethodSupported</a></li>
      <li style="float: right;"><a href="ziparchive.open.html">ZipArchive::open ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.ziparchive.html">ZipArchive</a></li>
    <li>Returns the index of the entry in the archive</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ziparchive.locatename" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ZipArchive::locateName</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8, PECL zip &gt;= 1.5.0)</p><p class="refpurpose"><span class="refname">ZipArchive::locateName</span> &mdash; <span class="dc-title">Returns the index of the entry in the archive</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-ziparchive.locatename-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>ZipArchive::locateName</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
   ) : <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Locates an entry using its name.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-ziparchive.locatename-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">name</code></dt>

     <dd>

      <p class="para">
       The name of the entry to look up
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">flags</code></dt>

     <dd>

      <p class="para">
       The flags are specified by ORing the following values,
       or 0 for none of them.
       <ul class="itemizedlist">
        <li class="listitem">
         <p class="para">
          <strong><code>ZipArchive::FL_NOCASE</code></strong>
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          <strong><code>ZipArchive::FL_NODIR</code></strong>
         </p>
        </li>
       </ul>
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-ziparchive.locatename-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns the index of the entry on success 或者在失败时返回 <strong><code>false</code></strong>.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-ziparchive.locatename-examples">
  <h3 class="title">范例</h3>
    <div class="example" id="example-801">
     <p><strong>Example #1 Create an archive and then use it with <span class="function"><strong>ZipArchive::locateName()</strong></span></strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'testlocate.zip'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$zip&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ZipArchive</span><span style="color: #007700">;<br />if&nbsp;(</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">open</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ZipArchive</span><span style="color: #007700">::</span><span style="color: #0000BB">CREATE</span><span style="color: #007700">)&nbsp;!==&nbsp;</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color: #DD0000">'failed'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFromString</span><span style="color: #007700">(</span><span style="color: #DD0000">'entry1.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'entry&nbsp;#1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFromString</span><span style="color: #007700">(</span><span style="color: #DD0000">'entry2.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'entry&nbsp;#2'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFromString</span><span style="color: #007700">(</span><span style="color: #DD0000">'dir/entry2d.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'entry&nbsp;#2'</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">status&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">ZipArchive</span><span style="color: #007700">::</span><span style="color: #0000BB">ER_OK</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"failed&nbsp;to&nbsp;write&nbsp;zip\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /><br />if&nbsp;(</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">open</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;!==&nbsp;</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color: #DD0000">'failed'</span><span style="color: #007700">);<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">locateName</span><span style="color: #007700">(</span><span style="color: #DD0000">'entry1.txt'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">locateName</span><span style="color: #007700">(</span><span style="color: #DD0000">'eNtry2.txt'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">locateName</span><span style="color: #007700">(</span><span style="color: #DD0000">'eNtry2.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ZipArchive</span><span style="color: #007700">::</span><span style="color: #0000BB">FL_NOCASE</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">locateName</span><span style="color: #007700">(</span><span style="color: #DD0000">'enTRy2d.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ZipArchive</span><span style="color: #007700">::</span><span style="color: #0000BB">FL_NOCASE</span><span style="color: #007700">|</span><span style="color: #0000BB">ZipArchive</span><span style="color: #007700">::</span><span style="color: #0000BB">FL_NODIR</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$zip</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
    <p class="para">以上例程会输出：</p>
    <div class="example-contents screen">
<div class="cdata"><pre>
0

1
2
</pre></div>
  </div>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="110161""></a>
  <div class="note">
   <strong class="user">thedotwriter</strong>
   <a href="#110161" class="date">25-Sep-2012 08:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As this is not directly available from this page, here's the meaning of the two flags:<br />
<br />
ZIPARCHIVE::FL_NOCASE<br />
&nbsp;&nbsp;&nbsp; Ignore case on name lookup<br />
&nbsp;&nbsp;&nbsp; <br />
ZIPARCHIVE::FL_NODIR<br />
&nbsp;&nbsp;&nbsp; Ignore directory component<br />
&nbsp;&nbsp;&nbsp; <br />
All defined constants can be found here : <a href="http://php.net/manual/en/zip.constants.php" rel="nofollow" target="_blank">http://php.net/manual/en/zip.constants.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85512""></a>
  <div class="note">
   <strong class="user">me at nowhere dot com</strong>
   <a href="#85512" class="date">03-Sep-2008 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If the option ZIPARCHIVE::FL_NODIR is used, the result may be ambiguous as files with the same name may occur in various directories. In this case, the first occurence in the index whoose name matches is returned.<br />
E.g.<br />
<br />
<span class="default">&lt;?php<br />
$zip</span><span class="keyword">-&gt;</span><span class="default">addFromString</span><span class="keyword">(</span><span class="string">'afile.txt'</span><span class="keyword">, </span><span class="string">'index 0'</span><span class="keyword">);<br />
</span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">addFromString</span><span class="keyword">(</span><span class="string">'double.txt'</span><span class="keyword">, </span><span class="string">'index 1'</span><span class="keyword">);<br />
</span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">addFromString</span><span class="keyword">(</span><span class="string">'dir/double.txt'</span><span class="keyword">, </span><span class="string">'index 2'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
$zip-&gt;locateName('double.txt',ZIPARCHIVE::FL_NODIR) returns 1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
