<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>去除字符串首尾处的空白字符（或者其他字符）</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.substr.html">? substr</a></li>
      <li style="float: right;"><a href="function.ucfirst.html">ucfirst ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.strings.html">字符串 函数</a></li>
    <li>去除字符串首尾处的空白字符（或者其他字符）</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.trim" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">trim</h1> 
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">trim</span> &mdash; <span class="dc-title">去除字符串首尾处的空白字符（或者其他字符）</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.trim-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>trim</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$str</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$character_mask</code><span class="initializer"> = &quot; \t\n\r\0\x0B&quot;</span></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   此函数返回字符串 <code class="parameter">str</code> 去除首尾空白字符后的结果。如果不指定第二个参数，<span class="function"><strong>trim()</strong></span> 将去除这些字符：
   
   <ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      &quot; &quot; (<acronym title="American Standard Code for Information Interchange">ASCII</acronym> <code class="literal">32</code> 
      (<code class="literal">0x20</code>))，普通空格符。
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      &quot;\t&quot; (<acronym title="American Standard Code for Information Interchange">ASCII</acronym> <code class="literal">9</code> 
      (<code class="literal">0x09</code>))，制表符。
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      &quot;\n&quot; (<acronym title="American Standard Code for Information Interchange">ASCII</acronym> <code class="literal">10</code> 
      (<code class="literal">0x0A</code>))，换行符。
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      &quot;\r&quot; (<acronym title="American Standard Code for Information Interchange">ASCII</acronym> <code class="literal">13</code> 
      (<code class="literal">0x0D</code>))，回车符。
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      &quot;\0&quot; (<acronym title="American Standard Code for Information Interchange">ASCII</acronym> <code class="literal">0</code> 
      (<code class="literal">0x00</code>))，空字节符。
     </span>
    </li>
    <li class="listitem">
     <span class="simpara"> 
      &quot;\x0B&quot; (<acronym title="American Standard Code for Information Interchange">ASCII</acronym> <code class="literal">11</code> 
      (<code class="literal">0x0B</code>))，垂直制表符。
     </span>
    </li>
   </ul>
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.trim-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">str</code></dt>

     <dd>

      <p class="para">
       待处理的<span class="type"><span class="type 字符串">字符串</span></span>。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">character_mask</code></dt>

     <dd>

      <p class="para">
      可选参数，过滤字符也可由 <code class="parameter">character_mask</code> 参数指定。一般要列出所有希望过滤的字符，也可以使用 "<code class="literal">..</code>" 列出一个字符范围。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.trim-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   过滤后的字符串。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.trim-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-4770">
    <p><strong>Example #1 <span class="function"><strong>trim()</strong></span> 使用范例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$text&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"\t\tThese&nbsp;are&nbsp;a&nbsp;few&nbsp;words&nbsp;:)&nbsp;...&nbsp;&nbsp;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$binary&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"\x09Example&nbsp;string\x0A"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hello&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;World"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$binary</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$hello</span><span style="color: #007700">);<br /><br />print&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$trimmed&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$trimmed</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$trimmed&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"&nbsp;\t."</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$trimmed</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$trimmed&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$hello</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Hdle"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$trimmed</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;清除&nbsp;$binary&nbsp;首位的&nbsp;ASCII&nbsp;控制字符<br />//&nbsp;（包括&nbsp;0-31）<br /></span><span style="color: #0000BB">$clean&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$binary</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\x00..\x1F"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$clean</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
string(32) &quot;        These are a few words :) ...  &quot;
string(16) &quot;    Example string
&quot;
string(11) &quot;Hello World&quot;

string(28) &quot;These are a few words :) ...&quot;
string(24) &quot;These are a few words :)&quot;
string(5) &quot;o Wor&quot;
string(14) &quot;Example string&quot;
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4771">
    <p><strong>Example #2 使用 <span class="function"><strong>trim()</strong></span> 清理数组值</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">trim_value</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;<br />{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">);&nbsp;<br />}<br /><br /></span><span style="color: #0000BB">$fruit&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">,</span><span style="color: #DD0000">'banana&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;cranberry&nbsp;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$fruit</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">array_walk</span><span style="color: #007700">(</span><span style="color: #0000BB">$fruit</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'trim_value'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$fruit</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(3) {
  [0]=&gt;
  string(5) &quot;apple&quot;
  [1]=&gt;
  string(7) &quot;banana &quot;
  [2]=&gt;
  string(11) &quot; cranberry &quot;
}
array(3) {
  [0]=&gt;
  string(5) &quot;apple&quot;
  [1]=&gt;
  string(6) &quot;banana&quot;
  [2]=&gt;
  string(9) &quot;cranberry&quot;
}

</pre></div>
    </div>
   </div>
  </p>
 </div>



 <div class="refsect1 notes" id="refsect1-function.trim-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <strong>Possible gotcha: removing middle characters</strong><br />
   <p class="para">
    Because <span class="function"><strong>trim()</strong></span> trims characters from the beginning and end of
    a <span class="type">string</span>, it may be confusing when characters are (or are not) removed from
    the middle. <code class="literal">trim(&#039;abc&#039;, &#039;bad&#039;)</code> removes both &#039;a&#039; and &#039;b&#039; because it
    trims &#039;a&#039; thus moving &#039;b&#039; to the beginning to also be trimmed. So, this is why it &quot;works&quot;
    whereas <code class="literal">trim(&#039;abc&#039;, &#039;b&#039;)</code> seemingly does not.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.trim-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.ltrim.html" class="function" rel="rdfs-seeAlso">ltrim()</a> - 删除字符串开头的空白字符（或其他字符）</span></li>
    <li class="member"><span class="function"><a href="function.rtrim.html" class="function" rel="rdfs-seeAlso">rtrim()</a> - 删除字符串末端的空白字符（或者其他字符）</span></li>
    <li class="member"><span class="function"><a href="function.str-replace.html" class="function" rel="rdfs-seeAlso">str_replace()</a> - 子字符串替换</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="126114""></a>
  <div class="note">
   <strong class="user">mihow</strong>
   <a href="#126114" class="date">27-May-2021 04:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is the best solution I've found that strips all types of whitespace and it multibyte safe<br />
<br />
$new_str = trim(preg_replace("/\s+/u", " ", $str));<br />
<br />
Solution taken from here:<br />
https://stackoverflow.com/a/40264711/966058</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="126021""></a>
  <div class="note">
   <strong class="user">a at b dot com</strong>
   <a href="#126021" class="date">18-Apr-2021 07:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Care should be taken if the string to be trimmed contains intended characters from the definition list.<br />
<br />
E.g. if you want to trim just starting and ending quote characters, trim will also remove a trailing quote that was intentionally contained in the string, if at position 0 or at the end, and if the string was defined in double quotes, then trim will only remove the quote character itself, but not the backslash that was used for it's definition. Yields interesting output and may be puzzling to debug...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123736""></a>
  <div class="note">
   <strong class="user">roger21 at free dot fr</strong>
   <a href="#123736" class="date">04-Apr-2019 11:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is worth mentioning that trim, ltrim and rtrim are NOT multi-byte safe, meaning that trying to remove an utf-8 encoded non-breaking space for instance will result in the destruction of utf-8 characters than contain parts of the utf-8 encoded non-breaking space, for instance:<br />
<br />
non breaking-space is "\u{a0}" or "\xc2\xa0" in utf-8, "μ" is "\u{b5}" or "\xc2\xb5" in utf-8 and "à" is "\u{e0}" or "\xc3\xa0" in utf-8<br />
<br />
$input = "\u{a0}μ déjà\u{a0}"; // "&nbsp;μ déjà&nbsp;"<br />
$output = trim($input, "\u{a0}"); // "? déj?" or whatever how the interpretation of broken utf-8 characters is performed<br />
<br />
$output got both "\u{a0}" characters removed but also both "μ" and "à" characters destroyed</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123735""></a>
  <div class="note">
   <strong class="user">igor dot pellegrini at berlinonline dot de</strong>
   <a href="#123735" class="date">04-Apr-2019 10:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware with trimming apparently innocent characters. It is NOT a Unicode-safe function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">trim</span><span class="keyword">(</span><span class="string">'≈ [Approximation sign]'</span><span class="keyword">, </span><span class="string">'- [en-dash]'</span><span class="keyword">);&nbsp; </span><span class="comment">// ?? [Approximation sig<br />
</span><span class="default">?&gt;<br />
</span><br />
The en-dash here is breaking the Unicode characters.<br />
<br />
And also prevents the open-square-bracket from being seen as part of the characters to trim on the left side, letting it untouched in the resulting string.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123618""></a>
  <div class="note">
   <strong class="user">Mark-Centurion at ya dot ru</strong>
   <a href="#123618" class="date">16-Feb-2019 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
utf-8:<br />
trim($text, " \t\n\r\0\x0B\xC2\xA0");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123049""></a>
  <div class="note">
   <strong class="user">solaimanshah059 at gmail dot com</strong>
   <a href="#123049" class="date">18-Aug-2018 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple Example I hope you will understand easily:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Inserting empty variable;<br />
<br />
</span><span class="default">$name </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
<br />
if( !(empty( </span><span class="default">$name </span><span class="keyword">)) )<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"INSERT INTO `users`( name ) VALUE( '</span><span class="default">$name</span><span class="string">' );"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// But is not empty that will be inserted but space<br />
<br />
</span><span class="default">$name2 </span><span class="keyword">= </span><span class="string">"&nbsp; &nbsp;&nbsp; "</span><span class="keyword">;<br />
<br />
if( !(empty( </span><span class="default">$name </span><span class="keyword">)) )<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"INSERT INTO `users`( name ) VALUE( '</span><span class="default">$name</span><span class="string">' );"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Now that will not be inserted by using trim() function<br />
<br />
</span><span class="default">$name3 </span><span class="keyword">= </span><span class="string">"&nbsp; &nbsp;&nbsp; "</span><span class="keyword">;<br />
<br />
if( !(empty( </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) )) )<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"INSERT INTO `users`( name ) VALUE( '</span><span class="default">$name</span><span class="string">' );"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122261""></a>
  <div class="note">
   <strong class="user">aalhad at NOSPAM dot gmail dot com</strong>
   <a href="#122261" class="date">11-Jan-2018 11:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When specifying the character mask, <br />
make sure that you use double quotes<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; $hello </span><span class="keyword">= </span><span class="string">" <br />
&nbsp;&nbsp; &nbsp;&nbsp; Hello World&nbsp;&nbsp; "</span><span class="keyword">; </span><span class="comment">//here is a string with some trailing and leading whitespace<br />
<br />
&nbsp; </span><span class="default">$trimmed_correct&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$hello</span><span class="keyword">, </span><span class="string">" \t\n\r"</span><span class="keyword">); </span><span class="comment">//&lt;--------OKAY<br />
&nbsp; </span><span class="default">$trimmed_incorrect </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$hello</span><span class="keyword">, </span><span class="string">' \t\n\r'</span><span class="keyword">); </span><span class="comment">//&lt;--------NOT AS EXPECTED<br />
<br />
&nbsp; </span><span class="keyword">print(</span><span class="string">"----------------------------"</span><span class="keyword">);<br />
&nbsp; print(</span><span class="string">"TRIMMED OK:"</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">);<br />
&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$trimmed_correct</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">);<br />
&nbsp; print(</span><span class="string">"----------------------------"</span><span class="keyword">);<br />
&nbsp; print(</span><span class="string">"TRIMMING NOT OK:"</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">);<br />
&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$trimmed_incorrect</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">);<br />
&nbsp; print(</span><span class="string">"----------------------------"</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Here is the output:<br />
<br />
----------------------------TRIMMED OK:<br />
Hello World<br />
----------------------------TRIMMING NOT OK:<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; Hello World<br />
----------------------------</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121463""></a>
  <div class="note">
   <strong class="user">johovich at yandex dot ru</strong>
   <a href="#121463" class="date">30-Jul-2017 10:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
trim is the fastest way to remove first and last char.<br />
<br />
Benchmark comparsion 4 different ways to trim string with&nbsp; '/' <br />
4 functions with the same result - array exploded by '/'<br />
<br />
<span class="default">&lt;?php<br />
$s </span><span class="keyword">= </span><span class="string">'/catalog/lyustry/svet/dom-i-svet/'</span><span class="keyword">;<br />
<br />
</span><span class="default">$times </span><span class="keyword">= </span><span class="default">100000</span><span class="keyword">;<br />
<br />
print </span><span class="default">cycle</span><span class="keyword">(</span><span class="string">"str_preg('</span><span class="default">$s</span><span class="string">');"</span><span class="keyword">, </span><span class="default">$times</span><span class="keyword">);<br />
print </span><span class="default">cycle</span><span class="keyword">(</span><span class="string">"str_preg2('</span><span class="default">$s</span><span class="string">');"</span><span class="keyword">, </span><span class="default">$times</span><span class="keyword">);<br />
print </span><span class="default">cycle</span><span class="keyword">(</span><span class="string">"str_sub_replace('</span><span class="default">$s</span><span class="string">');"</span><span class="keyword">, </span><span class="default">$times</span><span class="keyword">);<br />
print </span><span class="default">cycle</span><span class="keyword">(</span><span class="string">"str_trim('</span><span class="default">$s</span><span class="string">');"</span><span class="keyword">, </span><span class="default">$times</span><span class="keyword">);<br />
print </span><span class="default">cycle</span><span class="keyword">(</span><span class="string">"str_clear('</span><span class="default">$s</span><span class="string">');"</span><span class="keyword">, </span><span class="default">$times</span><span class="keyword">);<br />
<br />
</span><span class="comment">//print_r(str_preg2($s));<br />
<br />
</span><span class="keyword">function </span><span class="default">cycle</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$times</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$times </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">){ <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">$times </span><span class="keyword">&gt; </span><span class="default">$count</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; eval(</span><span class="default">$function</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$start</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="string">"\n </span><span class="default">$function</span><span class="string"> exec time: </span><span class="default">$end</span><span class="string">"</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">str_clear</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, function (</span><span class="default">$s</span><span class="keyword">){if(!empty(</span><span class="default">$s</span><span class="keyword">)) return </span><span class="default">true</span><span class="keyword">;});<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">str_preg2</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/((?&lt;!.)\/(?=.))?((?&lt;=.)\/(?!.))?/i'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">str_preg</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/^(\/?)(.*?)(\/?)$/i'</span><span class="keyword">, </span><span class="string">'$2'</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">str_sub_replace</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'/' </span><span class="keyword">, </span><span class="string">'' </span><span class="keyword">, </span><span class="default">mb_substr</span><span class="keyword">( </span><span class="default">$s </span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)) . </span><span class="default">mb_substr</span><span class="keyword">( </span><span class="default">$s </span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">) . </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">mb_substr</span><span class="keyword">(&nbsp; </span><span class="default">$s </span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">; <br />
}<br />
<br />
function </span><span class="default">str_trim</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
}</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121342""></a>
  <div class="note">
   <strong class="user">tongcheong77 at gmail dot com</strong>
   <a href="#121342" class="date">09-Jul-2017 12:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you are using trim and you still can't remove the whitespace then check if your closing tag inside the html document is NOT at the next line. <br />
<br />
&lt;textarea class="form-control" rows="5"&gt;<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$comment</span><span class="keyword">);</span><span class="default">?&gt;</span>&lt;/textarea&gt;<br />
<br />
there should be no spaces at the beginning and end of your echo statement, else trim will not work as expected.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121305""></a>
  <div class="note">
   <strong class="user">ivijan dot stefan at gmail dot com</strong>
   <a href="#121305" class="date">03-Jul-2017 09:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Standard trim() functions can be a problematic when come HTML entities. That's why i wrote "Super Trim" function what is used to handle with this problem and also you can choose is trimming from the begin, end or booth side of string.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">strim</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$charlist</span><span class="keyword">=</span><span class="string">" "</span><span class="keyword">,</span><span class="default">$option</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Translate HTML entities<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">strtr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">get_html_translation_table</span><span class="keyword">(</span><span class="default">HTML_ENTITIES</span><span class="keyword">, </span><span class="default">ENT_QUOTES</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Remove multi whitespace<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"@\s+\s@Ui"</span><span class="keyword">,</span><span class="string">" "</span><span class="keyword">,</span><span class="default">$return</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Choose trim option<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">switch(</span><span class="default">$option</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Strip whitespace (and other characters) from the begin and end of string<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">0</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">,</span><span class="default">$charlist</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Strip whitespace (and other characters) from the begin of string <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">case </span><span class="default">1</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">ltrim</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">,</span><span class="default">$charlist</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Strip whitespace (and other characters) from the end of string <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">case </span><span class="default">2</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">,</span><span class="default">$charlist</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121210""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#121210" class="date">11-Jun-2017 04:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The comment of "ludko2 at gmail dot com" for trimming non-breaking spaces is wrong due the the way UTF-8 works. For example, it breaks on `"&amp;nbsp;abà"`.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117268""></a>
  <div class="note">
   <strong class="user">jianglong at qiyi dot com</strong>
   <a href="#117268" class="date">13-May-2015 08:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Trim full width space will return mess character,&nbsp; when target string starts with '《'
<br />

<br />
@example&nbsp; 
<br />
echo trim("《", "　"); 
<br />

<br />
@return 
<br />
?
<br />

<br />
php version 5.4.27
<br />

<br />
[EDIT by cmb AT php DOT net: it is not necessarily safe to use trim with multibyte character encodings. The given example is equivalent to echo trim("\xe3\80\8a", "\xe3\x80\x80").]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98812""></a>
  <div class="note">
   <strong class="user">ludko2 at gmail dot com</strong>
   <a href="#98812" class="date">09-Jul-2010 02:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Non-breaking spaces can be troublesome with trim:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// turn some HTML with non-breaking spaces into a "normal" string
<br />
</span><span class="default">$myHTML </span><span class="keyword">= </span><span class="string">"&amp;nbsp;abc"</span><span class="keyword">;
<br />
</span><span class="default">$converted </span><span class="keyword">= </span><span class="default">strtr</span><span class="keyword">(</span><span class="default">$myHTML</span><span class="keyword">, </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">get_html_translation_table</span><span class="keyword">(</span><span class="default">HTML_ENTITIES</span><span class="keyword">, </span><span class="default">ENT_QUOTES</span><span class="keyword">)));
<br />

<br />
</span><span class="comment">// this WILL NOT work as expected
<br />
// $converted will still appear as " abc" in view source
<br />
// (but not in od -x)
<br />
</span><span class="default">$converted </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$converted</span><span class="keyword">);
<br />

<br />
</span><span class="comment">// &amp;nbsp; are translated to 0xA0, so use:
<br />
</span><span class="default">$converted </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$converted</span><span class="keyword">, </span><span class="string">"\xA0"</span><span class="keyword">); </span><span class="comment">// &lt;- THIS DOES NOT WORK
<br />

<br />
// EDITED&gt;&gt;
<br />
// UTF encodes it as chr(0xC2).chr(0xA0)
<br />
</span><span class="default">$converted </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$converted</span><span class="keyword">,</span><span class="default">chr</span><span class="keyword">(</span><span class="default">0xC2</span><span class="keyword">).</span><span class="default">chr</span><span class="keyword">(</span><span class="default">0xA0</span><span class="keyword">)); </span><span class="comment">// should work
<br />

<br />
// PS: Thanks to John for saving my sanity!
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72306""></a>
  <div class="note">
   <strong class="user">Piopier</strong>
   <a href="#72306" class="date">12-Jan-2007 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It may be useful to know that trim() returns an empty string when the argument is an unset/null variable.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52923""></a>
  <div class="note">
   <strong class="user">dmr37 at cornell dot edu</strong>
   <a href="#52923" class="date">17-May-2005 12:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to check whether something ONLY has whitespaces, use the following:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="keyword">if (</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$foobar</span><span class="keyword">)==</span><span class="string">''</span><span class="keyword">) {
<br />
&nbsp;&nbsp; echo </span><span class="string">'The string $foobar only contains whitespace!'</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49754""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#49754" class="date">07-Feb-2005 04:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another way to trim all the elements of an array<br />
<span class="default">&lt;?php<br />
$newarray </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'trim'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41699""></a>
  <div class="note">
   <strong class="user">jubi at irc dot pl</strong>
   <a href="#41699" class="date">20-Apr-2004 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To remove multiple occurences of whitespace characters in a string an convert them all into single spaces, use this:<br />
<br />
&lt;?<br />
<br />
$text = preg_replace('/\s+/', ' ', $text);<br />
<br />
?&gt;<br />
<br />
------------<br />
JUBI<br />
<a href="http://www.jubi.buum.pl" rel="nofollow" target="_blank">http://www.jubi.buum.pl</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32756""></a>
  <div class="note">
   <strong class="user">HW</strong>
   <a href="#32756" class="date">05-Jun-2003 06:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can combine character ranges and individual characters in trim()'s second argument (ditto for ltrim and rtrim). All of the specified characters and ranges will be used concurrently (i.e., if a character on either end of the string matches any of the specified charaters or character ranges, it will be trimmed). The characters and character ranges can be in any order (except of course that the character ranges need to be specified in increasing order) and may overlap.<br />
E.g., trim any nongraphical non-ASCII character:<br />
trim($text,"\x7f..\xff\x0..\x1f");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
