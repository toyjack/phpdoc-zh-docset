<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Set socket I/O activity timeout</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="gearmanclient.setstatuscallback.html">? GearmanClient::setStatusCallback</a></li>
      <li style="float: right;"><a href="gearmanclient.setwarningcallback.html">GearmanClient::setWarningCallback ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.gearmanclient.html">GearmanClient</a></li>
    <li>Set socket I/O activity timeout</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="gearmanclient.settimeout" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">GearmanClient::setTimeout</h1>
  <p class="verinfo">(PECL gearman &gt;= 0.6.0)</p><p class="refpurpose"><span class="refname">GearmanClient::setTimeout</span> &mdash; <span class="dc-title">Set socket I/O activity timeout</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-gearmanclient.settimeout-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>GearmanClient::setTimeout</strong></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$timeout</code></span>
   ) : <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Sets the timeout for socket I/O activity.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-gearmanclient.settimeout-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">timeout</code></dt>

     <dd>

      <p class="para">
       An interval of time in milliseconds
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-gearmanclient.settimeout-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Always returns <strong><code>true</code></strong>.
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124032""></a>
  <div class="note">
   <strong class="user">luckyboy449 at yahoo dot com</strong>
   <a href="#124032" class="date">11-Jul-2019 09:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that GEARMAN_TIMEOUT is mostly triggered when you use a callback with the addTask() and addTaskBackground() methods. If the Gearman server is not able to answer under high volume of jobs&nbsp; about the status of the current job, the client will certainly throw a GEARMAN_TIMEOUT error.<br />
<br />
The safest way to escape this error is using the doBackground() method especially when you are not interested to find the status of the job (failed or completed) and that should be a rule when you are sending high volume of jobs to the server.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121583""></a>
  <div class="note">
   <strong class="user">casper at bcx dot nl</strong>
   <a href="#121583" class="date">31-Aug-2017 08:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If a timeout is set with this method, and a timeout occurred, calling -&gt;returnCode() will return GEARMAN_TIMEOUT<br />
<br />
Beware that a timeout of for example a doBackground() call does not mean the job did not start. It's very possible the job got submitted and started but the gearmand server was not able to communicate that information back to you.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110266""></a>
  <div class="note">
   <strong class="user">Ismael Cristal Jr</strong>
   <a href="#110266" class="date">06-Oct-2012 02:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
GearmanClient has a default timeout of -1 you need to set this to a positive number using setTimeout to avoid cases where your script waits forever to run a job even if there are no workers running at all.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
