<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Average Directional Movement Index</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.trader-adosc.html">? trader_adosc</a></li>
      <li style="float: right;"><a href="function.trader-adxr.html">trader_adxr ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.trader.html">Trader 函数</a></li>
    <li>Average Directional Movement Index</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.trader-adx" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">trader_adx</h1>
  <p class="verinfo">(PECL trader &gt;= 0.2.0)</p><p class="refpurpose"><span class="refname">trader_adx</span> &mdash; <span class="dc-title">Average Directional Movement Index</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.trader-adx-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>trader_adx</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">array</span> <code class="parameter">$high</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">array</span> <code class="parameter">$low</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">array</span> <code class="parameter">$close</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$timePeriod</code><span class="initializer"> = ?</span></span><br>): <span class="type">array</span></div>

  <p class="para rdfs-comment">

  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.trader-adx-parameters">
  <h3 class="title">参数</h3>
  <dl>
   
    <dt>
<code class="parameter">high</code></dt>

    <dd>

     <p class="para">
      高价，浮点数数组。
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">low</code></dt>

    <dd>

     <p class="para">
      低价，浮点数数组。
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">close</code></dt>

    <dd>

     <p class="para">
      收盘价，浮点数数组。
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">timePeriod</code></dt>

    <dd>

     <p class="para">
      Number of period. Valid range from 2 to 100000.
     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.trader-adx-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">Returns an array with calculated data or false on failure.</p>
 </div>



</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="125909""></a>
  <div class="note">
   <strong class="user">tl4gvx29ku39 at opayq dot com</strong>
   <a href="#125909" class="date">11-Mar-2021 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After hours of trial and error, I feel fairly confident the adx function works like many others. Insert a block(s) of ohlc data and set a time period for an output. <br />
<br />
For example, I am using 48 30-min blocks of ohlc data (1 day). But I wanted the indicators true to design (adx is usually 14 periods) so I would trim the data to 14 periods in and set timePeriods=14 and get errors. No need to do all that. Put the entire 48 period array(s) in and set the period to 14 (or whatever you like). The output is close to online sources. The function will use the last 14 periods or whatever you set to generate the correct output. <br />
<br />
The best/closest I can find for a manual to these functions is located tulipindicators dot org which you can test using excel with a free plugin at tulipcell dot org. <br />
<br />
I was able to pull my historical indicator data generated with these functions and was able to recreate the numbers which matched closely to online trading platforms.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125787""></a>
  <div class="note">
   <strong class="user">geekgirl dot joy at gmail dot com</strong>
   <a href="#125787" class="date">07-Feb-2021 07:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// Per wikipedia ADX is "an indicator of trend strength in a series of prices of a financial instrument."<br />
// The original implementation used 14 days.<br />
<br />
</span><span class="default">$highs </span><span class="keyword">= array(</span><span class="default">118.99</span><span class="keyword">, </span><span class="default">119.14</span><span class="keyword">, </span><span class="default">120.5</span><span class="keyword">, </span><span class="default">115.23</span><span class="keyword">, </span><span class="default">115.93</span><span class="keyword">, </span><span class="default">118.829</span><span class="keyword">, </span><span class="default">116</span><span class="keyword">, </span><span class="default">112.2</span><span class="keyword">, </span><span class="default">110.88</span><span class="keyword">, </span><span class="default">110.19</span><span class="keyword">, </span><span class="default">112.86</span><span class="keyword">, </span><span class="default">112.11</span><span class="keyword">, </span><span class="default">110.25</span><span class="keyword">, </span><span class="default">112.44</span><span class="keyword">);<br />
</span><span class="default">$lows </span><span class="keyword">= array(</span><span class="default">112.68</span><span class="keyword">, </span><span class="default">115.26</span><span class="keyword">, </span><span class="default">112.5</span><span class="keyword">, </span><span class="default">110</span><span class="keyword">, </span><span class="default">112.8</span><span class="keyword">, </span><span class="default">113.61</span><span class="keyword">, </span><span class="default">112.04</span><span class="keyword">, </span><span class="default">108.71</span><span class="keyword">, </span><span class="default">106.09</span><span class="keyword">, </span><span class="default">103.1</span><span class="keyword">, </span><span class="default">109.16</span><span class="keyword">, </span><span class="default">106.77</span><span class="keyword">, </span><span class="default">105</span><span class="keyword">, </span><span class="default">107.67</span><span class="keyword">);<br />
</span><span class="default">$closes </span><span class="keyword">= array(</span><span class="default">112.82</span><span class="keyword">, </span><span class="default">117.32</span><span class="keyword">, </span><span class="default">113.49</span><span class="keyword">, </span><span class="default">112</span><span class="keyword">, </span><span class="default">115.355</span><span class="keyword">, </span><span class="default">115.54</span><span class="keyword">, </span><span class="default">112.13</span><span class="keyword">, </span><span class="default">110.34</span><span class="keyword">, </span><span class="default">106.84</span><span class="keyword">, </span><span class="default">110.08</span><span class="keyword">, </span><span class="default">111.81</span><span class="keyword">, </span><span class="default">107.12</span><span class="keyword">, </span><span class="default">108.22</span><span class="keyword">, </span><span class="default">112.28</span><span class="keyword">);<br />
<br />
</span><span class="default">$time_period </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$highs</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">); </span><span class="comment">// Per Wikipedia on the ADX indicator calculation:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // UpMove = today's high ? yesterday's high<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // DownMove = yesterday's low ? today's low<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Thence: The maximal length for $time_period <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // is: floor(count($the_number_of_samples) / 2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">trader_adx</span><span class="keyword">(</span><span class="default">$highs</span><span class="keyword">, </span><span class="default">$lows</span><span class="keyword">, </span><span class="default">$closes</span><span class="keyword">, </span><span class="default">$time_period</span><span class="keyword">));<br />
</span><span class="comment">/*<br />
array(1) {<br />
&nbsp; [13]=&gt;<br />
&nbsp; float(48.909)<br />
}<br />
*/</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
