<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Adjusts the levels of an image</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="imagick.labelimage.html">? Imagick::labelImage</a></li>
      <li style="float: right;"><a href="imagick.linearstretchimage.html">Imagick::linearStretchImage ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.imagick.html">Imagick</a></li>
    <li>Adjusts the levels of an image</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="imagick.levelimage" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Imagick::levelImage</h1>
  <p class="verinfo">(PECL imagick 2.0.0)</p><p class="refpurpose"><span class="refname">Imagick::levelImage</span> &mdash; <span class="dc-title">Adjusts the levels of an image</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-imagick.levelimage-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>Imagick::levelImage</strong></span>
    ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$blackPoint</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$gamma</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$whitePoint</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$channel</code><span class="initializer"> = Imagick::CHANNEL_DEFAULT</span></span>
  ] ) : <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Adjusts the levels of an image by scaling the colors falling
   between specified white and black points to the full
   available quantum range. The parameters provided represent
   the black, mid, and white points. The black point specifies
   the darkest color in the image. Colors darker than the black
   point are set to zero. Mid point specifies a gamma
   correction to apply to the image.  White point specifies the
   lightest color in the image. Colors brighter than the white
   point are set to the maximum quantum value.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-imagick.levelimage-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">blackPoint</code></dt>

     <dd>

      <p class="para">
      The image black point
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">gamma</code></dt>

     <dd>

      <p class="para">
      The gamma value
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">whitePoint</code></dt>

     <dd>

      <p class="para">
      The image white point
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">channel</code></dt>

     <dd>

      <p class="para">
       Provide any channel constant that is valid for your channel mode. To
       apply to more than one channel, combine channeltype constants using
       bitwise operators. Refer to this
       list of  <a href="imagick.constants.html#imagick.constants.channel" class="link">channel constants</a>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-imagick.levelimage-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>TRUE</code></strong>。
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-imagick.levelimage-errors">
  <h3 class="title">错误／异常</h3>
  <p class="para">
   错误时抛出 ImagickException。
  </p>
 </div>




 <div class="refsect1 examples" id="refsect1-imagick.levelimage-examples">
  <h3 class="title">范例</h3>
  <p class="para">
    <div class="example" id="example-3855">
      <p><strong>Example #1  <span class="function"><strong>Imagick::levelImage()</strong></span></strong></p>
      <div class="example-contents">
      <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">levelImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$blackPoint</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$gamma</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$whitePoint</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$imagick&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;\</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newPseudoimage</span><span style="color: #007700">(</span><span style="color: #0000BB">500</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">500</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'gradient:black-white'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'png'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$quantum&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getQuantum</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">levelImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$blackPoint&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">100&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$gamma</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$quantum&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$whitePoint&nbsp;</span><span style="color: #007700">/&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type:&nbsp;image/png"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageBlob</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

    </div>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="101584""></a>
  <div class="note">
   <strong class="user">Maxim Lovchikov</strong>
   <a href="#101584" class="date">28-Dec-2010 12:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have a trouble with this method because think that quantum range is 0 - 255.<br />
But quantum range for levelImage is 0-65535. You can get quantum range with Imagick::getQuantumRange<br />
There is a right piece of code<br />
<br />
$img-&gt;levelImage (0, 1.0, 65535);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
