<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>类与对象</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="functions.arrow.html">? 箭头函数</a></li>
      <li style="float: right;"><a href="oop5.intro.html">简介 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="langref.html">语言参考</a></li>
    <li>类与对象</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.oop5" class="chapter">
 <h1>类与对象</h1>
<h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="oop5.intro.html">简介</a></li><li><a href="language.oop5.basic.html">基本概念</a></li><li><a href="language.oop5.properties.html">属性</a></li><li><a href="language.oop5.constants.html">类常量</a></li><li><a href="language.oop5.autoload.html">类的自动加载</a></li><li><a href="language.oop5.decon.html">构造函数和析构函数</a></li><li><a href="language.oop5.visibility.html">访问控制（可见性）</a></li><li><a href="language.oop5.inheritance.html">对象继承</a></li><li><a href="language.oop5.paamayim-nekudotayim.html">范围解析操作符 （::）</a></li><li><a href="language.oop5.static.html">静态（static）关键字</a></li><li><a href="language.oop5.abstract.html">抽象类</a></li><li><a href="language.oop5.interfaces.html">对象接口</a></li><li><a href="language.oop5.traits.html">Trait</a></li><li><a href="language.oop5.anonymous.html">匿名类</a></li><li><a href="language.oop5.overloading.html">重载</a></li><li><a href="language.oop5.iterations.html">遍历对象</a></li><li><a href="language.oop5.magic.html">魔术方法</a></li><li><a href="language.oop5.final.html">Final 关键字</a></li><li><a href="language.oop5.cloning.html">对象复制</a></li><li><a href="language.oop5.object-comparison.html">对象比较</a></li><li><a href="language.oop5.late-static-bindings.html">后期静态绑定</a></li><li><a href="language.oop5.references.html">对象和引用</a></li><li><a href="language.oop5.serialization.html">对象序列化</a></li><li><a href="language.oop5.variance.html">协变与逆变</a></li><li><a href="language.oop5.changelog.html">OOP 变更日志</a></li></ul>


 

  







  


 
 


  



 
 


  







  








  



 
 


  



 


  




 



  



 


  



 



  




 


  




 
 


  





 


  



 



  




 


  



 
 


  



 
 


  


 
 
 


  




 


  


 


  


 


  


 
 


  





  




 


</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124883""></a>
  <div class="note">
   <strong class="user">rjtarpura at gmail dot com</strong>
   <a href="#124883" class="date">05-Apr-2020 06:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
We can also access function like this. It looks strange but it works.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$aMemberVar </span><span class="keyword">= </span><span class="string">'aMemberVar Member Variable'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$aFuncName </span><span class="keyword">= </span><span class="string">'aMemberFunc'</span><span class="keyword">;<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">aMemberFunc</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">'Inside `aMemberFunc()`'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">;<br />
<br />
function </span><span class="default">getVarName</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp; &nbsp; return </span><span class="string">'aFuncName'</span><span class="keyword">; <br />
}<br />
<br />
print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="default">getVarName</span><span class="keyword">()}}();</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46290""></a>
  <div class="note">
   <strong class="user">farzan at ifarzan dot com</strong>
   <a href="#46290" class="date">05-Oct-2004 04:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP 5 is very very flexible in accessing member variables and member functions. These access methods maybe look unusual and unnecessary at first glance; but they are very useful sometimes; specially when you work with SimpleXML classes and objects. I have posted a similar comment in SimpleXML function reference section, but this one is more comprehensive.
<br />

<br />
I use the following class as reference for all examples:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{
<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$aMemberVar </span><span class="keyword">= </span><span class="string">'aMemberVar Member Variable'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$aFuncName </span><span class="keyword">= </span><span class="string">'aMemberFunc'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">aMemberFunc</span><span class="keyword">() {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">'Inside `aMemberFunc()`'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />

<br />
</span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
You can access member variables in an object using another variable as name:
<br />

<br />
<span class="default">&lt;?php
<br />
$element </span><span class="keyword">= </span><span class="string">'aMemberVar'</span><span class="keyword">;
<br />
print </span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">$element</span><span class="keyword">; </span><span class="comment">// prints "aMemberVar Member Variable"
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
or use functions:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">getVarName</span><span class="keyword">()
<br />
{ return </span><span class="string">'aMemberVar'</span><span class="keyword">; }
<br />

<br />
print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="default">getVarName</span><span class="keyword">()}; </span><span class="comment">// prints "aMemberVar Member Variable"
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Important Note: You must surround function name with { and } or PHP would think you are calling a member function of object "foo".
<br />

<br />
you can use a constant or literal as well:
<br />

<br />
<span class="default">&lt;?php
<br />
define</span><span class="keyword">(</span><span class="default">MY_CONSTANT</span><span class="keyword">, </span><span class="string">'aMemberVar'</span><span class="keyword">);
<br />
print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="default">MY_CONSTANT</span><span class="keyword">}; </span><span class="comment">// Prints "aMemberVar Member Variable"
<br />
</span><span class="keyword">print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="string">'aMemberVar'</span><span class="keyword">}; </span><span class="comment">// Prints "aMemberVar Member Variable"
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
You can use members of other objects as well:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="default">$otherObj</span><span class="keyword">-&gt;</span><span class="default">var</span><span class="keyword">};
<br />
print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="default">$otherObj</span><span class="keyword">-&gt;</span><span class="default">func</span><span class="keyword">()};
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
You can use mathods above to access member functions as well:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="string">'aMemberFunc'</span><span class="keyword">}(); </span><span class="comment">// Prints "Inside `aMemberFunc()`"
<br />
</span><span class="keyword">print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">aFuncName</span><span class="keyword">}(); </span><span class="comment">// Prints "Inside `aMemberFunc()`"
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
