<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>新建一个数组</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.array-walk.html">? array_walk</a></li>
      <li style="float: right;"><a href="function.arsort.html">arsort ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>新建一个数组</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.array" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">array</h1>
    <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">array</span> &mdash; <span class="dc-title">
     新建一个数组
    </span></p>

   </div>
 <div class="refsect1 description" id="refsect1-function.array-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>array</strong></span>
    ([ <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$...</code></span>
  ] ) : <span class="type">array</span></div>

    <p class="para rdfs-comment">
     创建一个数组。关于数组是什么的信息请阅读<a href="language.types.array.html" class="link">数组</a>一节。
    </p>
   </div>

 <div class="refsect1 parameters" id="refsect1-function.array-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">...</code></dt>

     <dd>

    <p class="para">
     语法"index =&gt; values"，用逗号分开，定义了索引和值。索引可以是字符串或数字。如果省略了索引，会自动产生从
     0 开始的整数索引。如果索引是整数，则下一个产生的索引将是目前最大的整数索引
     + 1。注意如果定义了两个完全一样的索引，则后面一个会覆盖前一个。
    </p>
    <p class="para">
     在最后一个定义的数组项目之后加一个逗号虽然不常见，却是合法的语法。
    </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
     返回根据参数建立的数组。参数可以用 <em>=&gt;</em>
     运算符给出索引。关于数组是什么的信息请阅读<a href="language.types.array.html" class="link">数组</a>一节。
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.array-examples">
  <h3 class="title">范例</h3>
  <p class="para">
     下面的例子演示了怎样建立一个二维数组，怎样给相应的数组指定键名，以及怎样在普通数组中略过和继续数字索引。
   <div class="example" id="example-6126">
    <p><strong>Example #1 <span class="function"><strong>array()</strong></span>  例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$fruits&nbsp;</span><span style="color: #007700">=&nbsp;array&nbsp;(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"fruits"&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"orange"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"banana"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"c"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"apple"</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"numbers"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"holes"&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">"first"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"second"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"third"</span><span style="color: #007700">)<br />);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6127">
    <p><strong>Example #2  <span class="function"><strong>array()</strong></span> 的自动索引</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">19</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">13</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; 1
    [1] =&gt; 1
    [2] =&gt; 1
    [3] =&gt; 13
    [4] =&gt; 1
    [8] =&gt; 1
    [9] =&gt; 19
)
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
     注意索引 3 被定义了两次，保留了最后的值 13。索引 4 在 索引
     8 之后定义，下一个自动生成的索引（值为 19 那个）为 9，因为最大的索引是 8。
  </p>
  <p class="para">
   本例建立了从 1 开始的数组。
   <div class="example" id="example-6128">
    <p><strong>Example #3 从 1 开始索引的 <span class="function"><strong>array()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$firstquarter&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'January'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'February'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'March'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$firstquarter</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [1] =&gt; January
    [2] =&gt; February
    [3] =&gt; March
)
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   在 Perl 中，可以访问在双引号内的数组的值。但在 PHP
     中需要将数组用花括号括起来。
   <div class="example" id="example-6129">
    <p><strong>Example #4 访问双引号内的数组</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$foo&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'bar'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">]}</span><span style="color: #DD0000">!"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Hello&nbsp;baz!<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.array-notes">
  <h3 class="title">注释</h3>
  <p class="para">
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
      <span class="function"><strong>array()</strong></span> 是一个语言结构，用于字面上表示数组，不是常规的函数。
    </p>
   </p></blockquote>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.array-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-pad.html" class="function" rel="rdfs-seeAlso">array_pad()</a> - 以指定长度将一个值填充进数组</span></li>
    <li class="member"><span class="function"><a href="function.list.html" class="function" rel="rdfs-seeAlso">list()</a> - 把数组中的值赋给一组变量</span></li>
    <li class="member"><span class="function"><a href="function.count.html" class="function" rel="rdfs-seeAlso">count()</a> - 计算数组中的单元数目，或对象中的属性个数</span></li>
    <li class="member"><span class="function"><a href="function.range.html" class="function" rel="rdfs-seeAlso">range()</a> - 根据范围创建数组，包含指定的元素</span></li>
    <li class="member"><a href="control-structures.foreach.html" class="link">foreach</a></li>
    <li class="member">The <a href="language.types.array.html" class="link">array</a> type</li>
   </ul>
  </p>
 </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="119189""></a>
  <div class="note">
   <strong class="user">ayyappan dot ashok at gmail dot com</strong>
   <a href="#119189" class="date">18-Apr-2016 06:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The code bellow by dave@wp.pl:<br />
<br />
$var_name='var';<br />
$var=array(0,1,2,3,4);<br />
echo $$var_name[2]; <br />
<br />
//prints NOTHING instead 2.<br />
// prints 2 with PHP version 7.01 onwards<br />
<br />
Note :<br />
This results 2 with PHP version 7.01 onwards. Other versions throws a notice error</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117137""></a>
  <div class="note">
   <strong class="user">majkel</strong>
   <a href="#117137" class="date">20-Apr-2015 09:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
During initialization php parses every value as expression. One can declare variables, do calculations, or even manipulate "current" array<br />
<br />
<span class="default">&lt;?php<br />
<br />
$arr</span><span class="keyword">[</span><span class="string">'A'</span><span class="keyword">] = [<br />
&nbsp;&nbsp;&nbsp; &amp;</span><span class="default">$arr</span><span class="keyword">, </span><span class="comment">// circular reference<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'key' </span><span class="keyword">=&gt; </span><span class="string">'val'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="string">'B'</span><span class="keyword">] = [ </span><span class="comment">// declare array, insert key and then value<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="string">'b'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; ],<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ucfirst</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="string">'SOME TEXT'</span><span class="keyword">)), <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">true </span><span class="keyword">? </span><span class="string">'TRUE' </span><span class="keyword">: </span><span class="string">'FALSE'</span><span class="keyword">, </span><span class="comment">// evaluate expression<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x&nbsp; </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">, </span><span class="comment">// declare variable<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">*= </span><span class="default">3</span><span class="keyword">, </span><span class="comment">// perform calculations<br />
</span><span class="keyword">];<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Output<br />
/*<br />
array(2) {<br />
&nbsp; 'B' =&gt; array(1) {<br />
&nbsp;&nbsp;&nbsp; 'a' =&gt; string(1) "b"<br />
&nbsp; }<br />
&nbsp; 'A' =&gt; array(7) {<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; array(2) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'B' =&gt; array(1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ...<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'A' =&gt; &amp;array<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; 'key' =&gt; string(3) "val"<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; array(1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'a' =&gt; string(1) "b"<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; string(9) "Some text"<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; string(4) "TRUE"<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; int(3)<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; int(9)<br />
&nbsp; }<br />
}<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116786""></a>
  <div class="note">
   <strong class="user">dave at wp dot pl</strong>
   <a href="#116786" class="date">27-Feb-2015 03:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The code bellow:<br />
<br />
$var_name='var';<br />
$var=array(0,1,2,3,4);<br />
echo $$var_name[2]; <br />
<br />
prints NOTHING instead 2.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115181""></a>
  <div class="note">
   <strong class="user">ole dot aanensen at gmail dot com</strong>
   <a href="#115181" class="date">10-Jun-2014 08:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of PHP 5.4.x you can now use 'short syntax arrays' which eliminates the need of this function.<br />
<br />
Example #1 'short syntax array'<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $a </span><span class="keyword">= [</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The above example will output:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 4<br />
)<br />
<br />
Example #2 'short syntax associative array'<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $a </span><span class="keyword">= [</span><span class="string">'one' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'two' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'three' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="string">'four' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The above example will output:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [one] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [two] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [three] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [four] =&gt; 4<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113367""></a>
  <div class="note">
   <strong class="user">sergei dot solomonov at gmail dot com</strong>
   <a href="#113367" class="date">02-Oct-2013 08:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Consider:<br />
file inc1.php<br />
-------------<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">return </span><span class="string">'key'</span><span class="keyword">;<br />
<br />
</span><span class="default">file inc2</span><span class="keyword">.</span><span class="default">php<br />
</span><span class="keyword">-------------<br />
&lt;?</span><span class="default">php<br />
</span><span class="keyword">return </span><span class="string">'value'</span><span class="keyword">;<br />
<br />
</span><span class="default">Test</span><span class="keyword">:<br />
&lt;?</span><span class="default">php<br />
$a </span><span class="keyword">= [<br />
&nbsp;&nbsp;&nbsp; include </span><span class="string">'inc1.php' </span><span class="keyword">=&gt; include </span><span class="string">'inc2.php'<br />
</span><span class="keyword">];<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="comment">/* It works!!!<br />
array(1) {<br />
&nbsp; 'key' =&gt;<br />
&nbsp; string(5) "value"<br />
}<br />
*/</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107817""></a>
  <div class="note">
   <strong class="user">qeremy</strong>
   <a href="#107817" class="date">07-Mar-2012 02:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some tricky functions;<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_array_assoc</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">) || (</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">) &amp;&amp; </span><span class="default">$k </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return -</span><span class="default">1</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">is_array_multi</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ? (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) != </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">COUNT_RECURSIVE</span><span class="keyword">) ? </span><span class="default">1 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; : -</span><span class="default">1</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$arr</span><span class="keyword">[] = array(</span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">, </span><span class="default">1.09</span><span class="keyword">);<br />
</span><span class="default">$arr</span><span class="keyword">[] = array(</span><span class="string">"red"</span><span class="keyword">, </span><span class="string">"yellow"</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">"foo"</span><span class="keyword">);<br />
</span><span class="default">$arr</span><span class="keyword">[] = array(</span><span class="string">"red"</span><span class="keyword">, </span><span class="string">"yellow"</span><span class="keyword">, -</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">"foo"</span><span class="keyword">);<br />
</span><span class="default">$arr</span><span class="keyword">[] = array(</span><span class="string">"x" </span><span class="keyword">=&gt; array(</span><span class="string">"red"</span><span class="keyword">, </span><span class="string">"yellow"</span><span class="keyword">), </span><span class="string">"y" </span><span class="keyword">=&gt; array(</span><span class="string">"one"</span><span class="keyword">, </span><span class="string">"two"</span><span class="keyword">));<br />
</span><span class="default">$arr</span><span class="keyword">[] = array();<br />
</span><span class="default">$arr</span><span class="keyword">[] = </span><span class="string">"s"</span><span class="keyword">;<br />
<br />
foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">is_array_assoc</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">is_array_multi</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
0<br />
0<br />
1<br />
1<br />
0<br />
-1<br />
<br />
0<br />
0<br />
0<br />
1<br />
0<br />
-1<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$r</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">array_count_all</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$r </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">array_count_all</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$r</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= array(</span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">, </span><span class="default">1.09</span><span class="keyword">, array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">), array(</span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="string">"aaa"</span><span class="keyword">));<br />
echo </span><span class="default">array_count</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">); </span><span class="comment">// 2<br />
<br />
</span><span class="default">$a </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">, </span><span class="default">1.09</span><span class="keyword">, <br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"x" </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">), <br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="string">"aaa"</span><span class="keyword">, </span><span class="string">"b" </span><span class="keyword">=&gt; array(), </span><span class="string">"c" </span><span class="keyword">=&gt; array(</span><span class="string">""</span><span class="keyword">), </span><span class="string">"d" </span><span class="keyword">=&gt; array(</span><span class="string">""</span><span class="keyword">)), <br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"e" </span><span class="keyword">=&gt; array(</span><span class="string">""</span><span class="keyword">), <br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"z" </span><span class="keyword">=&gt; array(</span><span class="string">""</span><span class="keyword">), <br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"q" </span><span class="keyword">=&gt; array(</span><span class="string">""</span><span class="keyword">, array()),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"w" </span><span class="keyword">=&gt; array(</span><span class="string">"lorem"</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">"impsum"</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">, </span><span class="string">"dolor"</span><span class="keyword">, array(</span><span class="string">"last as 11th array"</span><span class="keyword">))<br />
);<br />
echo </span><span class="default">array_count_all</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">); </span><span class="comment">// 11<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102281""></a>
  <div class="note">
   <strong class="user">r0h4rd at gmail dot com</strong>
   <a href="#102281" class="date">06-Feb-2011 02:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"Quick and dirty" class to get an offset of multidimensional array by given path (sorry, that without comments).<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">ArrayAsPathException </span><span class="keyword">extends </span><span class="default">Exception </span><span class="keyword">{} <br />
<br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">ArrayAsPath </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; protected<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$data </span><span class="keyword">= array(),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$separator </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__construct </span><span class="keyword">(array </span><span class="default">$data </span><span class="keyword">= array()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">= </span><span class="default">$data</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">set </span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$path </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!isset(</span><span class="default">$path</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$separator </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">separator</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pathtoken </span><span class="keyword">= </span><span class="default">strtok</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pices </span><span class="keyword">= </span><span class="string">'[\''</span><span class="keyword">.</span><span class="default">$pathtoken</span><span class="keyword">.</span><span class="string">'\']'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$pathtoken </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$pathtoken </span><span class="keyword">= </span><span class="default">strtok</span><span class="keyword">(</span><span class="default">$separator</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'if (!isset($this-&gt;data'</span><span class="keyword">.</span><span class="default">$pices</span><span class="keyword">.</span><span class="string">')) $this-&gt;data'</span><span class="keyword">.</span><span class="default">$pices</span><span class="keyword">.</span><span class="string">' = array(); '</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pices </span><span class="keyword">.= </span><span class="string">'[\''</span><span class="keyword">.</span><span class="default">$pathtoken</span><span class="keyword">.</span><span class="string">'\']'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$code </span><span class="keyword">.= </span><span class="string">'return $this-&gt;data'</span><span class="keyword">.</span><span class="default">$pices</span><span class="keyword">.</span><span class="string">' = $value;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return eval(</span><span class="default">$code</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">get </span><span class="keyword">(</span><span class="default">$path </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$default </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$separator </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">separator</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pathtoken </span><span class="keyword">= </span><span class="default">strtok</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$pathtoken </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!isset(</span><span class="default">$result</span><span class="keyword">[</span><span class="default">$pathtoken</span><span class="keyword">]) || </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$default</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$default</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">ArrayAsPathException </span><span class="keyword">(</span><span class="string">'Can\'t find "'</span><span class="keyword">.</span><span class="default">$pathtoken</span><span class="keyword">.</span><span class="string">'" in "'</span><span class="keyword">.</span><span class="default">$path</span><span class="keyword">.</span><span class="string">'"'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$pathtoken</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pathtoken </span><span class="keyword">= </span><span class="default">strtok</span><span class="keyword">(</span><span class="default">$separator</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result </span><span class="keyword">? </span><span class="default">$result </span><span class="keyword">: </span><span class="default">$default</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">has </span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$separator </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">separator</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pathtoken </span><span class="keyword">= </span><span class="default">strtok</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$pathtoken </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!isset(</span><span class="default">$result</span><span class="keyword">[</span><span class="default">$pathtoken</span><span class="keyword">]) || </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$pathtoken</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pathtoken </span><span class="keyword">= </span><span class="default">strtok</span><span class="keyword">(</span><span class="default">$separator</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">setSepatator </span><span class="keyword">(</span><span class="default">$separator</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">separator </span><span class="keyword">= </span><span class="default">$separator</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">getSeparator </span><span class="keyword">(</span><span class="default">$separator</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">separator</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Code:<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; $params </span><span class="keyword">= new </span><span class="default">ArrayAsPath</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">set</span><span class="keyword">(array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'foo' </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'bar' </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'item' </span><span class="keyword">=&gt; </span><span class="string">'Value'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; ));<br />
<br />
&nbsp;&nbsp;&nbsp; try {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">set</span><span class="keyword">(</span><span class="string">'test'</span><span class="keyword">, </span><span class="string">'foo.bar.far.new'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">printf</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'Array:&lt;pre&gt;%s&lt;/pre&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foo.bar.item:&lt;pre&gt;%s&lt;/pre&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foo.bar.far:&lt;pre&gt;%s&lt;/pre&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foo.bar.far.new&lt;pre&gt;%s&lt;/pre&gt;'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(), </span><span class="default">true</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(</span><span class="string">'foo.bar.item'</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(</span><span class="string">'foo.bar.far'</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(</span><span class="string">'foo.bar.far.new'</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; } catch (</span><span class="default">ArrayAsPathException $e</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'Oops! It seems that something is wrong. '</span><span class="keyword">.</span><span class="default">$e</span><span class="keyword">-&gt;</span><span class="default">getMessage</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Will display:<br />
Array:<br />
array (<br />
&nbsp; 'foo' =&gt; <br />
&nbsp; array (<br />
&nbsp;&nbsp;&nbsp; 'bar' =&gt; <br />
&nbsp;&nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'item' =&gt; 'Value',<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'far' =&gt; <br />
&nbsp;&nbsp; &nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'new' =&gt; 'test',<br />
&nbsp;&nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp; ),<br />
)<br />
<br />
foo.bar.item:<br />
'Value'<br />
<br />
foo.bar.far:<br />
array (<br />
&nbsp; 'new' =&gt; 'test',<br />
)<br />
<br />
foo.bar.far.new:<br />
'test'</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96520""></a>
  <div class="note">
   <strong class="user">eugene at ultimatecms dot co dot za</strong>
   <a href="#96520" class="date">03-Mar-2010 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a useful way to get foreign key variables from a specific sql table.<br />
This function can be used to include all relevant data from all relating tables:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_string_between</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="string">" "</span><span class="keyword">.</span><span class="default">$string</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ini </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$ini </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$tbl</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ini </span><span class="keyword">+= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">,</span><span class="default">$ini</span><span class="keyword">) - </span><span class="default">$ini</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$ini</span><span class="keyword">,</span><span class="default">$len</span><span class="keyword">); <br />
} <br />
<br />
function </span><span class="default">get_foreign_keys</span><span class="keyword">(</span><span class="default">$tbl</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$query </span><span class="keyword">= </span><span class="default">query_getrow</span><span class="keyword">(</span><span class="string">"SHOW CREATE TABLE "</span><span class="keyword">.</span><span class="default">mysql_escape_string</span><span class="keyword">(</span><span class="default">$tbl</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dat </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'CONSTRAINT'</span><span class="keyword">,</span><span class="default">$query</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$dat </span><span class="keyword">as </span><span class="default">$d </span><span class="keyword">=&gt; </span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">"FOREIGN KEY"</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$data</span><span class="keyword">[</span><span class="string">'keys'</span><span class="keyword">][] = array(</span><span class="default">$tbl</span><span class="keyword">,</span><span class="default">get_string_between</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">"` FOREIGN KEY (`"</span><span class="keyword">,</span><span class="string">"`) REFERENCES"</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$dat </span><span class="keyword">as </span><span class="default">$d </span><span class="keyword">=&gt; </span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">"REFERENCE"</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$data</span><span class="keyword">[</span><span class="string">'references'</span><span class="keyword">][] = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'` (`'</span><span class="keyword">,</span><span class="default">get_string_between</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">"REFERENCES `"</span><span class="keyword">,</span><span class="string">"`) ON"</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$data</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">//Example code:<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$data </span><span class="keyword">= </span><span class="default">get_foreign_keys</span><span class="keyword">(</span><span class="string">'task_table'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
// $query[1] outputs:<br />
<br />
CREATE TABLE `task_table` (<br />
&nbsp; `task_id` int(64) NOT NULL auto_increment,<br />
&nbsp; `ticket_id` int(64) NOT NULL,<br />
&nbsp; `task_type` varchar(64) NOT NULL,<br />
&nbsp; `comment` text,<br />
&nbsp; `assigned_to` int(11) default NULL,<br />
&nbsp; `dependant` int(64) default NULL,<br />
&nbsp; `resolved` int(1) default NULL,<br />
&nbsp; PRIMARY KEY&nbsp; (`task_id`),<br />
&nbsp; KEY `ticket_id` (`ticket_id`,`dependant`),<br />
&nbsp; KEY `assigned_to` (`assigned_to`),<br />
&nbsp; KEY `task_dependant` (`dependant`),<br />
&nbsp; CONSTRAINT `task_table_ibfk_1` FOREIGN KEY (`ticket_id`) REFERENCES `tickets_table` (`ticket_id`) ON DELETE CASCADE ON UPDATE CASCADE,<br />
&nbsp; CONSTRAINT `task_table_ibfk_2` FOREIGN KEY (`assigned_to`) REFERENCES `contact_table` (`contact_id`) ON DELETE CASCADE ON UPDATE CASCADE,<br />
&nbsp; CONSTRAINT `task_table_ibfk_3` FOREIGN KEY (`dependant`) REFERENCES `task_table` (`task_id`) ON DELETE CASCADE ON UPDATE CASCADE<br />
) ENGINE=InnoDB DEFAULT CHARSET=latin1<br />
<br />
// $data outputs:<br />
Array (<br />
&nbsp;&nbsp;&nbsp; [keys] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; task_table<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; ticket_id<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; task_table<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; assigned_to<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; task_table<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; dependant<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [references] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; tickets_table<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; ticket_id<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; contact_table<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; contact_id<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; task_table<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; task_id<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91272""></a>
  <div class="note">
   <strong class="user">kamil at navikam dot pl</strong>
   <a href="#91272" class="date">03-Jun-2009 03:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Easy function to unarray an array :-)<br />
It will make $array['something'] =&gt; $something.<br />
Usefull for making code more clear.<br />
<br />
example of use:<br />
&lt;?<br />
function unarray($row) {<br />
&nbsp;&nbsp;&nbsp; foreach($row as $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; global $$key;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $$key = $value;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$sql = mysql_query("SELECT * FROM `pracownicy`");<br />
while ($row = mysql_fetch_assoc($sql)) {<br />
&nbsp;&nbsp;&nbsp; unarray($row);<br />
&nbsp;&nbsp;&nbsp; echo $idpracownika.'&lt;br&gt;'; //instead of $row['idpracownika']<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90552""></a>
  <div class="note">
   <strong class="user">Marcel G</strong>
   <a href="#90552" class="date">27-Apr-2009 03:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I encountered the following but didn't see it documented/reported anywhere so I'll just mentioned it here.
<br />

<br />
As written in the manual:
<br />
"When index is omitted, an integer index is automatically generated, starting at 0. If index is an integer, next generated index will be the biggest integer index + 1".
<br />

<br />
This generated index has always the largest integer used as a key so far. So adding $a[5] = 'foo'; after an $a[10] = 'bar'; will not force the next generated index to be 6 but to be 11 as 10 was the highest index encountered until here.
<br />

<br />
Anyway, the following can happen:
<br />
<span class="default">&lt;?php
<br />
$max_int </span><span class="keyword">= </span><span class="default">2147483647</span><span class="keyword">; </span><span class="comment">// Max value for integer on a 32-bit system
<br />
</span><span class="default">$arr </span><span class="keyword">= array();
<br />

<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">'foo'</span><span class="keyword">; </span><span class="comment">// New generated index will be 2
<br />
</span><span class="default">$arr</span><span class="keyword">[ </span><span class="default">$max_int </span><span class="keyword">] = </span><span class="string">'bar'</span><span class="keyword">; </span><span class="comment">// Caution: Next generated index will be -2147483648 due to the integer overflow!
<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">'bar'</span><span class="keyword">; </span><span class="comment">// The highest value should be 2147483648 but due to the i-overflow it is -2147483648 so current index 0 is larger. The new generated index therefore is 1!
<br />
</span><span class="default">$arr</span><span class="keyword">[]&nbsp; = </span><span class="string">'failure'</span><span class="keyword">; </span><span class="comment">// Warning: Cannot add element to the array as the next element is already occupied.
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84278""></a>
  <div class="note">
   <strong class="user">jonberglund at gmail dot com</strong>
   <a href="#84278" class="date">07-Jul-2008 09:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following function (similar to one above) will render an array as a series of HTML select options (i.e. "&lt;option&gt;...&lt;/option&gt;"). The problem with the one before is that there was no way to handle &lt;optgroup&gt;, so this function solves that issue.<br />
<br />
function arrayToSelect($option, $selected = '', $optgroup = NULL)<br />
{<br />
&nbsp;&nbsp;&nbsp; $returnStatement = '';<br />
<br />
&nbsp;&nbsp;&nbsp; if ($selected == '') {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $returnStatement .= '&lt;option value="" selected="selected"&gt;Select one...&lt;/option&gt;';<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if (isset($optgroup)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($optgroup as $optgroupKey =&gt; $optgroupValue) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $returnStatement .= '&lt;optgroup label="' . $optgroupValue . '"&gt;';<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach ($option[$optgroupKey] as $optionKey =&gt; $optionValue) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($optionKey == $selected) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $returnStatement .= '&lt;option selected="selected" value="' . $optionKey . '"&gt;' . $optionValue . '&lt;/option&gt;';<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $returnStatement .= '&lt;option value="' . $optionKey . '"&gt;' . $optionValue . '&lt;/option&gt;';<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $returnStatement .= '&lt;/optgroup&gt;';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($option as $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($key == $selected) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $returnStatement .= '&lt;option selected="selected" value="' . $key . '"&gt;' . $value . '&lt;/option&gt;';<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $returnStatement .= '&lt;option value="' . $key . '"&gt;' . $value . '&lt;/option&gt;';<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return $returnStatement;<br />
}<br />
<br />
&nbsp;So, for example, I needed to render a list of states/provinces for various countries in a select field, and I wanted to use each country name as an &lt;optgroup&gt; label. So, with this function, if only a single array is passed to the function (i.e. "arrayToSelect($stateList)") then it will simply spit out a bunch of "&lt;option&gt;" elements. On the other hand, if two arrays are passed to it, the second array becomes a "key" for translating the first array.<br />
<br />
Here's a further example:<br />
<br />
$countryList = array(<br />
&nbsp;&nbsp;&nbsp; 'CA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Canada',<br />
&nbsp;&nbsp;&nbsp; 'US'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'United States');<br />
<br />
$stateList['CA'] = array(<br />
&nbsp;&nbsp;&nbsp; 'AB'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Alberta',<br />
&nbsp;&nbsp;&nbsp; 'BC'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'British Columbia',<br />
&nbsp;&nbsp;&nbsp; 'AB'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Alberta',<br />
&nbsp;&nbsp;&nbsp; 'BC'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'British Columbia',<br />
&nbsp;&nbsp;&nbsp; 'MB'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Manitoba',<br />
&nbsp;&nbsp;&nbsp; 'NB'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'New Brunswick',<br />
&nbsp;&nbsp;&nbsp; 'NL'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Newfoundland/Labrador',<br />
&nbsp;&nbsp;&nbsp; 'NS'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Nova Scotia',<br />
&nbsp;&nbsp;&nbsp; 'NT'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Northwest Territories',<br />
&nbsp;&nbsp;&nbsp; 'NU'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Nunavut',<br />
&nbsp;&nbsp;&nbsp; 'ON'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Ontario',<br />
&nbsp;&nbsp;&nbsp; 'PE'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Prince Edward Island',<br />
&nbsp;&nbsp;&nbsp; 'QC'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Quebec',<br />
&nbsp;&nbsp;&nbsp; 'SK'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Saskatchewan',<br />
&nbsp;&nbsp;&nbsp; 'YT'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Yukon');<br />
<br />
$stateList['US'] = array(<br />
&nbsp;&nbsp;&nbsp; 'AL'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Alabama',<br />
&nbsp;&nbsp;&nbsp; 'AK'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Alaska',<br />
&nbsp;&nbsp;&nbsp; 'AZ'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Arizona',<br />
&nbsp;&nbsp;&nbsp; 'AR'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Arkansas',<br />
&nbsp;&nbsp;&nbsp; 'CA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'California',<br />
&nbsp;&nbsp;&nbsp; 'CO'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Colorado',<br />
&nbsp;&nbsp;&nbsp; 'CT'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Connecticut',<br />
&nbsp;&nbsp;&nbsp; 'DE'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Delaware',<br />
&nbsp;&nbsp;&nbsp; 'DC'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'District of Columbia',<br />
&nbsp;&nbsp;&nbsp; 'FL'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Florida',<br />
&nbsp;&nbsp;&nbsp; 'GA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Georgia',<br />
&nbsp;&nbsp;&nbsp; 'HI'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Hawaii',<br />
&nbsp;&nbsp;&nbsp; 'ID'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Idaho',<br />
&nbsp;&nbsp;&nbsp; 'IL'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Illinois',<br />
&nbsp;&nbsp;&nbsp; 'IN'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Indiana',<br />
&nbsp;&nbsp;&nbsp; 'IA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Iowa',<br />
&nbsp;&nbsp;&nbsp; 'KS'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Kansas',<br />
&nbsp;&nbsp;&nbsp; 'KY'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Kentucky',<br />
&nbsp;&nbsp;&nbsp; 'LA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Louisiana',<br />
&nbsp;&nbsp;&nbsp; 'ME'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Maine',<br />
&nbsp;&nbsp;&nbsp; 'MD'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Maryland',<br />
&nbsp;&nbsp;&nbsp; 'MA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Massachusetts',<br />
&nbsp;&nbsp;&nbsp; 'MI'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Michigan',<br />
&nbsp;&nbsp;&nbsp; 'MN'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Minnesota',<br />
&nbsp;&nbsp;&nbsp; 'MS'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Mississippi',<br />
&nbsp;&nbsp;&nbsp; 'MO'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Missouri',<br />
&nbsp;&nbsp;&nbsp; 'MT'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Montana',<br />
&nbsp;&nbsp;&nbsp; 'NE'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Nebraska',<br />
&nbsp;&nbsp;&nbsp; 'NV'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Nevada',<br />
&nbsp;&nbsp;&nbsp; 'NH'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'New Hampshire',<br />
&nbsp;&nbsp;&nbsp; 'NJ'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'New Jersey',<br />
&nbsp;&nbsp;&nbsp; 'NM'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'New Mexico',<br />
&nbsp;&nbsp;&nbsp; 'NY'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'New York',<br />
&nbsp;&nbsp;&nbsp; 'NC'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'North Carolina',<br />
&nbsp;&nbsp;&nbsp; 'ND'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'North Dakota',<br />
&nbsp;&nbsp;&nbsp; 'OH'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Ohio',<br />
&nbsp;&nbsp;&nbsp; 'OK'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Oklahoma',<br />
&nbsp;&nbsp;&nbsp; 'OR'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Oregon',<br />
&nbsp;&nbsp;&nbsp; 'PA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Pennsylvania',<br />
&nbsp;&nbsp;&nbsp; 'RI'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Rhode Island',<br />
&nbsp;&nbsp;&nbsp; 'SC'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'South Carolina',<br />
&nbsp;&nbsp;&nbsp; 'SD'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'South Dakota',<br />
&nbsp;&nbsp;&nbsp; 'TN'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Tennessee',<br />
&nbsp;&nbsp;&nbsp; 'TX'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Texas',<br />
&nbsp;&nbsp;&nbsp; 'UT'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Utah',<br />
&nbsp;&nbsp;&nbsp; 'VT'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Vermont',<br />
&nbsp;&nbsp;&nbsp; 'VA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Virginia',<br />
&nbsp;&nbsp;&nbsp; 'WA'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Washington',<br />
&nbsp;&nbsp;&nbsp; 'WV'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'West Virginia',<br />
&nbsp;&nbsp;&nbsp; 'WI'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Wisconsin',<br />
&nbsp;&nbsp;&nbsp; 'WY'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Wyoming');<br />
<br />
...<br />
<br />
&lt;select name="state" id="state"&gt;<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">arrayToSelect</span><span class="keyword">(</span><span class="default">$stateList</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$countryList</span><span class="keyword">) </span><span class="default">?&gt;</span>&lt;/select&gt;<br />
&lt;select name="country" id="country"&gt;<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">arrayToSelect</span><span class="keyword">(</span><span class="default">$countryList</span><span class="keyword">,</span><span class="string">'US'</span><span class="keyword">) </span><span class="default">?&gt;</span>&lt;/select&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81050""></a>
  <div class="note">
   <strong class="user">sebasg37 at gmail dot com</strong>
   <a href="#81050" class="date">12-Feb-2008 11:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Recursive function similar to print_r for describing anidated arrays in html &lt;ol&gt;. Maybe it's useful for someone.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">describeAnidatedArray</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$buf </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$buf </span><span class="keyword">.= </span><span class="string">'&lt;ol&gt;' </span><span class="keyword">. </span><span class="default">describeAnidatedArray</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) . </span><span class="string">'&lt;/ol&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$buf </span><span class="keyword">.= </span><span class="string">"&lt;li&gt;</span><span class="default">$value</span><span class="string">&lt;/li&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$buf</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Example: <br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">, array(</span><span class="string">"1"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, array(</span><span class="string">"A"</span><span class="keyword">, </span><span class="string">"B"</span><span class="keyword">)), array(</span><span class="string">"3"</span><span class="keyword">, </span><span class="string">"4"</span><span class="keyword">), </span><span class="string">"d"</span><span class="keyword">);<br />
<br />
echo </span><span class="default">describeAnidatedArray</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
output:<br />
<br />
# a<br />
# b<br />
# c<br />
<br />
&nbsp;&nbsp; 1. 1<br />
&nbsp;&nbsp; 2. 2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 1. A<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 2. B<br />
<br />
&nbsp;&nbsp; 1. 3<br />
&nbsp;&nbsp; 2. 4<br />
<br />
# d</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79235""></a>
  <div class="note">
   <strong class="user">jon hohle</strong>
   <a href="#79235" class="date">16-Nov-2007 05:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are shorter versions of sam barrow's functions. From a PHP perspective these are O(1) (without getting into what's going on in the interpreter), instead of O(n).<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">randomKey</span><span class="keyword">(array </span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">randomElement</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));<br />
}<br />
<br />
function </span><span class="default">randomElement</span><span class="keyword">(array </span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) === </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'Array is empty.'</span><span class="keyword">,&nbsp; </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rand </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array_keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$array_keys</span><span class="keyword">[</span><span class="default">$rand</span><span class="keyword">]];<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78829""></a>
  <div class="note">
   <strong class="user">Mike Mackintosh</strong>
   <a href="#78829" class="date">29-Oct-2007 09:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to add an object as an array key, for example an object from Simple XML Parser, you can use the following.<br />
<br />
File.XML<br />
&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />
&lt;Settings type="General"&gt;<br />
&nbsp; &lt;Setting name="SettingName"&gt;This This This&lt;/Setting&gt;<br />
&lt;/Settings&gt;<br />
<br />
The script:<br />
<span class="default">&lt;?php<br />
$raw </span><span class="keyword">= </span><span class="default">$xml </span><span class="keyword">=&nbsp; new </span><span class="default">SimpleXMLElement</span><span class="keyword">(</span><span class="string">'File.XML'</span><span class="keyword">);<br />
foreach(</span><span class="default">$raw</span><span class="keyword">-&gt;</span><span class="default">Setting </span><span class="keyword">as </span><span class="default">$A </span><span class="keyword">=&gt; </span><span class="default">$B</span><span class="keyword">)<br />
{&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Set Array From XML<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$Setting</span><span class="keyword">[(string) </span><span class="default">$B</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">]] = (string)&nbsp; </span><span class="default">$B</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
}<br />
</span><span class="default">?&gt;<br />
</span>By telling the key to read the object as a string, it will let you set it.<br />
<br />
Hope this helps someone out!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68682""></a>
  <div class="note">
   <strong class="user">webmaster at phpemailformprocessor dot com</strong>
   <a href="#68682" class="date">06-Aug-2006 09:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using an array to create a list of keys and values for a select box generator which will consist of states I found using "NULL" as an index and ""(empty value) as a value to be useful:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$states </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">0&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="string">'Select a State'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">NULL </span><span class="keyword">=&gt; </span><span class="string">''</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">1&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="string">'AL - Alabama'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">2&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="string">'AK - Alaska'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># And so on ...<br />
</span><span class="keyword">);<br />
<br />
</span><span class="default">$select </span><span class="keyword">= </span><span class="string">'&lt;select name="state" id="state" size="1"&gt;'</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">;<br />
<br />
foreach(</span><span class="default">$states </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$select </span><span class="keyword">.= </span><span class="string">"\t"</span><span class="keyword">.</span><span class="string">'&lt;option value="'</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">'"&gt;' </span><span class="keyword">. </span><span class="default">$value</span><span class="keyword">.</span><span class="string">'&lt;/option&gt;'</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$select </span><span class="keyword">.= </span><span class="string">'&lt;/select&gt;'</span><span class="keyword">;<br />
<br />
echo </span><span class="default">$select</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
&nbsp;This will print out:<br />
<br />
&lt;select name="state" id="state" size="1"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;option value="0"&gt;Select a State&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;option value=""&gt;&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;option value="1"&gt;AL - Alabama&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;option value="2"&gt;AK - Alaska&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp; # And so on ...<br />
<br />
&lt;/select&gt;<br />
<br />
Now a user has a blank value to select if they later decide to not provide their address in the form. The first two options will return TRUE when checked against the php function - EMPTY() after the form is submitted when processing the form</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67028""></a>
  <div class="note">
   <strong class="user">jupiter at nospam dot com</strong>
   <a href="#67028" class="date">02-Jun-2006 03:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// changes any combination of multiarray elements and subarrays<br />
// into a consistent 2nd level multiarray, tries to preserves keys<br />
</span><span class="keyword">function </span><span class="default">changeMultiarrayStructure</span><span class="keyword">(</span><span class="default">$multiarray</span><span class="keyword">, </span><span class="default">$asc </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp; if (</span><span class="default">$asc </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) {&nbsp; </span><span class="comment">// use first subarrays for new keys of arrays<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$multiarraykeys </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$multiarray</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
&nbsp; } else {&nbsp; </span><span class="comment">// use the last array keys<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$multiarraykeys </span><span class="keyword">= </span><span class="default">$multiarray</span><span class="keyword">;&nbsp; </span><span class="comment">// use last subarray keys<br />
&nbsp; </span><span class="keyword">}&nbsp; </span><span class="comment">// end array reordering<br />
&nbsp; </span><span class="default">$newarraykeys </span><span class="keyword">= array();&nbsp; </span><span class="comment">// establish array<br />
&nbsp; </span><span class="keyword">foreach (</span><span class="default">$multiarraykeys </span><span class="keyword">as </span><span class="default">$arrayvalue</span><span class="keyword">) {&nbsp; </span><span class="comment">// build new array keys<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arrayvalue</span><span class="keyword">)) {&nbsp; </span><span class="comment">// is subarray an array<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$newarraykeys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$arrayvalue</span><span class="keyword">) + </span><span class="default">$newarraykeys</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; </span><span class="comment">// if count(prevsubarray)&gt;count(currentarray), extras survive <br />
&nbsp; </span><span class="keyword">}&nbsp; </span><span class="comment">// end key building loop<br />
&nbsp; </span><span class="keyword">foreach (</span><span class="default">$multiarray </span><span class="keyword">as </span><span class="default">$newsubarraykey </span><span class="keyword">=&gt; </span><span class="default">$arrayvalue</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arrayvalue</span><span class="keyword">)) {&nbsp; </span><span class="comment">// multiarray element is an array<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; </span><span class="comment">// start counter for subarray key<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$arrayvalue </span><span class="keyword">as </span><span class="default">$subarrayvalue</span><span class="keyword">) {&nbsp; </span><span class="comment">// access subarray<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newmultiarray</span><span class="keyword">[</span><span class="default">$newarraykeys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]][</span><span class="default">$newsubarraykey</span><span class="keyword">] = </span><span class="default">$subarrayvalue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;&nbsp; </span><span class="comment">// increase counter<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">}&nbsp; </span><span class="comment">// end subarray loop<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">} else {&nbsp; </span><span class="comment">// multiarray element is a value<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$newarraykeys </span><span class="keyword">as </span><span class="default">$newarraykey</span><span class="keyword">) {&nbsp; </span><span class="comment">// new subarray keys<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newmultiarray</span><span class="keyword">[</span><span class="default">$newarraykey</span><span class="keyword">][</span><span class="default">$newsubarraykey</span><span class="keyword">] = </span><span class="default">$arrayvalue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }&nbsp; </span><span class="comment">// end loop for array variables<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}&nbsp; </span><span class="comment">// end conditional<br />
&nbsp; </span><span class="keyword">}&nbsp; </span><span class="comment">// end new multiarray building loop<br />
&nbsp; </span><span class="keyword">return </span><span class="default">$newmultiarray</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// will change <br />
</span><span class="default">$old </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">=&gt;array(</span><span class="string">'e'</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">,</span><span class="string">'f'</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">),</span><span class="string">'c'</span><span class="keyword">=&gt;array(</span><span class="string">'g'</span><span class="keyword">=&gt;</span><span class="default">4</span><span class="keyword">),</span><span class="string">'d'</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">);<br />
</span><span class="comment">// to <br />
</span><span class="default">$new </span><span class="keyword">= array(</span><span class="string">'e'</span><span class="keyword">=&gt;array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">,</span><span class="string">'c'</span><span class="keyword">=&gt;</span><span class="default">4</span><span class="keyword">,</span><span class="string">'d'</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">),<br />
&nbsp; </span><span class="string">'f'</span><span class="keyword">=&gt;array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">,</span><span class="string">'d'</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">));<br />
<br />
</span><span class="comment">// note: if $asc parameter isn't default, last subarray keys used <br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The new key/value assignment pattern is clearer with bigger arrays.<br />
I use this to manipulate input/output data from my db. Enjoy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61422""></a>
  <div class="note">
   <strong class="user">bill at carneyco dot com</strong>
   <a href="#61422" class="date">02-Feb-2006 08:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wanted to be able to control the flow of data in a loop instead of just building tables with it or having to write 500 select statements for single line items. This is what I came up with thanks to the help of my PHP brother in FL. Hope someone else gets some use out it. <br />
&lt;?<br />
<br />
//set array variable <br />
$results = array();<br />
<br />
//talk to the db<br />
$query = "SELECT * FROM yourtable";<br />
$result = mysql_query($query) or die(mysql_error());<br />
<br />
//count the rows and fields<br />
$totalRows = mysql_num_rows($result);<br />
$totalFields = mysql_num_fields($result);<br />
<br />
//start the loop<br />
for ( $i = 0; $i &lt; $totalRows; ++$i ) {<br />
<br />
//make it 2 dim in case you change your order<br />
&nbsp; $results[$i] = mysql_fetch_array($result); <br />
<br />
//call data at will controlling the loop with the array<br />
echo $results[your_row_id]['your_field_name']; }<br />
<br />
//print the entire array to see what lives where<br />
print_r($results);&nbsp; ?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60451""></a>
  <div class="note">
   <strong class="user">php</strong>
   <a href="#60451" class="date">07-Jan-2006 03:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function converts chunks of a string in an array:<br />
<br />
function array_str($str, $len) {<br />
&nbsp; $newstr = '';<br />
&nbsp; for($i = 0; $i &lt; strlen($str); $i++) {<br />
&nbsp;&nbsp;&nbsp; $newstr .= substr($str, $i, $len);<br />
&nbsp; }<br />
&nbsp; return $newstr;<br />
}<br />
<br />
use it as:<br />
<br />
$str = "abcdefghilmn";<br />
echo "&lt;table width=\"100%\"&gt;\n";<br />
foreach(array_str($str, 4) as $chunk) {<br />
&nbsp; echo "&lt;tr&gt;&lt;td&gt;".$chunk."&lt;/td&gt;&lt;/tr&gt;\n";<br />
}<br />
echo "&lt;/table&gt;";<br />
<br />
this prints:<br />
<br />
------<br />
abcd<br />
------<br />
efgh<br />
------<br />
ilmn<br />
------<br />
<br />
It don't use regular expressions. Please add this function to php :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53411""></a>
  <div class="note">
   <strong class="user">matthiasDELETETHIS at ansorgs dot de</strong>
   <a href="#53411" class="date">31-May-2005 02:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to use array() to create an array of references rather than of copies? (Especially needed when dealing with objects.) I played around somewhat and found a solution: place &amp; before the parameters of array() that shall be references. My PHP version is 4.3.10.<br />
<br />
Demonstration:<br />
<br />
<span class="default">&lt;?php<br />
$ref1 </span><span class="keyword">= </span><span class="string">'unchanged'</span><span class="keyword">;<br />
</span><span class="default">$ref2 </span><span class="keyword">= &amp; </span><span class="default">$ref1</span><span class="keyword">;<br />
<br />
</span><span class="default">$array_of_copies </span><span class="keyword">= array(</span><span class="default">$ref1</span><span class="keyword">, </span><span class="default">$ref2</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array_of_copies</span><span class="keyword">); </span><span class="comment">// prints: Array ( [0] =&gt; unchanged [1] =&gt; unchanged ) <br />
</span><span class="default">$array_of_copies</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">'changed'</span><span class="keyword">; </span><span class="comment">// $ref1 = 'changed'; is not equivalent, as it was _copied_ to the array<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array_of_copies</span><span class="keyword">); </span><span class="comment">// prints: Array ( [0] =&gt; changed [1] =&gt; unchanged ) <br />
<br />
</span><span class="default">$array_of_refs </span><span class="keyword">= array(&amp; </span><span class="default">$ref1</span><span class="keyword">, &amp; </span><span class="default">$ref2</span><span class="keyword">); </span><span class="comment">// the difference: place &amp; before arguments<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array_of_refs</span><span class="keyword">); </span><span class="comment">// prints: Array ( [0] =&gt; unchanged [1] =&gt; unchanged ) <br />
</span><span class="default">$array_of_refs</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">'changed'</span><span class="keyword">; </span><span class="comment">// $ref1 = 'changed'; is equivalent as $array_of_refs[0] references $ref1<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array_of_refs</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// prints: Array ( [0] =&gt; changed [1] =&gt; changed ) <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52885""></a>
  <div class="note">
   <strong class="user">aissatya at yahoo dot com</strong>
   <a href="#52885" class="date">16-May-2005 01:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
$foo </span><span class="keyword">= array(</span><span class="string">'bar' </span><span class="keyword">=&gt; </span><span class="string">'baz'</span><span class="keyword">);<br />
echo </span><span class="string">"Hello </span><span class="keyword">{</span><span class="default">$foo</span><span class="keyword">[</span><span class="string">'bar'</span><span class="keyword">]}</span><span class="string">!"</span><span class="keyword">; </span><span class="comment">// Hello baz!<br />
<br />
</span><span class="default">?&gt;</span> <br />
<span class="default">&lt;?php<br />
$firstquarter </span><span class="keyword">= array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'January'</span><span class="keyword">, </span><span class="string">'February'</span><span class="keyword">, </span><span class="string">'March'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$firstquarter</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span> <br />
<span class="default">&lt;?php<br />
$fruits </span><span class="keyword">= array (<br />
&nbsp;&nbsp; </span><span class="string">"fruits"&nbsp; </span><span class="keyword">=&gt; array(</span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="string">"orange"</span><span class="keyword">, </span><span class="string">"b" </span><span class="keyword">=&gt; </span><span class="string">"banana"</span><span class="keyword">, </span><span class="string">"c" </span><span class="keyword">=&gt; </span><span class="string">"apple"</span><span class="keyword">),<br />
&nbsp;&nbsp; </span><span class="string">"numbers" </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">),<br />
&nbsp;&nbsp; </span><span class="string">"holes"&nbsp; </span><span class="keyword">=&gt; array(</span><span class="string">"first"</span><span class="keyword">, </span><span class="default">5 </span><span class="keyword">=&gt; </span><span class="string">"second"</span><span class="keyword">, </span><span class="string">"third"</span><span class="keyword">)<br />
);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52138""></a>
  <div class="note">
   <strong class="user">brian at blueeye dot us</strong>
   <a href="#52138" class="date">21-Apr-2005 05:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need, for some reason, to create variable Multi-Dimensional Arrays, here's a quick function that will allow you to have any number of sub elements without knowing how many elements there will be ahead of time. Note that this will overwrite an existing array value of the same path.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// set_element(array path, mixed value)<br />
</span><span class="keyword">function </span><span class="default">set_element</span><span class="keyword">(&amp;</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$data</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) ? </span><span class="default">set_element</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, array(</span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$data</span><span class="keyword">)) : </span><span class="default">$data</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
For example:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">$path </span><span class="keyword">= array(</span><span class="string">'base'</span><span class="keyword">, </span><span class="string">'category'</span><span class="keyword">, </span><span class="string">'subcategory'</span><span class="keyword">, </span><span class="string">'item'</span><span class="keyword">);<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">set_element</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">'item_value'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Will display:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [base] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [category] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [subcategory] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [item] =&gt; item_value<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50115""></a>
  <div class="note">
   <strong class="user">mortoray at ecircle-ag dot com</strong>
   <a href="#50115" class="date">18-Feb-2005 05:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful if you need to use mixed types with a key of 0 in an array, as several distinct forms end up being the same key:<br />
<br />
$a = array();<br />
$a[null] = 1;<br />
$a[0] = 2;<br />
$a['0'] = 3;<br />
$a["0"] = 4;<br />
$a[false] = 5;<br />
$a[0.0] = 6;<br />
$a[''] = 7;<br />
$a[] = 8;<br />
<br />
print_r( $a );<br />
<br />
This will print out only 3 values: 6, 7, 8.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50097""></a>
  <div class="note">
   <strong class="user">rdude at fuzzelish dot com</strong>
   <a href="#50097" class="date">17-Feb-2005 01:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are creating an array with a large number of static items, you will find serious performance differences between using the array() function and the $array[] construct. For example:<br />
&lt;?<br />
&nbsp;// Slower method<br />
&nbsp;$my_array = array(1, 2, 3, ? 500);<br />
&nbsp;<br />
&nbsp;// Faster method<br />
&nbsp;$my_array[] = 1;<br />
&nbsp;$my_array[] = 2;<br />
&nbsp;$my_array[] = 3;<br />
&nbsp;?<br />
&nbsp;$my_array[] = 500;<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48906""></a>
  <div class="note">
   <strong class="user">phpm at nreynolds dot me dot uk</strong>
   <a href="#48906" class="date">11-Jan-2005 08:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This helper function creates a multi-dimensional array. For example, creating a three dimensional array measuring 10x20x30: <span class="default">&lt;?php $my_array </span><span class="keyword">= </span><span class="default">multi_dim</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">); </span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">multi_dim</span><span class="keyword">()<br />
{&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$fill_value </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$arg_index </span><span class="keyword">= </span><span class="default">func_num_args</span><span class="keyword">() - </span><span class="default">1</span><span class="keyword">; </span><span class="default">$arg_index </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$arg_index</span><span class="keyword">--) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dim_size </span><span class="keyword">= </span><span class="default">func_get_arg</span><span class="keyword">(</span><span class="default">$arg_index</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fill_value </span><span class="keyword">= </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$dim_size</span><span class="keyword">, </span><span class="default">$fill_value</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$fill_value</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36633""></a>
  <div class="note">
   <strong class="user">baZz</strong>
   <a href="#36633" class="date">16-Oct-2003 03:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Chek this out!!!. Suppose that you want to create an array like the following:<br />
<span class="default">&lt;?php<br />
&nbsp; $arr1 </span><span class="keyword">= (<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">0 </span><span class="keyword">=&gt; array (</span><span class="string">"customer"</span><span class="keyword">=&gt;</span><span class="string">"Client 1"</span><span class="keyword">,</span><span class="string">"Item a"</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array (</span><span class="string">"customer"</span><span class="keyword">=&gt;</span><span class="string">"Client 2"</span><span class="keyword">,</span><span class="string">"Item b"</span><span class="keyword">)<br />
&nbsp; );<br />
</span><span class="default">?&gt;<br />
</span>Seems prety easy, but what if you want to generate it dinamically woops!!!.&nbsp; Imagine that you have a file with thousands of lines and each line is a purchase order from diferent clients:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*function to add elements*/<br />
</span><span class="keyword">function </span><span class="default">addArray</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">, </span><span class="default">$var</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tempArray </span><span class="keyword">= array( </span><span class="default">$var </span><span class="keyword">=&gt; </span><span class="default">$id</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_merge </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$tempArray</span><span class="keyword">);<br />
}<br />
</span><span class="comment">/*The same as above but the element is an array*/<br />
</span><span class="keyword">function </span><span class="default">addArrayArr</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$var</span><span class="keyword">, &amp;</span><span class="default">$array1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tempArray </span><span class="keyword">= array(</span><span class="default">$var </span><span class="keyword">=&gt; </span><span class="default">$array1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_merge </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$tempArray</span><span class="keyword">);<br />
}<br />
</span><span class="comment">/*labels of our array or heders of the file*/<br />
</span><span class="default">$keyarr </span><span class="keyword">= array(</span><span class="string">"customer"</span><span class="keyword">,</span><span class="string">"item"</span><span class="keyword">);<br />
</span><span class="comment">/*info that may you read from a file line 1 and 2*/<br />
</span><span class="default">$valarr0 </span><span class="keyword">= array(</span><span class="string">"Client 1"</span><span class="keyword">,</span><span class="string">"Item a"</span><span class="keyword">);<br />
</span><span class="default">$valarr1 </span><span class="keyword">= array(</span><span class="string">"Client 2"</span><span class="keyword">,</span><span class="string">"Item b"</span><span class="keyword">);<br />
<br />
</span><span class="default">$numofrows </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;</span><span class="comment">/*In our case is just two lines*/<br />
</span><span class="default">$tmpArray </span><span class="keyword">= array();<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$numofrows</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="string">"valarr</span><span class="default">$i</span><span class="string">"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$tmpvar </span><span class="keyword">= ${</span><span class="default">$tmp</span><span class="keyword">};</span><span class="comment">/*Using var of vars tricky tricky*/<br />
&nbsp; </span><span class="keyword">foreach( </span><span class="default">$keyarr </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">){&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">addArray</span><span class="keyword">(</span><span class="default">$tmparr</span><span class="keyword">,</span><span class="default">$tmpvar</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">],</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; </span><span class="default">addArrayArr</span><span class="keyword">(</span><span class="default">$finalarr</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$tmparr</span><span class="keyword">);<br />
} </span><span class="comment">/*voila all it's perfectly ordered on finalarr*/<br />
<br />
/*Here we just print the info but you can insert it into a database*/<br />
</span><span class="keyword">echo </span><span class="string">"Customer: "</span><span class="keyword">.</span><span class="default">$finalarr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">"customer"</span><span class="keyword">].</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"Item: "</span><span class="keyword">.</span><span class="default">$finalarr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">"item"</span><span class="keyword">].</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"Customer: "</span><span class="keyword">.</span><span class="default">$finalarr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">"customer"</span><span class="keyword">].</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"Item: "</span><span class="keyword">.</span><span class="default">$finalarr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">"item"</span><span class="keyword">].</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
The lines above should print something like:<br />
Customer: Client 1<br />
Item: Item a<br />
Customer: Client 2<br />
Item: Item b<br />
I hope someone find this useful.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35495""></a>
  <div class="note">
   <strong class="user">TCross1 at hotmail dot com</strong>
   <a href="#35495" class="date">03-Sep-2003 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here is the sort of "textbook" way to output the contents of an array which avoids using foreach() and allows you to index &amp; iterate through the array as you see fit:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$arrayName </span><span class="keyword">= array(</span><span class="string">"apples"</span><span class="keyword">, </span><span class="string">"bananas"</span><span class="keyword">, </span><span class="string">"oranges"</span><span class="keyword">, </span><span class="string">"pears"</span><span class="keyword">);<br />
</span><span class="default">$arrayLength </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrayName</span><span class="keyword">);<br />
<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$arrayLength</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"arrayName at[" </span><span class="keyword">. </span><span class="default">$i </span><span class="keyword">. </span><span class="string">"] is: [" </span><span class="keyword">.</span><span class="default">$arrayName</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] . </span><span class="string">"]&lt;br&gt;\n"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
enjoy!<br />
<br />
-tim</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31957""></a>
  <div class="note">
   
   <a href="#31957" class="date">10-May-2003 03:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Similarly to a comment by stlawson at sbcglobal dot net on this page:
<br />
<a href="http://www.php.net/basic-syntax.instruction-separation" rel="nofollow" target="_blank">http://www.php.net/basic-syntax.instruction-separation</a>
<br />

<br />
It is usually advisable to define your arrays like this:
<br />
$array = array(
<br />
&nbsp;&nbsp; &nbsp; 'foo',
<br />
&nbsp;&nbsp; &nbsp; 'bar',
<br />
);
<br />

<br />
Note the comma after the last element - this is perfectly legal. Moreover,
<br />
it's best to add that last comma so that when you add new elements to the
<br />
array, you don't have to worry about adding a comma after what used to be
<br />
the last element.
<br />

<br />
<span class="default">&lt;?php
<br />
$array </span><span class="keyword">= array(
<br />
&nbsp;&nbsp; &nbsp; </span><span class="string">'foo'</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; </span><span class="string">'bar'</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; </span><span class="string">'baz'</span><span class="keyword">,
<br />
);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29779""></a>
  <div class="note">
   <strong class="user">marcel at labor-club dot de</strong>
   <a href="#29779" class="date">24-Feb-2003 07:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i tried to find a way to create BIG multidimensional-arrays. but the notes below only show the usage of it, or the creation of small arrays like $matrix=array('birne', 'apfel', 'beere');
<br />

<br />
for an online game, i use a big array (50x80) elements.
<br />
it's no fun, to write the declaration of it in the ordinary way.
<br />

<br />
here's my solution, to create an 2d-array, filled for example with raising numbers.
<br />

<br />
<span class="default">&lt;?php
<br />
$matrix</span><span class="keyword">=array();
<br />
</span><span class="default">$sx</span><span class="keyword">=</span><span class="default">30</span><span class="keyword">;
<br />
</span><span class="default">$sy</span><span class="keyword">=</span><span class="default">40</span><span class="keyword">;
<br />
</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br />
for (</span><span class="default">$y</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$y</span><span class="keyword">&lt;</span><span class="default">$sy</span><span class="keyword">; </span><span class="default">$y</span><span class="keyword">++)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$matrix</span><span class="keyword">,array());
<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">$sx</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$matrix</span><span class="keyword">[</span><span class="default">$y</span><span class="keyword">],array());
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$matrix</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">][</span><span class="default">$y</span><span class="keyword">]=</span><span class="default">$i</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
if there is a better way, plz send an email. i always want to learn more php!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="26470""></a>
  <div class="note">
   <strong class="user">MadLogic at Paradise dot net dot nz</strong>
   <a href="#26470" class="date">31-Oct-2002 02:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Heres a simple yet intelligent way of setting an array, grabbing the values from the array using a loop.
<br />

<br />
<span class="default">&lt;?php
<br />
$ary </span><span class="keyword">= array(</span><span class="string">"1"</span><span class="keyword">=&gt;</span><span class="string">'One'</span><span class="keyword">,</span><span class="string">'Two'</span><span class="keyword">,</span><span class="string">"3"</span><span class="keyword">=&gt;</span><span class="string">'Three'</span><span class="keyword">);
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">'0'</span><span class="keyword">; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$ary</span><span class="keyword">);
<br />
while (</span><span class="default">$a </span><span class="keyword">&lt;= </span><span class="default">$b</span><span class="keyword">) {
<br />
&nbsp; </span><span class="default">$pr </span><span class="keyword">= </span><span class="default">$ary</span><span class="keyword">[</span><span class="default">$a</span><span class="keyword">];
<br />
&nbsp; print </span><span class="string">"</span><span class="default">$pr</span><span class="string">&lt;br&gt;"</span><span class="keyword">;
<br />
&nbsp; </span><span class="default">$a</span><span class="keyword">++;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="26226""></a>
  <div class="note">
   <strong class="user">mads at __nospam__westermann dot dk</strong>
   <a href="#26226" class="date">23-Oct-2002 07:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP 4.2.3 (and maybe earlier versions) arrays with numeric indexes may be initialized to start at a specific index and then automatically increment the index. This will save you having to write the index in front of every element for arrays that are not zero-based. 
<br />

<br />
The code:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $a </span><span class="keyword">= array
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">21&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">2</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">3</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; );
<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
will print:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">Array
<br />
(
<br />
&nbsp;&nbsp;&nbsp; [</span><span class="default">21</span><span class="keyword">] =&gt; </span><span class="default">1
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">22</span><span class="keyword">] =&gt; </span><span class="default">2
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">23</span><span class="keyword">] =&gt; </span><span class="default">3
<br />
</span><span class="keyword">)
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="23441""></a>
  <div class="note">
   <strong class="user">John</strong>
   <a href="#23441" class="date">18-Jul-2002 11:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful not to create an array on top of an already existing variable:
<br />

<br />
<span class="default">&lt;?php
<br />
$name </span><span class="keyword">= </span><span class="string">"John"</span><span class="keyword">;
<br />
</span><span class="default">$name</span><span class="keyword">[</span><span class="string">'last'</span><span class="keyword">] = </span><span class="string">"Doe"</span><span class="keyword">; 
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
$name becomes "Dohn" since 'last' evaluates to the 0th position of $name.
<br />
Same is true for multi-arrays.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20898""></a>
  <div class="note">
   <strong class="user">jay at ezlasvegas dot net</strong>
   <a href="#20898" class="date">20-Apr-2002 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to create an array of a set size and you have PHP4, use<br />
array_pad(array(), $SIZE, $INITIAL_VALUE); This can be handy if you wish<br />
to initialize a bunch of variables at once: <br />
<br />
list($Var1, $Var2, etc) = array_pad(array(), $NUMBER_OF_VARS,<br />
$INITIAL_VALUE);<br />
<br />
Jay Walker<br />
Las Vegas Hotel Associate<br />
<a href="http://www.ezlasvegas.net" rel="nofollow" target="_blank">http://www.ezlasvegas.net</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="19774""></a>
  <div class="note">
   <strong class="user">jjm152 at hotmail dot com</strong>
   <a href="#19774" class="date">10-Mar-2002 06:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The easiest way to "list" the values of either a normal 1 list array or a multi dimensional array is to use a foreach() clause.
<br />

<br />
Example for 1 dim array:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp; $arr </span><span class="keyword">= array( </span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">5 </span><span class="keyword">);
<br />
&nbsp;&nbsp; foreach ( </span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$val </span><span class="keyword">) { 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">"Value: </span><span class="default">$Val</span><span class="string">\n"</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
For multi dim array:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp; &nbsp; $arr </span><span class="keyword">= array( </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'one'</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">'two'</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">, </span><span class="default">4 </span><span class="keyword">=&gt; </span><span class="string">'four, 5 =&gt; '</span><span class="default">five</span><span class="string">');
<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach ( $arr as $key =&gt; $value ) { 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo "Key: $key, Value: $value\n";
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
?&gt;
<br />

<br />
This is quite possibly the easiest way i'</span><span class="default">ve found to iterate through an </span><span class="keyword">array.</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18613""></a>
  <div class="note">
   <strong class="user">tobiasquinteiro at ig dot com dot br</strong>
   <a href="#18613" class="date">29-Jan-2002 12:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&lt;?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // This is a small script that shows how to use an multiple array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for($x = 0;$x &lt; 10;$x++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for($y = 0;$y &lt; 10;$y++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $mat[$x][$y] = "$x,$y";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for($x = 0;$x &lt; count($mat);$x++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for($y = 0;$y &lt; count($mat[$x]);$y++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo&nbsp; &nbsp; "mat[$x][$y]: " .<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $mat[$x][$y] . " ";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo "\n";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13059""></a>
  <div class="note">
   <strong class="user">joshua dot e at usa dot net</strong>
   <a href="#13059" class="date">24-May-2001 11:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a cool tip for working with associative arrays- 
<br />
Here's what I was trying to accomplish: 
<br />

<br />
I wanted to hit a DB, and load the results into an associative array, since I only had key/value pairs returned. I loaded them into an array, because I wanted to manipulate the data further after the DB select, but I didn't want to hit the DB more than necessary. 
<br />

<br />
Here's how I did it: 
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">//assume db connectivity
<br />
//load it all into the associative array
<br />
</span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"SELECT key,value FROM table"</span><span class="keyword">;
<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$sql</span><span class="keyword">);
<br />
while(</span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_row</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)) {
<br />
</span><span class="default">$myArray</span><span class="keyword">[</span><span class="default">$row</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]] = </span><span class="default">$row</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];
<br />
}
<br />
</span><span class="comment">//now we expand it
<br />
</span><span class="keyword">while(list(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">)) {
<br />
echo </span><span class="string">"</span><span class="default">$key</span><span class="string"> : </span><span class="default">$value</span><span class="string">"</span><span class="keyword">;
<br />
} 
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
I found this to be super efficient, and extremely cool.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12055""></a>
  <div class="note">
   <strong class="user">slicky at newshelix dot com</strong>
   <a href="#12055" class="date">20-Mar-2001 01:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Notice that you can also add arrays to other arrays with the $array[] "operator" while the dimension doesn't matter.
<br />

<br />
Here's an example:
<br />
$x[w][x] = $y[y][z];
<br />
this will give you a 4dimensional assosiative array.
<br />
$x[][] = $y[][];
<br />
this will give you a 4dimensional non assosiative array.
<br />

<br />
So let me come to the point. This get interessting for shortening things up. For instance:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$lines </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">)) continue;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tds</span><span class="keyword">[] = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"</span><span class="default">$delimiter</span><span class="string">"</span><span class="keyword">,</span><span class="default">$line</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="8740""></a>
  <div class="note">
   <strong class="user">rubein at earthlink dot net</strong>
   <a href="#8740" class="date">26-Sep-2000 11:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Multidimensional arrays are actually single-dimensional arrays nested inside other single-dimensional arrays.
<br />

<br />
$array[0] refers to element 0 of $array
<br />
$array[0][2] refers to element 2 of element 0 of $array.
<br />

<br />
If an array was initialized like this:
<br />

<br />
$array[0] = "foo";
<br />
$array[1][0] = "bar";
<br />
$array[1][1] = "baz";
<br />
$array[1][2] = "bam";
<br />

<br />
then:
<br />
is_array($array) = TRUE
<br />
is_array($array[0]) = FALSE
<br />
is_array($array[1]) = TRUE
<br />
count($array) = 2 (elements 0 and 1)
<br />
count($array[1] = 3 (elements 0 thru 2)
<br />

<br />
This can be really useful if you want to return a list of arrays that were stored in a file or something:
<br />

<br />
$array[0] = unserialize($somedata);
<br />
$array[1] = unserialize($someotherdata);
<br />

<br />
if $somedata["foo"] = 42 before it was serialized previously, you'd now have this:
<br />
$array[0]["foo"] = 42</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
