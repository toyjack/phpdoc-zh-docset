<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Get the job handle</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="gearmantask.isrunning.html">? GearmanTask::isRunning</a></li>
      <li style="float: right;"><a href="gearmantask.recvdata.html">GearmanTask::recvData ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.gearmantask.html">GearmanTask</a></li>
    <li>Get the job handle</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="gearmantask.jobhandle" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">GearmanTask::jobHandle</h1>
  <h1 class="refname">gearman_job_handle</h1>
  <p class="verinfo">(PECL gearman &gt;= 0.5.0)</p><p class="refpurpose"><span class="refname">GearmanTask::jobHandle</span> -- <span class="refname">gearman_job_handle</span> &mdash; <span class="dc-title">Get the job handle</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-gearmantask.jobhandle-description">
  <h3 class="title">说明</h3>
   <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>GearmanTask::jobHandle</strong></span>(): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   Returns the job handle for this task.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-gearmantask.jobhandle-parameters">
  <h3 class="title">参数</h3>
  <p class="para">此函数没有参数。</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-gearmantask.jobhandle-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   The opaque job handle.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-gearmantask.jobhandle-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="methodname"><a href="gearmanclient.dojobhandle.html" class="methodname" rel="rdfs-seeAlso">GearmanClient::doJobHandle()</a> - Get the job handle for the running task</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="112984""></a>
  <div class="note">
   <strong class="user">chris at cmbuckley dot co dot uk</strong>
   <a href="#112984" class="date">14-Aug-2013 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The job handle is not assigned until the task is received and queued by the job server, so you will need to use one of the client callbacks to access the handle:<br />
<br />
<span class="default">&lt;?php<br />
$client</span><span class="keyword">-&gt;</span><span class="default">setCreatedCallback</span><span class="keyword">(function (</span><span class="default">$task</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$task</span><span class="keyword">-&gt;</span><span class="default">jobHandle</span><span class="keyword">()); </span><span class="comment">// "H:server:1"<br />
</span><span class="keyword">});<br />
</span><span class="default">$task </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">addTask</span><span class="keyword">(</span><span class="string">'function'</span><span class="keyword">, </span><span class="string">'workload'</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$task</span><span class="keyword">-&gt;</span><span class="default">jobHandle</span><span class="keyword">()); </span><span class="comment">// ""</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
