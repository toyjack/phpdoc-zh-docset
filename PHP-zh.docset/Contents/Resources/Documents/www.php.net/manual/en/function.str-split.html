<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>将字符串转换为数组</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.str-shuffle.html">? str_shuffle</a></li>
      <li style="float: right;"><a href="function.str-word-count.html">str_word_count ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.strings.html">字符串 函数</a></li>
    <li>将字符串转换为数组</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.str-split" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">str_split</h1>
  <p class="verinfo">(PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">str_split</span> &mdash; <span class="dc-title">将字符串转换为数组</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.str-split-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>str_split</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$string</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$split_length</code><span class="initializer"> = 1</span></span>
  ] ) : <span class="type">array</span></div>

  <p class="para rdfs-comment">
   将一个字符串转换为数组。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.str-split-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">string</code></dt>

     <dd>

      <p class="para">
       输入字符串。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">split_length</code></dt>

     <dd>

      <p class="para">
       每一段的长度。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.str-split-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   如果指定了可选的 <code class="parameter">split_length</code> 参数，返回数组中的每个元素均为一个长度为 <code class="parameter">split_length</code> 的字符块，否则每个字符块为单个字符。
  </p>
  <p class="para">
   如果 <code class="parameter">split_length</code> 小于 1，返回 <strong><code>FALSE</code></strong>。如果 <code class="parameter">split_length</code> 参数超过了 <code class="parameter">string</code> 超过了字符串 <code class="parameter">string</code> 的长度，整个字符串将作为数组仅有的一个元素返回。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.str-split-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-6003">
    <p><strong>Example #1 <span class="function"><strong>str_split()</strong></span> 使用范例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;Friend"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$arr1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_split</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$arr2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_split</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr2</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; H
    [1] =&gt; e
    [2] =&gt; l
    [3] =&gt; l
    [4] =&gt; o
    [5] =&gt;
    [6] =&gt; F
    [7] =&gt; r
    [8] =&gt; i
    [9] =&gt; e
    [10] =&gt; n
    [11] =&gt; d
)

Array
(
    [0] =&gt; Hel
    [1] =&gt; lo
    [2] =&gt; Fri
    [3] =&gt; end
)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.str-split-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    在处理多字节字符时，<span class="function"><strong>str_split()</strong></span> 会按字节数转换，而非字符数。
   </p>
  </p></blockquote>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.str-split-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.chunk-split.html" class="function" rel="rdfs-seeAlso">chunk_split()</a> - 将字符串分割成小块</span></li>
    <li class="member"><span class="function"><a href="function.preg-split.html" class="function" rel="rdfs-seeAlso">preg_split()</a> - 通过一个正则表达式分隔字符串</span></li>
    <li class="member"><span class="function"><a href="function.explode.html" class="function" rel="rdfs-seeAlso">explode()</a> - 使用一个字符串分割另一个字符串</span></li>
    <li class="member"><span class="function"><a href="function.count-chars.html" class="function" rel="rdfs-seeAlso">count_chars()</a> - 返回字符串所用字符的信息</span></li>
    <li class="member"><span class="function"><a href="function.str-word-count.html" class="function" rel="rdfs-seeAlso">str_word_count()</a> - 返回字符串中单词的使用情况</span></li>
    <li class="member"><a href="control-structures.for.html" class="link">for</a></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="121420""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#121420" class="date">23-Jul-2017 01:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is very good. I love PHP. Woderful!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120458""></a>
  <div class="note">
   <strong class="user">Perl Rules</strong>
   <a href="#120458" class="date">12-Jan-2017 11:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Unicode str_split without use of mbstring. Based on PCRE_UTF8 feature. <br />
<br />
function mb_str_split($str, $len){<br />
&nbsp;&nbsp;&nbsp; $chars = preg_split('/(?&lt;!^)(?!$)/u', $str ); <br />
&nbsp;&nbsp;&nbsp; $out = array(); <br />
&nbsp;&nbsp;&nbsp; foreach( array_chunk($chars, $len) as $a ){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $out[] = join("", $a);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $out;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117112""></a>
  <div class="note">
   <strong class="user">veszelovszki at gmail dot com</strong>
   <a href="#117112" class="date">16-Apr-2015 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a better version of queremy@gmail.com's solution. It has the exact same interface as str_split, but works with any UTF-8 string.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'mb_str_split'</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Converts an UTF-8 string to an array.<br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * E.g. mb_str_split("Hello Friend");<br />
&nbsp;&nbsp; &nbsp; * returns ['H', 'e', 'l', 'l', 'o', ' ', 'w', 'o', 'r', 'l', 'd']<br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * @param string $string The input string.<br />
&nbsp;&nbsp; &nbsp; * @param int $split_length Maximum length of the chunk. If specified, the returned array will be broken down<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp; into chunks with each being split_length in length, otherwise each chunk will be one character in length.<br />
&nbsp;&nbsp; &nbsp; * @return array|boolean<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; -<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; - If the split_length length exceeds the length of string, the entire string is returned<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; as the first (and only) array element.<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; - False is returned if split_length is less than 1.<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">mb_str_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$split_length </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$split_length </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"//u"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } elseif (</span><span class="default">$split_length </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_value </span><span class="keyword">= [];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string_length </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="string">"UTF-8"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$string_length</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$split_length</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_value</span><span class="keyword">[] = </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">$split_length</span><span class="keyword">, </span><span class="string">"UTF-8"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$return_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116804""></a>
  <div class="note">
   <strong class="user">Daniel Rhodes</strong>
   <a href="#116804" class="date">02-Mar-2015 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's mentioned in the Return Values section above ("If the split_length length exceeds the length of string, the entire string is returned as the first (and only) array element"), but note that an input of empty string will return array(1) { [0]=&gt; string(0) "" }. Interestingly an input of NULL will also return array(1) { [0]=&gt; string(0) "" }.<br />
<br />
Compare this with, say, <span class="default">&lt;?php&nbsp; preg_split</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">, </span><span class="default">$inputString</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY</span><span class="keyword">); </span><span class="default">?&gt;</span> which will return array(0) { } for an input of empty string or NULL. I find this to be a bit more intuitive.<br />
<br />
Hope this helps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115806""></a>
  <div class="note">
   <strong class="user">kunal dot b at indiaproperty dot com</strong>
   <a href="#115806" class="date">26-Sep-2014 10:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that in atleast in PHP 5.5.9 (Zend Engine v2.5.0), str_split with an integer value as an argument may return unpredictable results.<br />
<br />
If your number contains leading 0's, the result array is unprdictable as it may contain any number of digits from the argument or (mostly) just a 0.<br />
<br />
Here are a list of possible values that might be returned:<br />
-Interger<br />
<br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(0080450));&nbsp; </span><span class="comment">// does not work<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">strval</span><span class="keyword">(0080450)));&nbsp; </span><span class="comment">// neither this<br />
<br />
/*<br />
* Outputs:<br />
* Array<br />
* (<br />
*&nbsp; &nbsp;&nbsp; [0] =&gt; 0<br />
* )<br />
*/<br />
</span><span class="default">?&gt;<br />
</span><br />
BUT <br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">80450</span><span class="keyword">));&nbsp; </span><span class="comment">// works fine<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">strval</span><span class="keyword">(</span><span class="default">80450</span><span class="keyword">)));&nbsp; </span><span class="comment">// so does this<br />
<br />
/*<br />
* Outputs:<br />
* (<br />
*&nbsp; &nbsp;&nbsp; [0] =&gt; 8<br />
*&nbsp; &nbsp;&nbsp; [1] =&gt; 0<br />
*&nbsp; &nbsp;&nbsp; [2] =&gt; 4<br />
*&nbsp; &nbsp;&nbsp; [3] =&gt; 5<br />
*&nbsp; &nbsp;&nbsp; [4] =&gt; 0<br />
* )<br />
*/<br />
</span><span class="default">?&gt;<br />
</span><br />
Floating point numbers have their leading and trailing 0s cut off:<br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">0080450.0010</span><span class="keyword">));&nbsp;&nbsp; </span><span class="comment">// works but.. print_r(str_split(strval(0080450.0010)));&nbsp; // same here..<br />
<br />
/*<br />
Outputs:<br />
* Array<br />
* (<br />
*&nbsp; &nbsp;&nbsp; [0] =&gt; 8<br />
*&nbsp; &nbsp;&nbsp; [1] =&gt; 0<br />
*&nbsp; &nbsp;&nbsp; [2] =&gt; 4<br />
*&nbsp; &nbsp;&nbsp; [3] =&gt; 5<br />
*&nbsp; &nbsp;&nbsp; [4] =&gt; 0<br />
*&nbsp; &nbsp;&nbsp; [5] =&gt; .<br />
*&nbsp; &nbsp;&nbsp; [6] =&gt; 0<br />
*&nbsp; &nbsp;&nbsp; [7] =&gt; 0<br />
*&nbsp; &nbsp;&nbsp; [8] =&gt; 1<br />
* )<br />
*/<br />
</span><span class="default">?&gt;<br />
</span><br />
I'm not sure if this can be considered a bug, since this is due to how type conversion and casting works, so i just posted it here.<br />
I've notced that this is how strval() works. Can anyone shed light into this?..</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115703""></a>
  <div class="note">
   <strong class="user">robert dot johnson at icap dot com</strong>
   <a href="#115703" class="date">11-Sep-2014 02:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/* Another implementation of str_split_unicode: */<br />
</span><span class="keyword">function </span><span class="default">str_split_unicode</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$l </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) <br />
{<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/(.{'</span><span class="keyword">.</span><span class="default">$l</span><span class="keyword">.</span><span class="string">'})/us'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY</span><span class="keyword">|</span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113274""></a>
  <div class="note">
   <strong class="user">qeremy [atta] gmail [dotta] com</strong>
   <a href="#113274" class="date">19-Sep-2013 08:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A new version of "str_split_unicode" prev.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">str_split_unicode</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'~~u'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$length </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$chunks </span><span class="keyword">= </span><span class="default">array_chunk</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$chunks </span><span class="keyword">as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$chunk</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$chunks</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">join</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">, (array) </span><span class="default">$chunk</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">$chunks</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$tmp</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
$s = '?zgür Yaz?l?m!'; // Open Source!<br />
<br />
print_r(str_split_unicode($s));<br />
print_r(str_split_unicode($s, 3));<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; ?<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; z<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; g<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; ü<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; r<br />
&nbsp;&nbsp;&nbsp; [5] =&gt;&nbsp; <br />
&nbsp;&nbsp;&nbsp; [6] =&gt; Y<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; a<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; z<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; ?<br />
&nbsp;&nbsp;&nbsp; [10] =&gt; l<br />
&nbsp;&nbsp;&nbsp; [11] =&gt; ?<br />
&nbsp;&nbsp;&nbsp; [12] =&gt; m<br />
&nbsp;&nbsp;&nbsp; [13] =&gt; !<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; ?zg<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; ür <br />
&nbsp;&nbsp;&nbsp; [2] =&gt; Yaz<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; ?l?<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; m!<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112624""></a>
  <div class="note">
   <strong class="user">jakub dot lopuszanski at nasza-klasa dot pl</strong>
   <a href="#112624" class="date">05-Jul-2013 01:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To split UTF-8 into 16-charcater slices you can use:<br />
<span class="default">&lt;?php<br />
preg_split</span><span class="keyword">(</span><span class="string">'/(?=(.{16})*$)/u'</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>You can also use look-behind instead of look-ahead if you want the first (not the last) chunk to be the shortest.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112064""></a>
  <div class="note">
   <strong class="user">stlawson AT JoyfulEarthTech DOT com</strong>
   <a href="#112064" class="date">28-Apr-2013 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation fails to mention what happens when the string length does not divide evenly with the chunk size.&nbsp; Not sure if the same behavior for all versions of PHP so I offer the following code to determine this for your installation.&nbsp; On mine [version 5.2.17], the last chunk is an array the length of the remaining chars.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$da_string </span><span class="keyword">= </span><span class="string">"When number of chars does't divide evenly"</span><span class="keyword">;<br />
</span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$da_string</span><span class="keyword">);<br />
</span><span class="default">$chunk_size </span><span class="keyword">= </span><span class="default">8</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;p&gt; Length of &lt;span style='font-family:monospace'&gt;</span><span class="default">$da_string</span><span class="string">&lt;/span&gt;: </span><span class="default">$len</span><span class="string">&lt;/p&gt;\n"</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;p&gt; Chunck size: </span><span class="default">$chunk_size</span><span class="string">&lt;/p&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">$parts </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$da_string</span><span class="keyword">, </span><span class="default">$chunk_size</span><span class="keyword">);<br />
</span><span class="default">$html </span><span class="keyword">= </span><span class="string">"&lt;table border='5' cellpadding='3' cellspacing='4'&gt;\n"</span><span class="keyword">;<br />
foreach (</span><span class="default">$parts </span><span class="keyword">as </span><span class="default">$idx</span><span class="keyword">=&gt;</span><span class="default">$part</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$html </span><span class="keyword">.= </span><span class="string">"&lt;tr&gt;\n"</span><span class="keyword">; <br />
&nbsp;&nbsp; </span><span class="default">$html </span><span class="keyword">.= </span><span class="string">"&lt;td style='font-family:monospace'&gt;</span><span class="default">$part</span><span class="string">&lt;/td&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$chars </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">);<br />
&nbsp;&nbsp; foreach (</span><span class="default">$chars </span><span class="keyword">as </span><span class="default">$char</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (</span><span class="default">$char </span><span class="keyword">=== </span><span class="string">' '</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$html </span><span class="keyword">.= </span><span class="string">"&lt;td&gt;&amp;nbsp;&lt;/td&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$html </span><span class="keyword">.= </span><span class="string">"&lt;td&gt;</span><span class="default">$char</span><span class="string">&lt;/td&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; </span><span class="default">$html </span><span class="keyword">.= </span><span class="string">"&lt;/tr&gt;\n"</span><span class="keyword">; <br />
}<br />
</span><span class="default">$html </span><span class="keyword">.= </span><span class="string">"&lt;/table&gt;\n"</span><span class="keyword">; <br />
echo </span><span class="default">$html</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108956""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#108956" class="date">08-Jun-2012 01:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little one-liner that came in handy. I thought i'd share for those who want to split a string into two parts by the given offset.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp;&nbsp; * Split a string into two parts at offset.<br />
&nbsp;&nbsp;&nbsp; * <br />
&nbsp;&nbsp;&nbsp; * @param&nbsp; &nbsp; string&nbsp; &nbsp; $string<br />
&nbsp;&nbsp;&nbsp; * @param&nbsp; &nbsp; integer&nbsp; &nbsp; $offset<br />
&nbsp;&nbsp;&nbsp; * @return&nbsp; &nbsp; mixed&nbsp; &nbsp; array and bool(false) if offset is out of scope<br />
&nbsp;&nbsp;&nbsp; */<br />
<br />
</span><span class="keyword">function </span><span class="default">str_osplit</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; return isset(</span><span class="default">$string</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">]) ? array(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">), </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">)) : </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">$str </span><span class="keyword">= </span><span class="string">"Split a string into two parts at offset"</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">str_osplit</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">));<br />
<br />
</span><span class="comment">/**<br />
* Output:<br />
array(2) {<br />
&nbsp; [0]=&gt;<br />
&nbsp; string(12) "Split a stri"<br />
&nbsp; [1]=&gt;<br />
&nbsp; string(27) "ng into two parts at offset"<br />
}<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107658""></a>
  <div class="note">
   <strong class="user">qeremy [atta] gmail [dotta] com</strong>
   <a href="#107658" class="date">24-Feb-2012 12:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A proper unicode string split;<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">str_split_unicode</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$l </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$l </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="string">"UTF-8"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$len</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$l</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">$l</span><span class="keyword">, </span><span class="string">"UTF-8"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"//u"</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
$s = "Il?k süt"; // Mild milk<br />
<br />
print_r(str_split($s, 3));<br />
print_r(str_split_unicode($s, 3));<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Il?<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; ?k <br />
&nbsp;&nbsp;&nbsp; [2] =&gt; sü<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; t<br />
)<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Il?<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; k s<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; üt<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98428""></a>
  <div class="note">
   <strong class="user">anon</strong>
   <a href="#98428" class="date">15-Jun-2010 08:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a function that could split a string from the end with any left over chunk being at the beginning of the array (the beginning of the string). <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">str_rsplit</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$sz</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// splits a string "starting" at the end, so any left over (small chunk) is at the beginning of the array.&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if ( !</span><span class="default">$sz </span><span class="keyword">) { return </span><span class="default">false</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$sz </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">) { return </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$sz</span><span class="keyword">); }&nbsp; &nbsp; </span><span class="comment">// normal split<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$l </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sz </span><span class="keyword">= </span><span class="default">min</span><span class="keyword">(-</span><span class="default">$sz</span><span class="keyword">,</span><span class="default">$l</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mod </span><span class="keyword">= </span><span class="default">$l </span><span class="keyword">% </span><span class="default">$sz</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if ( !</span><span class="default">$mod </span><span class="keyword">) { return </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$sz</span><span class="keyword">); }&nbsp; &nbsp; </span><span class="comment">// even/max-length split<br />
<br />
&nbsp;&nbsp;&nbsp; // split<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">array_merge</span><span class="keyword">(array(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$mod</span><span class="keyword">)), </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$mod</span><span class="keyword">),</span><span class="default">$sz</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">$str </span><span class="keyword">= </span><span class="string">'aAbBcCdDeEfFg'</span><span class="keyword">;<br />
</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">); </span><span class="comment">// return: {'aAbBc','CdDeE','fFg'}<br />
</span><span class="default">str_rsplit</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">); </span><span class="comment">// return: {'aAbBc','CdDeE','fFg'}<br />
</span><span class="default">str_rsplit</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,-</span><span class="default">5</span><span class="keyword">); </span><span class="comment">// return: {'aAb','BcCdD','eEfFg'}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97690""></a>
  <div class="note">
   <strong class="user">seebz.net</strong>
   <a href="#97690" class="date">03-May-2010 06:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here an equivalent function for unicode string :<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">uni_strsplit</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$split_length</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'`.`u'</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">array_chunk</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$split_length</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'implode'</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$arr</span><span class="keyword">;<br />
}</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93217""></a>
  <div class="note">
   <strong class="user">nemostein at hotmail dot com</strong>
   <a href="#93217" class="date">28-Aug-2009 11:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The manual don't says what is returned when you parse a different type of variable.<br />
<br />
This is the example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$str1 </span><span class="keyword">= </span><span class="string">"Long"</span><span class="keyword">; </span><span class="comment">// More than 1 char<br />
</span><span class="default">$str2 </span><span class="keyword">= </span><span class="string">"x"</span><span class="keyword">; </span><span class="comment">// Only 1 char<br />
</span><span class="default">$str3 </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">; </span><span class="comment">// Empty String<br />
</span><span class="default">$str4 </span><span class="keyword">= </span><span class="default">34</span><span class="keyword">; </span><span class="comment">// Integer<br />
</span><span class="default">$str5 </span><span class="keyword">= </span><span class="default">3.4</span><span class="keyword">; </span><span class="comment">// Float<br />
</span><span class="default">$str6 </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; </span><span class="comment">// Bool<br />
</span><span class="default">$str7 </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">; </span><span class="comment">// Null<br />
<br />
</span><span class="default">$spl1 </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str1</span><span class="keyword">);<br />
</span><span class="default">$spl2 </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str2</span><span class="keyword">);<br />
</span><span class="default">$spl3 </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str3</span><span class="keyword">);<br />
</span><span class="default">$spl4 </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str4</span><span class="keyword">);<br />
</span><span class="default">$spl5 </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str5</span><span class="keyword">);<br />
</span><span class="default">$spl6 </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str6</span><span class="keyword">);<br />
</span><span class="default">$spl7 </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str7</span><span class="keyword">);<br />
<br />
echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$spl1</span><span class="keyword">); </span><span class="comment">// 4<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$spl2</span><span class="keyword">); </span><span class="comment">// 1<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$spl3</span><span class="keyword">); </span><span class="comment">// 1<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$spl4</span><span class="keyword">); </span><span class="comment">// 2<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$spl5</span><span class="keyword">); </span><span class="comment">// 3<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$spl6</span><span class="keyword">); </span><span class="comment">// 1<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$spl7</span><span class="keyword">); </span><span class="comment">// 1<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$spl1</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$spl2</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$spl3</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$spl4</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$spl5</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$spl6</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$spl7</span><span class="keyword">);<br />
<br />
</span><span class="comment">/*<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; L<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; o<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; n<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; g<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; x<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt;<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 4<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; .<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 4<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 1<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt;<br />
)<br />
<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89691""></a>
  <div class="note">
   <strong class="user">mattias at lsahlin dot se</strong>
   <a href="#89691" class="date">19-Mar-2009 06:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those it may concern:<br />
<br />
We encountered trubble when trying to str_split a UTF-8 encoded string, containing such Swedish letters as ?, ? and ?.<br />
<br />
It seems that this function splits according to byte-length and not character length. So if the letter "?" takes 2 bytes, then str_split() will only return the first bite of the character "?".<br />
<br />
We ain't 100% sure that this is the case but this was anyhow the result we got. So we used the multi-byte functions instead.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87194""></a>
  <div class="note">
   <strong class="user">thax</strong>
   <a href="#87194" class="date">23-Nov-2008 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding ricordatis comment on preg_match_all('/./u',...) instead of preg_split('//u',...):<br />
You'll have to use the pattern '/./us' with preg_match_all to get exactly the same behaviour w.r.t. newlines. Don't know if this is still faster, though. Oh, and the expected result is in $array[0].</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84891""></a>
  <div class="note">
   <strong class="user">rrelmy</strong>
   <a href="#84891" class="date">04-Aug-2008 07:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
revised function from tatsudoshi<br />
<br />
Fixed some bugs, more php5 style compliant<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'str_split'</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$string_length</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)&gt;</span><span class="default">$string_length </span><span class="keyword">|| !</span><span class="default">$string_length</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; do {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parts</span><span class="keyword">[] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$string_length</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$string_length</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } while(</span><span class="default">$string </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parts </span><span class="keyword">= array(</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$parts</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84840""></a>
  <div class="note">
   <strong class="user">ricordati at web dot de</strong>
   <a href="#84840" class="date">01-Aug-2008 07:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To split unicode text, preg_match_all('/./u', $text, $array); seems faster for large strings than the use of preg_split('//u', $text); suggested by "edgaras dot janusauskas at gmail dot com" below.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83977""></a>
  <div class="note">
   <strong class="user">vec [ at t] g  dot  com</strong>
   <a href="#83977" class="date">21-Jun-2008 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
the fastast way (that fits my needs) to replace str_split() in php 4 i found is this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'str_split'</span><span class="keyword">)) {<br />
&nbsp; function </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$split_length </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\r\n"</span><span class="keyword">, </span><span class="default">chunk_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$split_length</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
i also tested the provided functions in the comments..<br />
<br />
(the differences are 0.001 to 0.00001 sec)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83331""></a>
  <div class="note">
   <strong class="user">saeedco</strong>
   <a href="#83331" class="date">21-May-2008 03:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function supportes utf8 
<br />

<br />
(improvement of function str_split_php4)
<br />

<br />
i tried this function successfully with these languages
<br />
1- Chinese 
<br />
2- Japanese
<br />
3- Arabic
<br />
4- Turkish
<br />
5- Urdu
<br />
6- Russian 
<br />
7- Persian
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">str_split_php4_utf8</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// place each character of the string into and array
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$split</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= array();
<br />
&nbsp;&nbsp;&nbsp; for ( </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">( </span><span class="default">$str </span><span class="keyword">); ){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value </span><span class="keyword">&gt; </span><span class="default">127</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value </span><span class="keyword">&gt;= </span><span class="default">192 </span><span class="keyword">&amp;&amp; </span><span class="default">$value </span><span class="keyword">&lt;= </span><span class="default">223</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$split</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">$value </span><span class="keyword">&gt;= </span><span class="default">224 </span><span class="keyword">&amp;&amp; </span><span class="default">$value </span><span class="keyword">&lt;= </span><span class="default">239</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$split</span><span class="keyword">=</span><span class="default">3</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">$value </span><span class="keyword">&gt;= </span><span class="default">240 </span><span class="keyword">&amp;&amp; </span><span class="default">$value </span><span class="keyword">&lt;= </span><span class="default">247</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$split</span><span class="keyword">=</span><span class="default">4</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$split</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ( </span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$split</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++, </span><span class="default">$i</span><span class="keyword">++ ) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">.= </span><span class="default">$str</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key </span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83034""></a>
  <div class="note">
   <strong class="user">lskatz at gmail dot com</strong>
   <a href="#83034" class="date">07-May-2008 11:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A good use of str_split is reverse translating an amino acid sequence.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">/* reverse translate an aa sequence using its dna counterpart */
<br />
</span><span class="keyword">function </span><span class="default">reverseTranslate</span><span class="keyword">(</span><span class="default">$aaSeq</span><span class="keyword">,</span><span class="default">$ntSeq</span><span class="keyword">){
<br />
&nbsp; </span><span class="default">$nt</span><span class="keyword">=</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$ntSeq</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);
<br />
&nbsp; </span><span class="default">$aa</span><span class="keyword">=</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$aaSeq</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br />
&nbsp; </span><span class="default">$gapChar</span><span class="keyword">=array(</span><span class="string">'*'</span><span class="keyword">,</span><span class="string">'-'</span><span class="keyword">);
<br />

<br />
&nbsp; </span><span class="default">$numAa</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$aa</span><span class="keyword">);
<br />
&nbsp; </span><span class="default">$ntIndex</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br />
&nbsp; </span><span class="default">$newNtSeq</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;
<br />
&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$numAa</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// if the aa is a gap, then just put on a gap character
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$aa</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">],</span><span class="default">$gapChar</span><span class="keyword">)){
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$newNtSeq</span><span class="keyword">.=</span><span class="string">'---'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; else{
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$newNtSeq</span><span class="keyword">.=</span><span class="default">$nt</span><span class="keyword">[</span><span class="default">$ntIndex</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ntIndex</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp; }
<br />
&nbsp; return </span><span class="default">$newNtSeq</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81836""></a>
  <div class="note">
   <strong class="user">kevin at metalaxe dot com</strong>
   <a href="#81836" class="date">14-Mar-2008 08:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Response to "Richard Ayotte 18-Jan-2008 09:27":<br />
<br />
Slight tweak to prevent the need to call another preg_replace, there were also some bugs in this that I'm surprised didn't get noticed (causing duplicate replaces between the preg_replace calls) :)<br />
<br />
Please feel free to optimize further. I'm not the best with lookahead/behinds yet. I also removed the :upper/lower: and it seemed to speed things up too.<br />
<br />
<span class="default">&lt;?php<br />
$test </span><span class="keyword">= </span><span class="string">'CustomerIDWithSomeOtherJETWords'</span><span class="keyword">;<br />
<br />
</span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/(?!^)[A-Z]{2,}(?=[A-Z][a-z])|[A-Z][a-z]/'</span><span class="keyword">, </span><span class="string">' $0'</span><span class="keyword">, </span><span class="default">$test</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Shaves off a little time anyway. :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80195""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#80195" class="date">03-Jan-2008 12:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Version of str_split by rlpvandenberg at hotmail dot com is god-damn inefficient and when $i+$j &gt; strlen($text) [last part of string] throws a lot of notice errors. This should work better:<br />
<br />
&nbsp;&nbsp;&nbsp; if(! function_exists('str_split'))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function str_split($text, $split = 1)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for ($i = 0; $i &lt; strlen($text);)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array[] = substr($text, $i, $split);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i += $split;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $array;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79921""></a>
  <div class="note">
   <strong class="user">rlpvandenberg at hotmail dot com</strong>
   <a href="#79921" class="date">19-Dec-2007 11:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The previous suggestion is almost correct (and will only working for strlen=1. The working PHP4 function is:<br />
<br />
&lt;code&gt;<br />
function str_split($text, $split = 1){<br />
&nbsp;&nbsp;&nbsp; //place each character of the string into and array<br />
&nbsp;&nbsp;&nbsp; $array = array();<br />
&nbsp;&nbsp;&nbsp; for ($i=0; $i &lt; strlen($text); $i++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $key = "";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($j = 0; $j &lt; $split; $j++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $key .= $text[$i+$j];&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $i = $i + $j - 1;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array_push($array, $key);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $array;<br />
}<br />
&lt;/code&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79477""></a>
  <div class="note">
   <strong class="user">mohd at ba7rain dot net</strong>
   <a href="#79477" class="date">29-Nov-2007 02:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this function can perform a reverse str_split. I write it for PHP4 but you can rename It for other versions..<br />
<br />
if ( !function_exists('str_split') ) {<br />
function str_split($string,$split_length=1){<br />
&nbsp;&nbsp;&nbsp; $sign = (($split_length&lt;0)?-1:1);<br />
&nbsp;&nbsp;&nbsp; $strlen = strlen($string);<br />
&nbsp;&nbsp;&nbsp; $split_length = abs($split_length);<br />
&nbsp;&nbsp;&nbsp; if ( ($split_length==0) || ($strlen==0) ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $result = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //$result[] = "";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; elseif ($split_length &gt;= $strlen){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $result[] = $string;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $length = $split_length;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($i=0; $i&lt;$strlen; $i++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i=(($sign&lt;0)?$i+$length:$i);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $result[] = substr($string,$sign*$i,$length);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i=(($sign&lt;0)?$i:$i+$length);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( ($i+$split_length) &gt; ($strlen) ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $length = $strlen-($i+1);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $length = $split_length;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $result;<br />
}<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79097""></a>
  <div class="note">
   <strong class="user">atolia at gmail----- dot com</strong>
   <a href="#79097" class="date">10-Nov-2007 01:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i use this in PHP4<br />
<br />
function str_split($str){<br />
&nbsp;&nbsp; return preg_split('//',$str);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78996""></a>
  <div class="note">
   <strong class="user">magisano at cs dot unibo dot it</strong>
   <a href="#78996" class="date">06-Nov-2007 08:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Even shorter version:<br />
<br />
//place each character (or group of) of the <br />
string into and array<br />
<br />
function str_split_php4($sText, $iSplit = 1)<br />
{<br />
&nbsp;&nbsp;&nbsp; $iSplit=(integer) $iSplit;&nbsp; &nbsp; &nbsp;&nbsp; // sanity check<br />
&nbsp;&nbsp;&nbsp; if ($iSplit &lt; 1) {&nbsp; return false; }<br />
&nbsp;&nbsp;&nbsp; $aResult = array();<br />
&nbsp;&nbsp;&nbsp; for($i=0, $limit=strlen($sText); $i &lt; $limit; $i+=$iSplit) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $aResult[]=substr($sText, $i, $iSplit);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $aResult;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78910""></a>
  <div class="note">
   <strong class="user">dacmeaux at gmail dot com</strong>
   <a href="#78910" class="date">01-Nov-2007 01:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was looking for a function that would split a string into an array like str_split() and found Razor's function above. Just though that I would simplify the code a little.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">str_split_php4</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$split </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//place each character of the string into and array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$split</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">.= </span><span class="default">$text</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Both mine and worksRazor's work well, I just prefer to use less code. I could have written one myself, but I was just being lazy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78040""></a>
  <div class="note">
   <strong class="user">Sam</strong>
   <a href="#78040" class="date">25-Sep-2007 01:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A good way to use this method to convert CamelCase text into nice text would be-<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; Returns a formatted string based on camel case.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; e.g. "CamelCase" -&gt; "Camel Case".<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">FormatCamelCase</span><span class="keyword">( </span><span class="default">$string </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">str_split</span><span class="keyword">( </span><span class="default">$string </span><span class="keyword">) as </span><span class="default">$char </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">strtoupper</span><span class="keyword">( </span><span class="default">$char </span><span class="keyword">) == </span><span class="default">$char </span><span class="keyword">and </span><span class="default">$output </span><span class="keyword">and </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">" "</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$char</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77031""></a>
  <div class="note">
   <strong class="user">kjensen at iaff106 dot com</strong>
   <a href="#77031" class="date">11-Aug-2007 12:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is what I use. I started with examples here but modified to my own version:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (</span><span class="default">phpversion </span><span class="keyword">() &lt; </span><span class="string">"5"</span><span class="keyword">){ </span><span class="comment">// define PHP5 functions if server uses PHP4<br />
<br />
</span><span class="keyword">function </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$split </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
{<br />
if (!</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
if (!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$split</span><span class="keyword">) &amp;&amp; </span><span class="default">$split </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br />
</span><span class="default">$array </span><span class="keyword">= array();<br />
</span><span class="default">$s </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
</span><span class="default">$e</span><span class="keyword">=</span><span class="default">$split</span><span class="keyword">;<br />
while (</span><span class="default">$s </span><span class="keyword">&lt;</span><span class="default">$len</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$e</span><span class="keyword">=(</span><span class="default">$e </span><span class="keyword">&lt;</span><span class="default">$len</span><span class="keyword">)?</span><span class="default">$e</span><span class="keyword">:</span><span class="default">$len</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">,</span><span class="default">$e</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">$s</span><span class="keyword">+</span><span class="default">$e</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75697""></a>
  <div class="note">
   <strong class="user">l0c4lh0st DOT nl AT gmail DOT com</strong>
   <a href="#75697" class="date">12-Jun-2007 05:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
how I can conwert<br />
$string<br />
&nbsp;'1, 2, 5, 6, 10, 13, 23'<br />
from ENUM at mySQL to<br />
<br />
$array<br />
[0] -&gt; false<br />
[1] -&gt; true<br />
[2] -&gt; true<br />
[3] -&gt; false<br />
[4] -&gt; false<br />
[5] -&gt; true<br />
[6] -&gt; true<br />
[7] -&gt; false<br />
[8] -&gt; false<br />
[9] -&gt; false<br />
[10] -&gt; true<br />
[11] -&gt; false<br />
[12] -&gt; false<br />
[13] -&gt; true<br />
[14] -&gt; false<br />
[15] -&gt; false<br />
...<br />
[23] -&gt; true<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">enum_to_array</span><span class="keyword">(</span><span class="default">$psEnum</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$aReturn </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$aTemp </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$psEnum</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$aTemp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$aTemp</span><span class="keyword">[</span><span class="default">count</span><span class="keyword">(</span><span class="default">$aTemp</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">]; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aReturn</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">, </span><span class="default">$aTemp</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75068""></a>
  <div class="note">
   <strong class="user">Razor</strong>
   <a href="#75068" class="date">10-May-2007 12:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
heres my version for php4 and below<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">str_split_php4</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$split </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$split</span><span class="keyword">) &amp;&amp; </span><span class="default">$split </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$len</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$split</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">.= </span><span class="default">$text</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">};<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[] = </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70797""></a>
  <div class="note">
   <strong class="user">webmaster at nsssa dot ca</strong>
   <a href="#70797" class="date">28-Oct-2006 07:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I noticed in the post below me that his function would return an array with an empty key at the end.<br />
<br />
So here is just a little fix for it.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//Create a string split function for pre PHP5 versions<br />
</span><span class="keyword">function </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$nr</span><span class="keyword">) {&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; </span><span class="comment">//Return an array with 1 less item then the one we have<br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">split</span><span class="keyword">(</span><span class="string">"-l-"</span><span class="keyword">, </span><span class="default">chunk_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$nr</span><span class="keyword">, </span><span class="string">'-l-'</span><span class="keyword">)), </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69258""></a>
  <div class="note">
   <strong class="user">fstorm2 at gmail dot com</strong>
   <a href="#69258" class="date">29-Aug-2006 02:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use PHP 4 and don't need the split_length parameter, here's the shortest replacement:<br />
<br />
<span class="default">&lt;?php<br />
<br />
preg_split</span><span class="keyword">(</span><span class="string">'#(?&lt;=.)(?=.)#s'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68265""></a>
  <div class="note">
   <strong class="user">malmsteenforce at tlen dot pl</strong>
   <a href="#68265" class="date">19-Jul-2006 10:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&lt;?<br />
//fast &amp; short version od str_split<br />
<br />
function string_split($str)<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $str_array=array(); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $len=strlen($str);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for($i=0;$i&lt;$len;$i++) $str_array[]=$str{$i};<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $str_array;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
//example :<br />
var_dump (string_split("split this"));<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63612""></a>
  <div class="note">
   <strong class="user">user at mockme dot com</strong>
   <a href="#63612" class="date">25-Mar-2006 05:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
found this great example on a php board for those not using php5, as an alternative to the posts below this<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'str_split'</span><span class="keyword">)){ <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$split_length</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">){ <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$split_length </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">){ <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } elseif(</span><span class="default">$split_length </span><span class="keyword">&gt; </span><span class="default">$count</span><span class="keyword">){ <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return array(</span><span class="default">$string</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$num </span><span class="keyword">= (int)</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$count</span><span class="keyword">/</span><span class="default">$split_length</span><span class="keyword">);&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= array();&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$num</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">*</span><span class="default">$split_length</span><span class="keyword">,</span><span class="default">$split_length</span><span class="keyword">);&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }&nbsp; <br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62854""></a>
  <div class="note">
   <strong class="user">heavyraptor</strong>
   <a href="#62854" class="date">10-Mar-2006 02:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think that the last post by carlosreche at yahoo dot com is too complicated.<br />
It's much easier if you do it like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"str_split"</span><span class="keyword">)) {<br />
&nbsp; function </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$length </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$length </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$strlen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$strlen</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$length</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope it helps for those with PHP &lt;5</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61928""></a>
  <div class="note">
   <strong class="user">carlosreche at yahoo dot com</strong>
   <a href="#61928" class="date">15-Feb-2006 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those who work with PHP &lt; 5:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"str_split"</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$length </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">.</span><span class="string">"(): The the length of each segment must be greater then zero:"</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$splitted&nbsp; </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$str_length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$length </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$str_length</span><span class="keyword">--) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$splitted</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$string</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">++];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$j </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$str_length </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$splitted</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">++] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$str_length </span><span class="keyword">-= </span><span class="default">$length</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$length</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$splitted</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61470""></a>
  <div class="note">
   <strong class="user">Hage Yaapa</strong>
   <a href="#61470" class="date">04-Feb-2006 06:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The very handy str_split() was introduced in PHP 5, but a lot of us are still forced to use PHP 4 at our host servers. And I am sure a lot of beginners have looked or are looking for a function to accomplish what str_split() does.<br />
<br />
Taking advantge of the fact that strings are 'arrays' I wrote this tiny but useful e-mail cloaker in PHP, which guarantees functionality even if JavaScript is disabled in the client's browser. Watch how I make up for the lack of str_split() in PHP 4.3.10.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// cloackEmail() accepts a string, the email address to be cloaked <br />
</span><span class="keyword">function </span><span class="default">cloakEmail</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">) {<br />
<br />
</span><span class="comment">// We create a new array called $arChars, which will contain the individula characters making up the email address. The array is blank for now.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arChars </span><span class="keyword">= array();<br />
<br />
</span><span class="comment">// We extract each character from the email 'exploiting' the fact that strings behave like an array: watch the '$email[$i]' bit, and beging to fill up the blank array $arChars<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) { </span><span class="default">$arChars</span><span class="keyword">[] = </span><span class="default">$email</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]; }<br />
<br />
</span><span class="comment">// Now we work on the $arChars array: extract each character in the array and print out it's ASCII value prefixed with '&amp;#' to convert it into an HTML entity<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$arChars </span><span class="keyword">as </span><span class="default">$char</span><span class="keyword">) { print </span><span class="string">'&amp;#'</span><span class="keyword">.</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$char</span><span class="keyword">); }<br />
<br />
</span><span class="comment">// The result is an email address in HTML entities which, I hope most email address harvesters can't read.<br />
<br />
</span><span class="keyword">}<br />
print </span><span class="default">cloakEmail</span><span class="keyword">(</span><span class="string">'someone@nokikon.com'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
###### THE CODE ABOVE WITHOUT COMMENTS ######<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">cloakEmail</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arChars </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) { </span><span class="default">$arChars</span><span class="keyword">[] = </span><span class="default">$email</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]; }<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arChars </span><span class="keyword">as </span><span class="default">$char</span><span class="keyword">) { print </span><span class="string">'&amp;#'</span><span class="keyword">.</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$char</span><span class="keyword">); }<br />
}<br />
print </span><span class="default">cloakEmail</span><span class="keyword">(</span><span class="string">'someone@nokikon.com'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span> <br />
In creating this little utility, I demonstrated how the lack of str_split() can be made up in PHP &lt; 5. If you got how it was accomplished, you could write a function to do exactly what str_split() does in PHP 5 and even name it 'str_split()'. :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
