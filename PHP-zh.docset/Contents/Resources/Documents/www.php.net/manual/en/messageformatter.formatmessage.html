<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Quick format message</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="messageformatter.create.html">? MessageFormatter::create</a></li>
      <li style="float: right;"><a href="messageformatter.format.html">MessageFormatter::format ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.messageformatter.html">MessageFormatter</a></li>
    <li>Quick format message</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="messageformatter.formatmessage" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">MessageFormatter::formatMessage</h1>
  <h1 class="refname">msgfmt_format_message</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8, PECL intl &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">MessageFormatter::formatMessage</span> -- <span class="refname">msgfmt_format_message</span> &mdash; <span class="dc-title">Quick format message</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-messageformatter.formatmessage-description">
  <h3 class="title">说明</h3>
  <p class="para">
   面向对象风格
  </p>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname"><strong>MessageFormatter::formatMessage</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$locale</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$values</code></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   过程化风格
  </p>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>msgfmt_format_message</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$locale</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$values</code></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Quick formatting function that formats the string without having to
   explicitly create the formatter object. Use this function when the format
   operation is done only once and does not need and parameters or state to be
   kept.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-messageformatter.formatmessage-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">locale</code></dt>

     <dd>

      <p class="para">
       The locale to use for formatting locale-dependent parts
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">pattern</code></dt>

     <dd>

      <p class="para">
       The pattern <span class="type">string</span> to insert things into.
       The pattern uses an &#039;apostrophe-friendly&#039; syntax; it is run through
       <a href="http://www.icu-project.org/apiref/icu4c/umsg_8h.html#9da796210146ff51d395affe4928f0b7" class="link external" title="Link : http://www.icu-project.org/apiref/icu4c/umsg_8h.html#9da796210146ff51d395affe4928f0b7">&raquo;&nbsp;umsg_autoQuoteApostrophe</a> 
       before being interpreted.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">values</code></dt>

     <dd>

      <p class="para">
       The <span class="type">array</span> of values to insert into the format <span class="type">string</span>
      </p>
     </dd>

    
   </dl>

  </p>
 </div>



 <div class="refsect1 returnvalues" id="refsect1-messageformatter.formatmessage-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   The formatted pattern string or <strong><code>false</code></strong> if an error occurred
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-messageformatter.formatmessage-examples">
  <h3 class="title">范例</h3>
  <div class="example" id="example-2306">
   <p><strong>Example #1 <span class="function"><strong>msgfmt_format_message()</strong></span> example</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">msgfmt_format_message</span><span style="color: #007700">(</span><span style="color: #DD0000">"en_US"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"{0,number,integer}&nbsp;monkeys&nbsp;on&nbsp;{1,number,integer}&nbsp;trees&nbsp;make&nbsp;{2,number}&nbsp;monkeys&nbsp;per&nbsp;tree\n"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">4560</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4560</span><span style="color: #007700">/</span><span style="color: #0000BB">123</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #0000BB">msgfmt_format_message</span><span style="color: #007700">(</span><span style="color: #DD0000">"de"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"{0,number,integer}&nbsp;Affen&nbsp;auf&nbsp;{1,number,integer}&nbsp;B?umen&nbsp;sind&nbsp;{2,number}&nbsp;Affen&nbsp;pro&nbsp;Baum\n"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">4560</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4560</span><span style="color: #007700">/</span><span style="color: #0000BB">123</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-2307">
   <p><strong>Example #2 OO example</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">MessageFormatter</span><span style="color: #007700">::</span><span style="color: #0000BB">formatMessage</span><span style="color: #007700">(</span><span style="color: #DD0000">"en_US"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"{0,number,integer}&nbsp;monkeys&nbsp;on&nbsp;{1,number,integer}&nbsp;trees&nbsp;make&nbsp;{2,number}&nbsp;monkeys&nbsp;per&nbsp;tree\n"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">4560</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4560</span><span style="color: #007700">/</span><span style="color: #0000BB">123</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #0000BB">MessageFormatter</span><span style="color: #007700">::</span><span style="color: #0000BB">formatMessage</span><span style="color: #007700">(</span><span style="color: #DD0000">"de"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"{0,number,integer}&nbsp;Affen&nbsp;auf&nbsp;{1,number,integer}&nbsp;B?umen&nbsp;sind&nbsp;{2,number}&nbsp;Affen&nbsp;pro&nbsp;Baum\n"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">4560</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4560</span><span style="color: #007700">/</span><span style="color: #0000BB">123</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">以上例程会输出：</p>
  <div class="example-contents screen">
<div class="cdata"><pre>
4,560 monkeys on 123 trees make 37.073 monkeys per tree
4.560 Affen auf 123 B?umen sind 37,073 Affen pro Baum
</pre></div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-messageformatter.formatmessage-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="messageformatter.create.html" class="function" rel="rdfs-seeAlso">msgfmt_create()</a> - Constructs a new Message Formatter</span></li>
    <li class="member"><span class="function"><a href="messageformatter.parse.html" class="function" rel="rdfs-seeAlso">msgfmt_parse()</a> - Parse input string according to pattern</span></li>
    <li class="member"><span class="function"><a href="messageformatter.geterrorcode.html" class="function" rel="rdfs-seeAlso">msgfmt_get_error_code()</a> - Get the error code from last operation</span></li>
    <li class="member"><span class="function"><a href="messageformatter.geterrormessage.html" class="function" rel="rdfs-seeAlso">msgfmt_get_error_message()</a> - Get the error text from the last operation</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="126223""></a>
  <div class="note">
   <strong class="user">ricardoyubal at gmail dot com</strong>
   <a href="#126223" class="date">06-Jul-2021 09:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Although not mentioned, single quotes (') are used internally as escaping characters. So if you want to have them in your output, you should escape them with another single quote. See examples below.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// The value {foo} should be enclosed in single quotes<br />
</span><span class="keyword">echo </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'en_US'</span><span class="keyword">, </span><span class="string">"The value '{foo}' should be enclosed in single quotes"</span><span class="keyword">, [</span><span class="string">'foo' </span><span class="keyword">=&gt; </span><span class="string">'bar'</span><span class="keyword">]);<br />
<br />
</span><span class="comment">// The value 'bar' should be enclosed in single quotes<br />
</span><span class="keyword">echo </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'en_US'</span><span class="keyword">, </span><span class="string">"The value ''{foo}'' should be enclosed in single quotes"</span><span class="keyword">, [</span><span class="string">'foo' </span><span class="keyword">=&gt; </span><span class="string">'bar'</span><span class="keyword">]);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="126180""></a>
  <div class="note">
   <strong class="user">contact at sowapps dot com</strong>
   <a href="#126180" class="date">21-Jun-2021 09:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For now, there is now way to define a default value.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'fr_FR'</span><span class="keyword">, </span><span class="string">'{distance, plural, =0{Here}other{# km}}'</span><span class="keyword">, []);<br />
</span><span class="comment">// Show {distance}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112661""></a>
  <div class="note">
   <strong class="user">zlobnygrif at gmail dot com</strong>
   <a href="#112661" class="date">10-Jul-2013 05:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'ru_RU'</span><span class="keyword">, </span><span class="string">'The value of {somekey} is {0, choice, 0 #less 12| 12 #between 12 and 32| 32 #more than 32}'</span><span class="keyword">, [</span><span class="string">'SomeAnotherKey' </span><span class="keyword">=&gt; -</span><span class="default">1</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'ru_RU'</span><span class="keyword">, </span><span class="string">'The value of {somekey} is {0, choice, 0 #less 12| 12 #between 12 and 32| 32 #more than 32}'</span><span class="keyword">, [</span><span class="default">14</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'ru_RU'</span><span class="keyword">, </span><span class="string">'The value of {somekey} is {0, choice, 0 #less 12| 12 #between 12 and 32| 32 #more than 32}'</span><span class="keyword">, [</span><span class="default">133</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'ru_RU'</span><span class="keyword">, </span><span class="string">'{0, plural, =0{Zero}=1{One}other{Unknown #}}'</span><span class="keyword">, [</span><span class="default">0</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'ru_RU'</span><span class="keyword">, </span><span class="string">'{0, plural, =0{Zero}=1{One}other{Unknown #}}'</span><span class="keyword">, [</span><span class="default">1</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'ru_RU'</span><span class="keyword">, </span><span class="string">'{0, plural, =0{Zero}=1{One}other{Unknown #}}'</span><span class="keyword">, [</span><span class="default">2</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'ru_RU'</span><span class="keyword">, </span><span class="string">'{0, select, somevalue{This is some value} other{Unknown value}}'</span><span class="keyword">, [</span><span class="string">'somevalue'</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'ru_RU'</span><span class="keyword">, </span><span class="string">'{0, select, somevalue{This is some value} other{Unknown value "{0}"}}'</span><span class="keyword">, [</span><span class="string">'somevalue2'</span><span class="keyword">])<br />
);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'en_GB'</span><span class="keyword">, </span><span class="string">'Peter has {0, plural, =0{no cat} =1{a cat} other{# cats}}'</span><span class="keyword">, [</span><span class="default">0</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'en_GB'</span><span class="keyword">, </span><span class="string">'Peter has {0, plural, =0{no cat} =1{a cat} other{# cats}}'</span><span class="keyword">, [</span><span class="default">1</span><span class="keyword">]),<br />
&nbsp; </span><span class="default">msgfmt_format_message</span><span class="keyword">(</span><span class="string">'en_GB'</span><span class="keyword">, </span><span class="string">'Peter has {0, plural, =0{no cat} =1{a cat} other{# cats}}'</span><span class="keyword">, [</span><span class="default">2</span><span class="keyword">])<br />
);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output (PHP 5.4.17RC1)<br />
==========================<br />
string 'The value of -1 is less 12' (length=26)<br />
string 'The value of 14 is between 12 and 32' (length=36)<br />
string 'The value of 133 is more than 32' (length=32)<br />
string 'Zero' (length=4)<br />
string 'One' (length=3)<br />
string 'Unknown 2' (length=9)<br />
string 'This is some value' (length=18)<br />
string 'Unknown value "somevalue2"' (length=26)<br />
string 'Peter has no cat' (length=16)<br />
string 'Peter has a cat' (length=15)<br />
string 'Peter has 2 cats' (length=16)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
