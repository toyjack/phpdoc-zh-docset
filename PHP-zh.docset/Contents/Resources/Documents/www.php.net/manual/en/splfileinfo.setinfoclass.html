<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Sets the class used with SplFileInfo::getFileInfo and SplFileInfo::getPathInfo</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="splfileinfo.setfileclass.html">? SplFileInfo::setFileClass</a></li>
      <li style="float: right;"><a href="splfileinfo.tostring.html">SplFileInfo::__toString ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.splfileinfo.html">SplFileInfo</a></li>
    <li>Sets the class used with SplFileInfo::getFileInfo and SplFileInfo::getPathInfo</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="splfileinfo.setinfoclass" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">SplFileInfo::setInfoClass</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.1.2, PHP 7)</p><p class="refpurpose"><span class="refname">SplFileInfo::setInfoClass</span> &mdash; <span class="dc-title">Sets the class used with <span class="methodname"><a href="splfileinfo.getfileinfo.html" class="methodname">SplFileInfo::getFileInfo()</a></span> and <span class="methodname"><a href="splfileinfo.getpathinfo.html" class="methodname">SplFileInfo::getPathInfo()</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-splfileinfo.setinfoclass-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SplFileInfo::setInfoClass</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$class_name</code><span class="initializer"> = &quot;SplFileInfo&quot;</span></span>
   ) : <span class="type"><span class="type void">void</span></span></div>

  <p class="para rdfs-comment">
   Use this method to set a custom class which will be used when
   <span class="methodname"><a href="splfileinfo.getfileinfo.html" class="methodname">SplFileInfo::getFileInfo()</a></span> and
   <span class="methodname"><a href="splfileinfo.getpathinfo.html" class="methodname">SplFileInfo::getPathInfo()</a></span> are called. The class name
   passed to this method must be <a href="class.splfileinfo.html" class="classname">SplFileInfo</a> or a class
   derived from <a href="class.splfileinfo.html" class="classname">SplFileInfo</a>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-splfileinfo.setinfoclass-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">class_name</code></dt>

     <dd>

      <p class="para">
       The class name to use when
       <span class="methodname"><a href="splfileinfo.getfileinfo.html" class="methodname">SplFileInfo::getFileInfo()</a></span> and
       <span class="methodname"><a href="splfileinfo.getpathinfo.html" class="methodname">SplFileInfo::getPathInfo()</a></span> are called.
      </p>
     </dd>

    
   </dl>

  </p>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-splfileinfo.setinfoclass-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   没有返回值。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-splfileinfo.setinfoclass-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-4061">
    <p><strong>Example #1 <span class="function"><a href="splfileinfo.setfileclass.html" class="function">SplFileInfo::setFileClass()</a></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Define&nbsp;a&nbsp;class&nbsp;which&nbsp;extends&nbsp;SplFileInfo<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyFoo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">SplFileInfo&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SplFileInfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;Set&nbsp;the&nbsp;class&nbsp;name&nbsp;to&nbsp;use<br /></span><span style="color: #0000BB">$info</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setInfoClass</span><span style="color: #007700">(</span><span style="color: #DD0000">'MyFoo'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$info</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileInfo</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程的输出类似于：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
object(MyFoo)#2 (0) { } 
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-splfileinfo.setinfoclass-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="methodname"><a href="splfileinfo.getfileinfo.html" class="methodname" rel="rdfs-seeAlso">SplFileInfo::getFileInfo()</a> - Gets an SplFileInfo object for the file</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124370""></a>
  <div class="note">
   <strong class="user">Eugene Kunkel</strong>
   <a href="#124370" class="date">05-Nov-2019 03:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful when using this method, as the functionality isn't exactly the same as instantiating the extending class directly. This can really trip you up if you're using type hints or instanceof checks.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">CustomFileInfo </span><span class="keyword">extends </span><span class="default">SplFileInfo<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getExtension</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ext </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">parent</span><span class="keyword">::</span><span class="default">getExtension</span><span class="keyword">());<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'jpeg' </span><span class="keyword">=== </span><span class="default">$ext </span><span class="keyword">? </span><span class="string">'jpg' </span><span class="keyword">: </span><span class="default">$ext</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="default">__DIR__ </span><span class="keyword">. </span><span class="string">'/foobar.jpeg'</span><span class="keyword">;<br />
<br />
</span><span class="default">$good </span><span class="keyword">= new </span><span class="default">CustomFileInfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$good </span><span class="keyword">instanceof </span><span class="default">SplFileInfo</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$good </span><span class="keyword">instanceof </span><span class="default">CustomFileInfo</span><span class="keyword">);<br />
<br />
</span><span class="default">$bad </span><span class="keyword">= new </span><span class="default">SplFileInfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
</span><span class="default">$bad</span><span class="keyword">-&gt;</span><span class="default">setInfoClass</span><span class="keyword">(</span><span class="string">'CustomFileInfo'</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bad </span><span class="keyword">instanceof </span><span class="default">SplFileInfo</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bad </span><span class="keyword">instanceof </span><span class="default">CustomFileInfo</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
<br />
bool(true)<br />
bool(true)<br />
bool(true)<br />
bool(false)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
