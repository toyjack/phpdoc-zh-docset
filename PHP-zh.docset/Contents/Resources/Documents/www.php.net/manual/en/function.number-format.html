<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>以千位分隔符方式格式化一个数字</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.nl2br.html">? nl2br</a></li>
      <li style="float: right;"><a href="function.ord.html">ord ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.strings.html">字符串 函数</a></li>
    <li>以千位分隔符方式格式化一个数字</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.number-format" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">number_format</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">number_format</span> &mdash; <span class="dc-title">以千位分隔符方式格式化一个数字</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.number-format-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>number_format</strong></span>
    ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$number</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$decimals</code><span class="initializer"> = 0</span></span>
   ) : <span class="type">string</span></div>

  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>number_format</strong></span>
    ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$number</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$decimals</code><span class="initializer"> = 0</span></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$dec_point</code><span class="initializer"> = &quot;.&quot;</span></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$thousands_sep</code><span class="initializer"> = &quot;,&quot;</span></span>
   ) : <span class="type">string</span></div>

  <p class="para rdfs-comment">
   本函数可以接受1个、2个或者4个参数（注意：不能是3个）:
  </p>
  <p class="para">
   如果只提供第一个参数，<code class="parameter">number</code>的小数部分会被去掉
   并且每个千位分隔符都是英文小写逗号&quot;,&quot;
  </p>
  <p class="para">
   如果提供两个参数，<code class="parameter">number</code>将保留小数点后的位数到你设定的值，其余同楼上
  </p>
  <p class="para">
   如果提供了四个参数，<code class="parameter">number</code>
   将保留<code class="parameter">decimals</code>个长度的小数部分,
   小数点被替换为<code class="parameter">dec_point</code>，千位分隔符替换为<code class="parameter">thousands_sep</code>
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.number-format-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">number</code></dt>

     <dd>

      <p class="para">
       你要格式化的数字
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">decimals</code></dt>

     <dd>

      <p class="para">
       要保留的小数位数
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">dec_point</code></dt>

     <dd>

      <p class="para">
       指定小数点显示的字符
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">thousands_sep</code></dt>

     <dd>

      <p class="para">
       指定千位分隔符显示的字符
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.number-format-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   格式化以后的 <code class="parameter">number</code>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.number-format-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.4.0</td>
       <td>
        This function now supports multiple bytes in
        <code class="parameter">dec_point</code> and
        <code class="parameter">thousands_sep</code>. Only the first byte of each
        separator was used in older versions.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.number-format-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5153">
    <p><strong>Example #1 <span class="function"><strong>number_format()</strong></span> Example</strong></p>
    <div class="example-contents"><p>
     For instance, French notation usually use two decimals,
     comma (&#039;,&#039;) as decimal separator, and space (&#039; &#039;) as
     thousand separator.  The following example demonstrates various way to format a number:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1234.56</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;english&nbsp;notation&nbsp;(default)<br /></span><span style="color: #0000BB">$english_format_number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$number</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;1,235<br /><br />//&nbsp;French&nbsp;notation<br /></span><span style="color: #0000BB">$nombre_format_francais&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$number</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">','</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;1&nbsp;234,56<br /><br /></span><span style="color: #0000BB">$number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1234.5678</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;english&nbsp;notation&nbsp;without&nbsp;thousands&nbsp;separator<br /></span><span style="color: #0000BB">$english_format_number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$number</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'.'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;1234.57<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-function.number-format-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.2.0</td>
       <td>
        <span class="function"><strong>number_format()</strong></span> 现在无法返回 <code class="literal">-0</code>，之前可能返回 <code class="literal">-0</code>，因为 <code class="parameter">number</code> 可能会是 <code class="literal">-0.01</code>。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.number-format-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.money-format.html" class="function" rel="rdfs-seeAlso">money_format()</a> - 将数字格式化成货币字符串</span></li>
    <li class="member"><span class="function"><a href="function.sprintf.html" class="function" rel="rdfs-seeAlso">sprintf()</a> - Return a formatted string</span></li>
    <li class="member"><span class="function"><a href="function.printf.html" class="function" rel="rdfs-seeAlso">printf()</a> - 输出格式化字符串</span></li>
    <li class="member"><span class="function"><a href="function.sscanf.html" class="function" rel="rdfs-seeAlso">sscanf()</a> - 根据指定格式解析输入的字符</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124968""></a>
  <div class="note">
   <strong class="user">markagius at markagius co uk</strong>
   <a href="#124968" class="date">30-Apr-2020 02:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want a number of digits after the point, but not unnecessary zeros.<br />
Eg.<br />
number_format(1.20000,4) = 1.2000<br />
num_format(1.20000,4,0) = 1.2<br />
<br />
number_format(1.20000,4) = 1.2000<br />
num_format(1.20000,4,2) = 1.20<br />
<br />
number_format(1.23456,4) = 1.2345<br />
num_format(1.23456,4,2) = 1.2345<br />
<br />
function num_format($numVal,$afterPoint=2,$minAfterPoint=0,$thousandSep=",",$decPoint="."){<br />
&nbsp; // Same as number_format() but without unnecessary zeros.<br />
&nbsp; $ret = number_format($numVal,$afterPoint,$decPoint,$thousandSep);<br />
&nbsp; if($afterPoint!=$minAfterPoint){<br />
&nbsp;&nbsp;&nbsp; while(($afterPoint&gt;$minAfterPoint) &amp;&amp; (substr($ret,-1) =="0") ){<br />
&nbsp;&nbsp; &nbsp;&nbsp; // $minAfterPoint!=$minAfterPoint and number ends with a '0'<br />
&nbsp;&nbsp; &nbsp;&nbsp; // Remove '0' from end of string and set $afterPoint=$afterPoint-1<br />
&nbsp;&nbsp; &nbsp;&nbsp; $ret = substr($ret,0,-1);<br />
&nbsp;&nbsp; &nbsp;&nbsp; $afterPoint = $afterPoint-1;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; if(substr($ret,-1)==$decPoint) {$ret = substr($ret,0,-1);}<br />
&nbsp; return $ret;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124908""></a>
  <div class="note">
   <strong class="user">festuc at festuc dot info</strong>
   <a href="#124908" class="date">13-Apr-2020 08:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">//&nbsp; &nbsp; &nbsp; &nbsp; by www.festuc.info<br />
//&nbsp; &nbsp; &nbsp; &nbsp; If you need trim unnecessary&nbsp; right zeros&nbsp; part of a string to decimal number,<br />
//&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for a human readable you can trim it with this little hack.<br />
</span><span class="keyword">function </span><span class="default">number_format_rtrim</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$maxdecimal</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">,</span><span class="default">$decimalsing</span><span class="keyword">=</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">$thousandsing</span><span class="keyword">=</span><span class="string">','</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">=</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$maxdecimal</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);</span><span class="comment">//to change input type to string<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">))while (</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">)==</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$maxdecimal</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else </span><span class="default">$maxdecimal</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$maxdecimal</span><span class="keyword">,</span><span class="default">$decimalsing</span><span class="keyword">,</span><span class="default">$thousandsing</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$decimalsing</span><span class="keyword">=</span><span class="string">','</span><span class="keyword">; </span><span class="comment">//french mode<br />
</span><span class="default">$thousandsing</span><span class="keyword">=</span><span class="string">' '</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">= array (</span><span class="default">10000</span><span class="keyword">/</span><span class="default">3</span><span class="keyword">,</span><span class="default">10.15000</span><span class="keyword">,</span><span class="string">'58.0000'</span><span class="keyword">,</span><span class="default">1.01000</span><span class="keyword">,</span><span class="string">'pastafarism'</span><span class="keyword">,</span><span class="string">'1001.00100'</span><span class="keyword">,</span><span class="default">30.05</span><span class="keyword">,</span><span class="default">25</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">,</span><span class="string">'0.2500'</span><span class="keyword">,</span><span class="string">'potato'</span><span class="keyword">);<br />
foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$w</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$o</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$o</span><span class="keyword">=</span><span class="default">number_format_rtrim</span><span class="keyword">(</span><span class="default">$w</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">$decimalsing</span><span class="keyword">,</span><span class="default">$thousandsing</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(isset(</span><span class="default">$o</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$w</span><span class="string">: </span><span class="default">$o</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$w</span><span class="string"> is not a number"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>This is the output<br />
3333.3333333333: 3 333,33333<br />
10.15: 10,15<br />
58.0000: 58<br />
1.01: 1,01<br />
pastafarism is not a number<br />
1001.00100: 1 001,001<br />
30.05: 30,05<br />
12.5: 12,5<br />
0.2500: 0,25<br />
potato is not a number</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124620""></a>
  <div class="note">
   <strong class="user">divinity76 at gmail dot com</strong>
   <a href="#124620" class="date">16-Jan-2020 10:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you want to benchmark all costs for 5 seconds: <br />
<br />
<span class="default">&lt;?php<br />
set_time_limit</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">);<br />
for(</span><span class="default">$cost</span><span class="keyword">=</span><span class="default">4</span><span class="keyword">;;++</span><span class="default">$cost</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$start</span><span class="keyword">=</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">password_hash</span><span class="keyword">(</span><span class="string">"test"</span><span class="keyword">, </span><span class="default">PASSWORD_BCRYPT</span><span class="keyword">, [</span><span class="string">"cost" </span><span class="keyword">=&gt; </span><span class="default">$cost</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$end</span><span class="keyword">=</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"cost </span><span class="keyword">{</span><span class="default">$cost</span><span class="keyword">}</span><span class="string">: "</span><span class="keyword">.(int)((</span><span class="default">$end</span><span class="keyword">-</span><span class="default">$start</span><span class="keyword">)*</span><span class="default">1000</span><span class="keyword">).</span><span class="string">"ms - "</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$end</span><span class="keyword">-</span><span class="default">$start</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">).</span><span class="string">"s\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
on my laptop rolling "Intel Core i7-8565U CPU @ 1.80GHz"&nbsp; it prints:<br />
<br />
$ php foo.php<br />
cost 4: 1ms - 0.0010s<br />
cost 5: 2ms - 0.0022s<br />
cost 6: 3ms - 0.0038s<br />
cost 7: 6ms - 0.0069s<br />
cost 8: 14ms - 0.0147s<br />
cost 9: 25ms - 0.0254s<br />
cost 10: 55ms - 0.0554s<br />
cost 11: 103ms - 0.1040s<br />
cost 12: 184ms - 0.1848s<br />
cost 13: 367ms - 0.3676s<br />
cost 14: 737ms - 0.7379s<br />
cost 15: 1881ms - 1.8810s<br />
<br />
(with ms meaning milliseconds and s meaning seconds)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123879""></a>
  <div class="note">
   <strong class="user">mail at igor dot vodka</strong>
   <a href="#123879" class="date">23-May-2019 11:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please be careful with stm555 at hotmail dot com's solution.<br />
If you pass some little negative number (-1 &lt; $number &lt; 0) such as -0.01, the integer part would be converted to 0, so that the sign is eventually lost.<br />
Here is a fixed version:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">number_format_unlimited_precision</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$decimal </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$broken_number </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sign </span><span class="keyword">= </span><span class="default">$number </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">? </span><span class="string">'-' </span><span class="keyword">: </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$sign</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$broken_number</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]).</span><span class="default">$decimal</span><span class="keyword">.</span><span class="default">$broken_number</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121952""></a>
  <div class="note">
   <strong class="user">Lio</strong>
   <a href="#121952" class="date">30-Nov-2017 01:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be carreful, when you're using French notation<br />
means : number_format(124.25, 2 , ',' , ' ') with ',' as dec_point,<br />
<br />
Don't forget to specify thousands_sep that default is ',' to another value, otherwise function will return null.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118781""></a>
  <div class="note">
   <strong class="user">vlad at blox dot ru</strong>
   <a href="#118781" class="date">05-Feb-2016 11:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is used for reformatting already formatted numbers.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">formatNumber</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$format</span><span class="keyword">=[], </span><span class="default">$oldDecimalSeparator</span><span class="keyword">=</span><span class="string">",.・'"</span><span class="keyword">, </span><span class="default">$multiplier</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">) <br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp;&nbsp; $format &mdash; the array of formatting options, details in the example.<br />
&nbsp;&nbsp;&nbsp; $oldDecimalSeparator &mdash; decimal separator used in the $number. If the separator can meet different characters, then you need to record them all, for example: ',.'.<br />
&nbsp;&nbsp;&nbsp; $multiplier &mdash; typically used to adjust prices up or down.<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$format</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$format </span><span class="keyword">+= [</span><span class="string">'numOfDecimals' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'decimalSeparator' </span><span class="keyword">=&gt; </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">'thousandSeparator' </span><span class="keyword">=&gt; </span><span class="string">''</span><span class="keyword">]; </span><span class="comment"># Default format <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; # Find decimal separator<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; # The decimal separator is the one that is the last and does not occur more than once<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$letters </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">)) { </span><span class="comment"># Replace spaces<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$letters </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/^-/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$letters</span><span class="keyword">)) { </span><span class="comment"># Remove minus<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$letters </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/[0-9]/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$letters</span><span class="keyword">)) { </span><span class="comment"># Get all non digits<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$lastletter </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$letters</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">); </span><span class="comment"># Returns last char<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$letters</span><span class="keyword">, </span><span class="default">$lastletter</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$oldDecimalSeparator</span><span class="keyword">, </span><span class="default">$lastletter</span><span class="keyword">)&nbsp; !== </span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$oldDecimalSep </span><span class="keyword">= </span><span class="default">$lastletter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$number</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/[^0-9-]/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">); </span><span class="comment"># Remove all non digits except 'minus'<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$oldDecimalSep</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$oldDecimalSep</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">); </span><span class="comment"># Format to float<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$multiplier </span><span class="keyword">!= </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">$number </span><span class="keyword">* </span><span class="default">$multiplier</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># Convert float to new format<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$format</span><span class="keyword">[</span><span class="string">'numOfDecimals'</span><span class="keyword">], <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$format</span><span class="keyword">[</span><span class="string">'decimalSeparator'</span><span class="keyword">], <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$format</span><span class="keyword">[</span><span class="string">'thousandSeparator'</span><span class="keyword">]<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; );&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$number</span><span class="keyword">;&nbsp; &nbsp; <br />
}<br />
<br />
</span><span class="comment">/**<br />
Example. Formatting data in which the decimal separator can occur as the comma and dot. Formatting into Russian format: -12 345,67<br />
*/<br />
</span><span class="keyword">echo </span><span class="default">formatNumber</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, [<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'numOfDecimals' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, <br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'decimalSeparator' </span><span class="keyword">=&gt; </span><span class="string">','</span><span class="keyword">, <br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'thousandSeparator' </span><span class="keyword">=&gt; </span><span class="string">'&amp;nbsp;'<br />
</span><span class="keyword">], </span><span class="string">',.'</span><span class="keyword">); <br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118220""></a>
  <div class="note">
   <strong class="user">besciualexandru at gmail dot com</strong>
   <a href="#118220" class="date">29-Oct-2015 08:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
// Here is a function that produces the same output as number_format() but also works with numbers bigger than 2^53.<br />
<br />
function a_number_format($number_in_iso_format, $no_of_decimals=3, $decimals_separator='.', $thousands_separator='', $digits_grouping=3){<br />
&nbsp;&nbsp;&nbsp; // Check input variables<br />
&nbsp;&nbsp;&nbsp; if (!is_numeric($number_in_iso_format)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; error_log("Warning! Wrong parameter type supplied in my_number_format() function. Parameter \$number_in_iso_format is not a number.");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (!is_numeric($no_of_decimals)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; error_log("Warning! Wrong parameter type supplied in my_number_format() function. Parameter \$no_of_decimals is not a number.");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (!is_numeric($digits_grouping)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; error_log("Warning! Wrong parameter type supplied in my_number_format() function. Parameter \$digits_grouping is not a number.");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; // Prepare variables<br />
&nbsp;&nbsp;&nbsp; $no_of_decimals = $no_of_decimals * 1;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; // Explode the string received after DOT sign (this is the ISO separator of decimals)<br />
&nbsp;&nbsp;&nbsp; $aux = explode(".", $number_in_iso_format);<br />
&nbsp;&nbsp;&nbsp; // Extract decimal and integer parts<br />
&nbsp;&nbsp;&nbsp; $integer_part = $aux[0];<br />
&nbsp;&nbsp;&nbsp; $decimal_part = isset($aux[1]) ? $aux[1] : '';<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; // Adjust decimal part (increase it, or minimize it)<br />
&nbsp;&nbsp;&nbsp; if ($no_of_decimals &gt; 0){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Check actual size of decimal_part<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // If its length is smaller than number of decimals, add trailing zeros, otherwise round it<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (strlen($decimal_part) &lt; $no_of_decimals){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $decimal_part = str_pad($decimal_part, $no_of_decimals, "0");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $decimal_part = substr($decimal_part, 0, $no_of_decimals);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Completely eliminate the decimals, if there $no_of_decimals is a negative number<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $decimals_separator = '';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $decimal_part&nbsp; &nbsp; &nbsp;&nbsp; = '';<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; // Format the integer part (digits grouping)<br />
&nbsp;&nbsp;&nbsp; if ($digits_grouping &gt; 0){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $aux = strrev($integer_part);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $integer_part = '';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($i=strlen($aux)-1; $i &gt;= 0 ; $i--){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( $i % $digits_grouping == 0 &amp;&amp; $i != 0){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $integer_part .= "{$aux[$i]}{$thousands_separator}";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $integer_part .= $aux[$i];&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $processed_number = "{$integer_part}{$decimals_separator}{$decimal_part}";<br />
&nbsp;&nbsp;&nbsp; return $processed_number;<br />
}<br />
<br />
$original_number= 9223372036854775805;<br />
echo a_number_format($original_number, 4, '.',"'",3);<br />
// Outputs: 9'223'372'036'854'775'805.1230</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117414""></a>
  <div class="note">
   <strong class="user">kryss dot schuenemann at egba dot ba dot gov dot br</strong>
   <a href="#117414" class="date">06-Jun-2015 01:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//Cep Brasil<br />
&nbsp;&nbsp;&nbsp; function getCEP($cep){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return number_format(substr($cep, 0, 5),0,"",".").'-'.substr($cep, 5, 3);<br />
&nbsp;&nbsp;&nbsp; }<br />
//Saida 12.345-67</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113543""></a>
  <div class="note">
   <strong class="user">mobi dot lenoe at gmail dot com</strong>
   <a href="#113543" class="date">28-Oct-2013 08:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'd like to comment to the old notes of "stm555" and "woodynadobhar".<br />
They wrote about "number_format_unlimited_precision()".<br />
I guess many of us need that kind of function, which is the almost same function as number_format but don't round a number.<br />
<br />
Does Anyone know any new solution in a recent PHP version?<br />
<br />
...<br />
If no, how about the following function? (I fixed somethings like bugs of the function in the old comment.)<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">number_format_unchanged_precision</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">=</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">=</span><span class="string">','</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$dec_point</span><span class="keyword">==</span><span class="default">$thousands_sep</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'2 parameters for ' </span><span class="keyword">. </span><span class="default">__METHOD__ </span><span class="keyword">. </span><span class="string">'() have the same value, that is "' </span><span class="keyword">. </span><span class="default">$dec_point </span><span class="keyword">. </span><span class="string">'" for $dec_point and $thousands_sep'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// It corresponds "PHP Warning:&nbsp; Wrong parameter count for number_format()", which occurs when you use $dec_point without $thousands_sep to number_format().<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'{\.\d+}'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">)===</span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">);<br />
}<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format_unchanged_precision</span><span class="keyword">(</span><span class="default">1234.5678</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format_unchanged_precision</span><span class="keyword">(</span><span class="default">1234.5678</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format_unchanged_precision</span><span class="keyword">(</span><span class="default">12345678</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format_unchanged_precision</span><span class="keyword">(-</span><span class="default">0.5678</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">));&nbsp; </span><span class="comment">// It occurred a bug with the function in the old comment.<br />
</span><span class="default">?&gt;<br />
</span>output is:<br />
&nbsp;&nbsp;&nbsp; string(10) "1.234,5678"<br />
&nbsp;&nbsp;&nbsp; PHP Warning:&nbsp; 2 parameters for number_format_unchanged_precision() have the same value, that is "," for $dec_point and $thousands_sep in...<br />
&nbsp;&nbsp;&nbsp; string(10) "1,234,5678"<br />
&nbsp;&nbsp;&nbsp; string(10) "12,345,678"<br />
&nbsp;&nbsp;&nbsp; string(7) "-0,5678"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111552""></a>
  <div class="note">
   <strong class="user">tomislav at firmus-grupa dot hr</strong>
   <a href="#111552" class="date">03-Mar-2013 05:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When apply number_format on number with separator on thousands, result is wrong. This function accept number of any format<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">format_price</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$decPlaces</span><span class="keyword">,</span><span class="default">$decSep</span><span class="keyword">,</span><span class="default">$thouSep</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//$number - number for format<br />
&nbsp;&nbsp;&nbsp; //$decPlaces - number of decimal places<br />
&nbsp;&nbsp;&nbsp; //$decSep - separator for decimals<br />
&nbsp;&nbsp;&nbsp; //$thouSep - separator for thousands<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; //first remove all white spaces<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$number</span><span class="keyword">=</span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/\s+/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">,</span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//split string into array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberArr </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//reverse array and not preserve key, keys will help to find decimal place<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberArrRev</span><span class="keyword">=</span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$numberArr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//find first occurrence of non number character, that will be a decimal place<br />
&nbsp;&nbsp;&nbsp; //store $key into variable $decPointIsHere <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$numberArrRev </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$decPointIsHere</span><span class="keyword">==</span><span class="string">""</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decPointIsHere</span><span class="keyword">=</span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//decimal comma or whatever it is replace with dot<br />
&nbsp;&nbsp;&nbsp; //$decPointIsHere is the key of the element that will contain decimal separator dot <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$decPointIsHere</span><span class="keyword">!=</span><span class="string">""</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numberArrRev</span><span class="keyword">[</span><span class="default">$decPointIsHere</span><span class="keyword">]=</span><span class="string">"."</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//again check through array for non numerical characters but skipping allready processed keys<br />
&nbsp;&nbsp;&nbsp; //if is not number remove from array<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$numberArrRev </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; </span><span class="default">$key</span><span class="keyword">&gt;</span><span class="default">$decPointIsHere</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$numberArrRev</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//reverse back, at the start reversed array $numberArrRev to $numberArr<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberArr</span><span class="keyword">=</span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$numberArrRev</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//create string from array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberClean</span><span class="keyword">=</span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$numberArr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// apply php number_format function<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$numberClean</span><span class="keyword">,</span><span class="default">$decPlaces</span><span class="keyword">,</span><span class="default">$decSep</span><span class="keyword">,</span><span class="default">$thouSep</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
echo </span><span class="default">format_price</span><span class="keyword">(</span><span class="string">"1 225 552, 55"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">format_price</span><span class="keyword">(</span><span class="string">"1.225.552, 55"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">format_price</span><span class="keyword">(</span><span class="string">"1'225'552. 55"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">format_price</span><span class="keyword">(</span><span class="string">"1225552.55"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>all results are: 1 225 552,55</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108532""></a>
  <div class="note">
   <strong class="user">vgurudev at nikshepa dot com</strong>
   <a href="#108532" class="date">04-May-2012 08:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">convertNumberToWordsForIndia</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//A function to convert numbers into Indian readable words with Cores, Lakhs and Thousands.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$words </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'0'</span><span class="keyword">=&gt; </span><span class="string">'' </span><span class="keyword">,</span><span class="string">'1'</span><span class="keyword">=&gt; </span><span class="string">'one' </span><span class="keyword">,</span><span class="string">'2'</span><span class="keyword">=&gt; </span><span class="string">'two' </span><span class="keyword">,</span><span class="string">'3' </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">,</span><span class="string">'4' </span><span class="keyword">=&gt; </span><span class="string">'four'</span><span class="keyword">,</span><span class="string">'5' </span><span class="keyword">=&gt; </span><span class="string">'five'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'6' </span><span class="keyword">=&gt; </span><span class="string">'six'</span><span class="keyword">,</span><span class="string">'7' </span><span class="keyword">=&gt; </span><span class="string">'seven'</span><span class="keyword">,</span><span class="string">'8' </span><span class="keyword">=&gt; </span><span class="string">'eight'</span><span class="keyword">,</span><span class="string">'9' </span><span class="keyword">=&gt; </span><span class="string">'nine'</span><span class="keyword">,</span><span class="string">'10' </span><span class="keyword">=&gt; </span><span class="string">'ten'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'11' </span><span class="keyword">=&gt; </span><span class="string">'eleven'</span><span class="keyword">,</span><span class="string">'12' </span><span class="keyword">=&gt; </span><span class="string">'twelve'</span><span class="keyword">,</span><span class="string">'13' </span><span class="keyword">=&gt; </span><span class="string">'thirteen'</span><span class="keyword">,</span><span class="string">'14' </span><span class="keyword">=&gt; </span><span class="string">'fouteen'</span><span class="keyword">,</span><span class="string">'15' </span><span class="keyword">=&gt; </span><span class="string">'fifteen'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'16' </span><span class="keyword">=&gt; </span><span class="string">'sixteen'</span><span class="keyword">,</span><span class="string">'17' </span><span class="keyword">=&gt; </span><span class="string">'seventeen'</span><span class="keyword">,</span><span class="string">'18' </span><span class="keyword">=&gt; </span><span class="string">'eighteen'</span><span class="keyword">,</span><span class="string">'19' </span><span class="keyword">=&gt; </span><span class="string">'nineteen'</span><span class="keyword">,</span><span class="string">'20' </span><span class="keyword">=&gt; </span><span class="string">'twenty'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'30' </span><span class="keyword">=&gt; </span><span class="string">'thirty'</span><span class="keyword">,</span><span class="string">'40' </span><span class="keyword">=&gt; </span><span class="string">'fourty'</span><span class="keyword">,</span><span class="string">'50' </span><span class="keyword">=&gt; </span><span class="string">'fifty'</span><span class="keyword">,</span><span class="string">'60' </span><span class="keyword">=&gt; </span><span class="string">'sixty'</span><span class="keyword">,</span><span class="string">'70' </span><span class="keyword">=&gt; </span><span class="string">'seventy'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'80' </span><span class="keyword">=&gt; </span><span class="string">'eighty'</span><span class="keyword">,</span><span class="string">'90' </span><span class="keyword">=&gt; </span><span class="string">'ninty'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//First find the length of the number<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Initialize an empty array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_array </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$received_number_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Store all received numbers into an array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$number_length</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){&nbsp; &nbsp; </span><span class="default">$received_number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Populate the empty array with the numbers received - most critical operation<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">9</span><span class="keyword">-</span><span class="default">$number_length</span><span class="keyword">,</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">9</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++,</span><span class="default">$j</span><span class="keyword">++){ </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$received_number_array</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_to_words_string </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Finding out whether it is teen ? and then multiplying by 10, example 17 is seventeen, so if 1 is preceeded with 7 multiply 1 by 10 and add 7 to it.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">,</span><span class="default">$j</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">9</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++,</span><span class="default">$j</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">0 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">2 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">4 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">7</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]==</span><span class="string">"1"</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="default">10</span><span class="keyword">+</span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">9</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">0 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">2 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">4 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">7</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]*</span><span class="default">10</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else{ </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];&nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){ </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$value</span><span class="string">"</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">1 </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="string">"Crores "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">3 </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="string">"Lakhs "</span><span class="keyword">;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">5 </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="string">"Thousand "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">6 </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="string">"Hundred &amp;amp; "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$number_length</span><span class="keyword">&gt;</span><span class="default">9</span><span class="keyword">){ </span><span class="default">$number_to_words_string </span><span class="keyword">= </span><span class="string">"Sorry This does not support more than 99 Crores"</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">ucwords</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="string">"Indian Rupees "</span><span class="keyword">.</span><span class="default">$number_to_words_string</span><span class="keyword">).</span><span class="string">" Only."</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">convertNumberToWordsForIndia</span><span class="keyword">(</span><span class="string">"987654321"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Output ==&gt; Indian Rupees Ninty Eight Crores Seventy Six Lakhs Fifty Four Thousand Three Hundred &amp; Twenty One Only.<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106560""></a>
  <div class="note">
   <strong class="user">liviu andrei (bls)</strong>
   <a href="#106560" class="date">18-Nov-2011 08:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To prevent the rounding that occurs when next digit after last significant decimal is 5 (mentioned by several people below):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">fnumber_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">, </span><span class="default">$sep1</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">, </span><span class="default">$sep2</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$number </span><span class="keyword">* </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10 </span><span class="keyword">, </span><span class="default">$decimals </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">) % </span><span class="default">10 </span><span class="keyword">) == </span><span class="default">5</span><span class="keyword">)&nbsp; </span><span class="comment">//if next not significant digit is 5<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">-= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10 </span><span class="keyword">, -(</span><span class="default">$decimals</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals</span><span class="keyword">, </span><span class="default">$sep1</span><span class="keyword">, </span><span class="default">$sep2</span><span class="keyword">);<br />
<br />
}<br />
<br />
</span><span class="default">$t</span><span class="keyword">=</span><span class="default">7.15</span><span class="keyword">;<br />
echo </span><span class="default">$t </span><span class="keyword">. </span><span class="string">" | " </span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) .&nbsp; </span><span class="string">" | " </span><span class="keyword">. </span><span class="default">fnumber_format</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) . </span><span class="string">"\n\n"</span><span class="keyword">;<br />
</span><span class="comment">//result is: 7.15 | 7.2 | 7.1<br />
<br />
</span><span class="default">$t</span><span class="keyword">=</span><span class="default">7.3215</span><span class="keyword">;<br />
echo </span><span class="default">$t </span><span class="keyword">. </span><span class="string">" | " </span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) .&nbsp; </span><span class="string">" | " </span><span class="keyword">. </span><span class="default">fnumber_format</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) . </span><span class="string">"\n\n"</span><span class="keyword">;<br />
</span><span class="comment">//result is: 7.3215 | 7.322 | 7.321<br />
</span><span class="keyword">} </span><span class="default">?&gt;<br />
</span><br />
have fun!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100600""></a>
  <div class="note">
   <strong class="user">Ali Okan YKSEL</strong>
   <a href="#100600" class="date">26-Oct-2010 02:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
function formats numbers of datetime type,
<br />

<br />
<span class="default">&lt;?php
<br />
$_GET</span><span class="keyword">[</span><span class="string">"zaman"</span><span class="keyword">]=</span><span class="string">"1983-8-28 5:5:5"</span><span class="keyword">;
<br />

<br />
function </span><span class="default">_parseDatetimeToList</span><span class="keyword">(</span><span class="default">$datetimeStr</span><span class="keyword">) { </span><span class="comment">//datetime format: Y-m-d H-i-s
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$datetimeArray</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$datetimeStr</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dateArray</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="default">$datetimeArray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$year</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$dateArray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$month</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$dateArray</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$day</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$dateArray</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$timeArray</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">":"</span><span class="keyword">,</span><span class="default">$datetimeArray</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hour</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$timeArray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$minute</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$timeArray</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$second</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$timeArray</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; return array(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">, </span><span class="default">$hour</span><span class="keyword">, </span><span class="default">$minute</span><span class="keyword">, </span><span class="default">$second</span><span class="keyword">);
<br />
}
<br />

<br />
list(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">, </span><span class="default">$hour</span><span class="keyword">, </span><span class="default">$minute</span><span class="keyword">, </span><span class="default">$second</span><span class="keyword">) = </span><span class="default">_parseDatetimeToList</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"zaman"</span><span class="keyword">]);&nbsp; </span><span class="comment">// 1983-1-28 5:5:5
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97020""></a>
  <div class="note">
   <strong class="user">dipu dot ashok dot 17 at gmail dot com</strong>
   <a href="#97020" class="date">28-Mar-2010 01:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
function to convert numbers to words<br />
indian: thousand,lakh,crore<br />
Note: function can only convert nos upto 99 crores<br />
<br />
<span class="default">&lt;?php <br />
&nbsp;$words </span><span class="keyword">= array(</span><span class="string">'0'</span><span class="keyword">=&gt; </span><span class="string">'' </span><span class="keyword">,</span><span class="string">'1'</span><span class="keyword">=&gt; </span><span class="string">'one' </span><span class="keyword">,</span><span class="string">'2'</span><span class="keyword">=&gt; </span><span class="string">'two' </span><span class="keyword">,</span><span class="string">'3' </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">,</span><span class="string">'4' </span><span class="keyword">=&gt; </span><span class="string">'four'</span><span class="keyword">,</span><span class="string">'5' </span><span class="keyword">=&gt; </span><span class="string">'five'</span><span class="keyword">,</span><span class="string">'6' </span><span class="keyword">=&gt; </span><span class="string">'six'</span><span class="keyword">,</span><span class="string">'7' </span><span class="keyword">=&gt; </span><span class="string">'seven'</span><span class="keyword">,</span><span class="string">'8' </span><span class="keyword">=&gt; </span><span class="string">'eight'</span><span class="keyword">,</span><span class="string">'9' </span><span class="keyword">=&gt; </span><span class="string">'nine'</span><span class="keyword">,</span><span class="string">'10' </span><span class="keyword">=&gt; </span><span class="string">'ten'</span><span class="keyword">,</span><span class="string">'11' </span><span class="keyword">=&gt; </span><span class="string">'eleven'</span><span class="keyword">,</span><span class="string">'12' </span><span class="keyword">=&gt; </span><span class="string">'twelve'</span><span class="keyword">,</span><span class="string">'13' </span><span class="keyword">=&gt; </span><span class="string">'thirteen'</span><span class="keyword">,</span><span class="string">'14' </span><span class="keyword">=&gt; </span><span class="string">'fouteen'</span><span class="keyword">,</span><span class="string">'15' </span><span class="keyword">=&gt; </span><span class="string">'fifteen'</span><span class="keyword">,</span><span class="string">'16' </span><span class="keyword">=&gt; </span><span class="string">'sixteen'</span><span class="keyword">,</span><span class="string">'17' </span><span class="keyword">=&gt; </span><span class="string">'seventeen'</span><span class="keyword">,</span><span class="string">'18' </span><span class="keyword">=&gt; </span><span class="string">'eighteen'</span><span class="keyword">,</span><span class="string">'19' </span><span class="keyword">=&gt; </span><span class="string">'nineteen'</span><span class="keyword">,</span><span class="string">'20' </span><span class="keyword">=&gt; </span><span class="string">'twenty'</span><span class="keyword">,</span><span class="string">'30' </span><span class="keyword">=&gt; </span><span class="string">'thirty'</span><span class="keyword">,</span><span class="string">'40' </span><span class="keyword">=&gt; </span><span class="string">'fourty'</span><span class="keyword">,</span><span class="string">'50' </span><span class="keyword">=&gt; </span><span class="string">'fifty'</span><span class="keyword">,</span><span class="string">'60' </span><span class="keyword">=&gt; </span><span class="string">'sixty'</span><span class="keyword">,</span><span class="string">'70' </span><span class="keyword">=&gt; </span><span class="string">'seventy'</span><span class="keyword">,</span><span class="string">'80' </span><span class="keyword">=&gt; </span><span class="string">'eighty'</span><span class="keyword">,</span><span class="string">'90' </span><span class="keyword">=&gt; </span><span class="string">'ninty'</span><span class="keyword">,</span><span class="string">'100' </span><span class="keyword">=&gt; </span><span class="string">'hundred &amp;'</span><span class="keyword">,</span><span class="string">'1000' </span><span class="keyword">=&gt; </span><span class="string">'thousand'</span><span class="keyword">,</span><span class="string">'100000' </span><span class="keyword">=&gt; </span><span class="string">'lakh'</span><span class="keyword">,</span><span class="string">'10000000' </span><span class="keyword">=&gt; </span><span class="string">'crore'</span><span class="keyword">);<br />
function </span><span class="default">no_to_words</span><span class="keyword">(</span><span class="default">$no</span><span class="keyword">)<br />
{&nbsp; &nbsp; global </span><span class="default">$words</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$no </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">' '</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$novalue</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;</span><span class="default">$highno</span><span class="keyword">=</span><span class="default">$no</span><span class="keyword">;</span><span class="default">$remainno</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$value</span><span class="keyword">=</span><span class="default">100</span><span class="keyword">;</span><span class="default">$value1</span><span class="keyword">=</span><span class="default">1000</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">$no</span><span class="keyword">&gt;=</span><span class="default">100</span><span class="keyword">)&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if((</span><span class="default">$value </span><span class="keyword">&lt;= </span><span class="default">$no</span><span class="keyword">) &amp;&amp;(</span><span class="default">$no&nbsp; </span><span class="keyword">&lt; </span><span class="default">$value1</span><span class="keyword">))&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$novalue</span><span class="keyword">=</span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$value</span><span class="string">"</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$highno </span><span class="keyword">= (int)(</span><span class="default">$no</span><span class="keyword">/</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$remainno </span><span class="keyword">= </span><span class="default">$no </span><span class="keyword">% </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">= </span><span class="default">$value1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value1 </span><span class="keyword">= </span><span class="default">$value </span><span class="keyword">* </span><span class="default">100</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">"</span><span class="default">$highno</span><span class="string">"</span><span class="keyword">,</span><span class="default">$words</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$highno</span><span class="string">"</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">.</span><span class="default">$novalue</span><span class="keyword">.</span><span class="string">" "</span><span class="keyword">.</span><span class="default">no_to_words</span><span class="keyword">(</span><span class="default">$remainno</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$unit</span><span class="keyword">=</span><span class="default">$highno</span><span class="keyword">%</span><span class="default">10</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ten </span><span class="keyword">=(int)(</span><span class="default">$highno</span><span class="keyword">/</span><span class="default">10</span><span class="keyword">)*</span><span class="default">10</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$ten</span><span class="string">"</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">.</span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$unit</span><span class="string">"</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">.</span><span class="default">$novalue</span><span class="keyword">.</span><span class="string">" "</span><span class="keyword">.</span><span class="default">no_to_words</span><span class="keyword">(</span><span class="default">$remainno</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
echo </span><span class="default">no_to_words</span><span class="keyword">(</span><span class="default">999978987</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91047""></a>
  <div class="note">
   <strong class="user">info at daniel-marschall dot de</strong>
   <a href="#91047" class="date">22-May-2009 12:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In my function my_number_format() [shown below] there was a bug.
<br />

<br />
If a negative number which is smaller than 1 was entered (-0,...), then the result was wrongly positive because +0 is equal to -0 (the content of $tmp[0] which was interpretet as numeric value).
<br />

<br />
Here is the corrected version:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="keyword">function </span><span class="default">my_number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$was_neg </span><span class="keyword">= </span><span class="default">$number </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">; </span><span class="comment">// Because +0 == -0
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">);
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; if (isset(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) </span><span class="default">$out </span><span class="keyword">.= </span><span class="default">$dec_point</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];
<br />

<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$was_neg</span><span class="keyword">) </span><span class="default">$out </span><span class="keyword">= </span><span class="string">"-</span><span class="default">$out</span><span class="string">"</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Thanks to Federico Cassinelli for the bug report.
<br />

<br />

<br />

<br />
[EDIT BY danbrown AT php DOT net: The original note follows.]
<br />

<br />
Let's say we got the number $inp = 1234.56
<br />

<br />
By using
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$inp</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
you can get the German format 1.234,56. (Comma as decimal separator and point as thousand separator)
<br />

<br />
But I have a problem with that: I want to add commas as thousand separators and change the decimal-separator (this could also be done with str_replace), but I do not want to change the amount of fractional digits!
<br />

<br />
But since the 2nd argument of number_format is necessary to enter the 3rd and 4th argument, this cannot be done with number_format. You have to change the fractional digits with this function.
<br />

<br />
But I want that 1234.56 changes into 1.234,56 and 1234.567890123456 changes into 1.234,567890123456
<br />

<br />
So, I created following function, that doesn't change the amount of fractional digits:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">my_number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">)
<br />
{
<br />
&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">);
<br />
&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">);
<br />
&nbsp; if (isset(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) </span><span class="default">$out </span><span class="keyword">.= </span><span class="default">$dec_point</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];
<br />

<br />
&nbsp; return </span><span class="default">$out</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89888""></a>
  <div class="note">
   <strong class="user">james at bandit dot co.nz</strong>
   <a href="#89888" class="date">26-Mar-2009 09:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Outputs a human readable number.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">#&nbsp; &nbsp; Output easy-to-read numbers<br />
&nbsp;&nbsp;&nbsp; #&nbsp; &nbsp; by james at bandit.co.nz<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">bd_nice_number</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// first strip any formatting;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= (</span><span class="default">0</span><span class="keyword">+</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$n</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// is this a number?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// now filter it;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">1000000000000</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">((</span><span class="default">$n</span><span class="keyword">/</span><span class="default">1000000000000</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">).</span><span class="string">' trillion'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">1000000000</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">((</span><span class="default">$n</span><span class="keyword">/</span><span class="default">1000000000</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">).</span><span class="string">' billion'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">1000000</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">((</span><span class="default">$n</span><span class="keyword">/</span><span class="default">1000000</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">).</span><span class="string">' million'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">1000</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">((</span><span class="default">$n</span><span class="keyword">/</span><span class="default">1000</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">).</span><span class="string">' thousand'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
<br />
247,704,360 -&gt; 247.7 million<br />
866,965,260,000 -&gt; 867 billion</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89655""></a>
  <div class="note">
   <strong class="user">IMSoP</strong>
   <a href="#89655" class="date">18-Mar-2009 02:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm not sure if this is the right place anyway, but "ben at last dot fm"'s ordinal function can be simplified further by removing the redundant "floor" (the result of floor is still a float, it's the "%" that's converting to int) and outer switch.<br />
<br />
Note that this version also returns the number with the suffix on the end, not just the suffix. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Special case "teenth"<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if ( (</span><span class="default">$num </span><span class="keyword">/ </span><span class="default">10</span><span class="keyword">) % </span><span class="default">10 </span><span class="keyword">!= </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Handle 1st, 2nd, 3rd<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">switch( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">: return </span><span class="default">$num </span><span class="keyword">. </span><span class="string">'st'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">: return </span><span class="default">$num </span><span class="keyword">. </span><span class="string">'nd'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">3</span><span class="keyword">: return </span><span class="default">$num </span><span class="keyword">. </span><span class="string">'rd'</span><span class="keyword">;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Everything else is "nth"<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$num </span><span class="keyword">. </span><span class="string">'th'</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88486""></a>
  <div class="note">
   <strong class="user">Barbara</strong>
   <a href="#88486" class="date">26-Jan-2009 11:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was looking for a SIMPLE way to format currency and account for negative values while not losing the calculation properties of my number.&nbsp; Here's my function - it's not rocket science, but maybe can help someone along the way.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">wims_currency</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) {
<br />
&nbsp;&nbsp; if (</span><span class="default">$number </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$print_number </span><span class="keyword">= </span><span class="string">"($ " </span><span class="keyword">. </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">number_format </span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">","</span><span class="keyword">)) . </span><span class="string">")"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; } else {
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$print_number </span><span class="keyword">= </span><span class="string">"$ " </span><span class="keyword">.&nbsp; </span><span class="default">number_format </span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">","</span><span class="keyword">) ;
<br />
&nbsp;&nbsp; }
<br />
&nbsp;&nbsp; return </span><span class="default">$print_number</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>Sample use:
<br />

<br />
<span class="default">&lt;?php
<br />
$pur_po_total </span><span class="keyword">=&nbsp; (</span><span class="default">$pur_po_total </span><span class="keyword">+ </span><span class="default">$pur_item_total</span><span class="keyword">);
<br />
</span><span class="default">$print_pur_po_total </span><span class="keyword">= </span><span class="default">wims_currency</span><span class="keyword">(</span><span class="default">$pur_po_total</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Returns (for example)&nbsp; &nbsp; $ 44,561.00 or, if a negative ($ 407,250.00)
<br />

<br />
This way, I use my 1st variable for calculations and my 2nd variable for output.&nbsp; I'm sure there are better ways to do it,&nbsp; but this got me back on track.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88424""></a>
  <div class="note">
   <strong class="user">thomas at weblizards dot de</strong>
   <a href="#88424" class="date">23-Jan-2009 05:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's not explicitly documented; number_format also rounds:<br />
<br />
<span class="default">&lt;?php<br />
$numbers </span><span class="keyword">= array(</span><span class="default">0.001</span><span class="keyword">, </span><span class="default">0.002</span><span class="keyword">, </span><span class="default">0.003</span><span class="keyword">, </span><span class="default">0.004</span><span class="keyword">, </span><span class="default">0.005</span><span class="keyword">, </span><span class="default">0.006</span><span class="keyword">, </span><span class="default">0.007</span><span class="keyword">, </span><span class="default">0.008</span><span class="keyword">, </span><span class="default">0.009</span><span class="keyword">);<br />
foreach (</span><span class="default">$numbers </span><span class="keyword">as </span><span class="default">$number</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$number</span><span class="keyword">.</span><span class="string">"-&gt;"</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
0.001-&gt;0.00<br />
0.002-&gt;0.00<br />
0.003-&gt;0.00<br />
0.004-&gt;0.00<br />
0.005-&gt;0.01<br />
0.006-&gt;0.01<br />
0.007-&gt;0.01<br />
0.008-&gt;0.01<br />
0.009-&gt;0.01</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87381""></a>
  <div class="note">
   <strong class="user">nospam at nospam dot com</strong>
   <a href="#87381" class="date">02-Dec-2008 02:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple function to show money as only dollars if no cents, but will show 2 decimals if cents exist.<br />
<br />
The 'cents' flag can force to never or always show 2 decimals<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// formats money to a whole number or with 2 decimals; includes a dollar sign in front<br />
</span><span class="keyword">function </span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$cents </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) { </span><span class="comment">// cents: 0=never, 1=if needed, 2=always<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">)) { </span><span class="comment">// a number<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">$number</span><span class="keyword">) { </span><span class="comment">// zero<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$money </span><span class="keyword">= (</span><span class="default">$cents </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="string">'0.00' </span><span class="keyword">: </span><span class="string">'0'</span><span class="keyword">); </span><span class="comment">// output zero<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">} else { </span><span class="comment">// value<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) == </span><span class="default">$number</span><span class="keyword">) { </span><span class="comment">// whole number<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$money </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, (</span><span class="default">$cents </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="default">2 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">)); </span><span class="comment">// format<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">} else { </span><span class="comment">// cents<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$money </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">round</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">), (</span><span class="default">$cents </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">? </span><span class="default">0 </span><span class="keyword">: </span><span class="default">2</span><span class="keyword">)); </span><span class="comment">// format<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">} </span><span class="comment">// integer or decimal<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">} </span><span class="comment">// value<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="string">'$'</span><span class="keyword">.</span><span class="default">$money</span><span class="keyword">;<br />
&nbsp; } </span><span class="comment">// numeric<br />
</span><span class="keyword">} </span><span class="comment">// formatMoney<br />
<br />
</span><span class="default">$a </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">1234</span><span class="keyword">, </span><span class="default">1.5</span><span class="keyword">, </span><span class="default">1.234</span><span class="keyword">, </span><span class="default">2.345</span><span class="keyword">, </span><span class="default">2.001</span><span class="keyword">, </span><span class="default">2.100</span><span class="keyword">, </span><span class="string">'1.000'</span><span class="keyword">, </span><span class="string">'1.2345'</span><span class="keyword">, </span><span class="string">'12345'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="string">'0.00'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// show cents if needed ($cents=1)<br />
</span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$b</span><span class="keyword">) echo (</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">.</span><span class="string">' = '</span><span class="keyword">.</span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));<br />
</span><span class="default">1 </span><span class="keyword">= $</span><span class="default">1<br />
1234 </span><span class="keyword">= $</span><span class="default">1</span><span class="keyword">,</span><span class="default">234<br />
1.5 </span><span class="keyword">= $</span><span class="default">1.50<br />
1.234 </span><span class="keyword">= $</span><span class="default">1.23<br />
2.345 </span><span class="keyword">= $</span><span class="default">2.35<br />
2.001 </span><span class="keyword">= $</span><span class="default">2.00<br />
2.1 </span><span class="keyword">= $</span><span class="default">2.10<br />
1.000 </span><span class="keyword">= $</span><span class="default">1<br />
1.2345 </span><span class="keyword">= $</span><span class="default">1.23<br />
12345 </span><span class="keyword">= $</span><span class="default">12</span><span class="keyword">,</span><span class="default">345<br />
0 </span><span class="keyword">= $</span><span class="default">0<br />
0.00 </span><span class="keyword">= $</span><span class="default">0<br />
<br />
</span><span class="comment">// never show cents ($cents=0)<br />
</span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$b</span><span class="keyword">) echo (</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">.</span><span class="string">' = '</span><span class="keyword">.</span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br />
</span><span class="default">1 </span><span class="keyword">= $</span><span class="default">1<br />
1234 </span><span class="keyword">= $</span><span class="default">1</span><span class="keyword">,</span><span class="default">234<br />
1.5 </span><span class="keyword">= $</span><span class="default">2<br />
1.234 </span><span class="keyword">= $</span><span class="default">1<br />
2.345 </span><span class="keyword">= $</span><span class="default">2<br />
2.001 </span><span class="keyword">= $</span><span class="default">2<br />
2.1 </span><span class="keyword">= $</span><span class="default">2<br />
1.000 </span><span class="keyword">= $</span><span class="default">1<br />
1.2345 </span><span class="keyword">= $</span><span class="default">1<br />
12345 </span><span class="keyword">= $</span><span class="default">12</span><span class="keyword">,</span><span class="default">345<br />
0 </span><span class="keyword">= $</span><span class="default">0<br />
0.00 </span><span class="keyword">= $</span><span class="default">0<br />
<br />
</span><span class="comment">// always show cents ($cents=2)<br />
</span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$b</span><span class="keyword">) echo (</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">.</span><span class="string">' = '</span><span class="keyword">.</span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
</span><span class="default">1 </span><span class="keyword">= $</span><span class="default">1.00<br />
1234 </span><span class="keyword">= $</span><span class="default">1</span><span class="keyword">,</span><span class="default">234.00<br />
1.5 </span><span class="keyword">= $</span><span class="default">1.50<br />
1.234 </span><span class="keyword">= $</span><span class="default">1.23<br />
2.345 </span><span class="keyword">= $</span><span class="default">2.35<br />
2.001 </span><span class="keyword">= $</span><span class="default">2.00<br />
2.1 </span><span class="keyword">= $</span><span class="default">2.10<br />
1.000 </span><span class="keyword">= $</span><span class="default">1.00<br />
1.2345 </span><span class="keyword">= $</span><span class="default">1.23<br />
12345 </span><span class="keyword">= $</span><span class="default">12</span><span class="keyword">,</span><span class="default">345.00<br />
0 </span><span class="keyword">= $</span><span class="default">0.00<br />
0.00 </span><span class="keyword">= $</span><span class="default">0.00<br />
<br />
?&gt;<br />
</span><br />
Cheers :)<br />
<br />
And remember to always contribute custom functions if they might be useful to the rest of us or future versions of the php language.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87149""></a>
  <div class="note">
   <strong class="user">samuelpeixoto at gmail dot com</strong>
   <a href="#87149" class="date">21-Nov-2008 05:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Exemplo: Example:<br />
<br />
<span class="default">&lt;?php <br />
$number </span><span class="keyword">= </span><span class="default">1234567.896</span><span class="keyword">; <br />
echo </span><span class="string">'1: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'2: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'3: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'4: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'5: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'6: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">"'"</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'7: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
</span><span class="default">?&gt;<br />
</span><br />
Resultado: Result:<br />
<br />
&nbsp;1: 1234567,90&nbsp;&nbsp; -&gt; Decimal separado por ,<br />
&nbsp;2: 1234567.90&nbsp;&nbsp; -&gt; Decimal separado por .<br />
&nbsp;3: 1.234.567,90 -&gt; Moeda Brasil, Alemanha<br />
&nbsp;4: 1,234,567.90 -&gt; Inglês, USA<br />
&nbsp;5: 1 234 567,90 -&gt; Fran?a<br />
&nbsp;6: 1'234'567,90 -&gt; Suí?a<br />
&nbsp;7: 123456790&nbsp; &nbsp; -&gt; Sem decimal</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83852""></a>
  <div class="note">
   <strong class="user">isapoetra at gmail dot com</strong>
   <a href="#83852" class="date">15-Jun-2008 06:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here is the code to convert number to Indonesian text, this code has limitation as is number_format function. sorry for this.<br />
/*<br />
* Created : Iwan Sapoetra - Jun 13, 2008<br />
* Project : Web<br />
* Package : cgaf<br />
*<br />
*/<br />
function terbilang( $num ,$dec=4){<br />
&nbsp;&nbsp;&nbsp; $stext = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Nol",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Satu",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Dua",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Tiga",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Empat",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Lima",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Enam",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Tujuh",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Delapan",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Sembilan",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Sepuluh",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Sebelas"<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; $say&nbsp; = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Ribu",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Juta",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Milyar",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Triliun",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Biliun", // remember limitation of float<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "--apaan---" ///setelah biliun namanya apa?<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; $w = "";<br />
<br />
&nbsp;&nbsp;&nbsp; if ($num &lt;0 ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $w&nbsp; = "Minus ";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //make positive<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $num *= -1;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; $snum = number_format($num,$dec,",",".");<br />
&nbsp;&nbsp;&nbsp; die($snum);<br />
&nbsp;&nbsp;&nbsp; $strnum =&nbsp; explode(".",substr($snum,0,strrpos($snum,",")));<br />
&nbsp;&nbsp;&nbsp; //parse decimalnya<br />
&nbsp;&nbsp;&nbsp; $koma = substr($snum,strrpos($snum,",")+1);<br />
<br />
&nbsp;&nbsp;&nbsp; $isone = substr($num,0,1)&nbsp; ==1;<br />
&nbsp;&nbsp;&nbsp; if (count($strnum)==1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $num = $strnum[0];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (strlen($num)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case 1:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case 2:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!isset($stext[$strnum[0]])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($num&lt;19){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .=$stext[substr($num,1)]." Belas";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .= $stext[substr($num,0,1)]." Puluh ".<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (intval(substr($num,1))==0 ? "" : $stext[substr($num,1)]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .= $stext[$strnum[0]];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case 3:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .=&nbsp; ($isone ? "Seratus" : terbilang(substr($num,0,1)) .<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; " Ratus").<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; " ".(intval(substr($num,1))==0 ? "" : terbilang(substr($num,1)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case 4:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .=&nbsp; ($isone ? "Seribu" : terbilang(substr($num,0,1)) .<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; " Ribu").<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; " ".(intval(substr($num,1))==0 ? "" : terbilang(substr($num,1)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $text = $say[count($strnum)-2];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $w = ($isone &amp;&amp; strlen($strnum[0])==1 &amp;&amp; count($strnum) &lt;=3? "Se".strtolower($text) : terbilang($strnum[0]).' '.$text);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array_shift($strnum);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $i =count($strnum)-2;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($strnum as $k=&gt;$v) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (intval($v)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w.= ' '.terbilang($v).' '.($i &gt;=0 ? $say[$i] : "");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i--;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; $w = trim($w);<br />
&nbsp;&nbsp;&nbsp; if ($dec = intval($koma)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $w .= " Koma ". terbilang($koma);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return trim($w);<br />
}<br />
//example<br />
echo terbilang(999999999999)."\n";<br />
/**<br />
&nbsp;* result : Sembilan Ratus Sembilan Puluh Sembilan Milyar Sembilan Ratus Sembilan Puluh Sembilan Juta Sembilan Ratus Sembilan Puluh Sembilan Ribu Sembilan Ratus Sembilan Puluh Sembilan<br />
&nbsp;*/<br />
echo terbilang(9999999999999999);<br />
/**<br />
&nbsp;* todo : fix this bug pleasese<br />
&nbsp;* problem : number_format(9999999999999999) &lt;--- 10.000.000.000.000.000,0000<br />
&nbsp;* Result : Sepuluh Biliun<br />
&nbsp;*/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83070""></a>
  <div class="note">
   <strong class="user">gabrielu at gmail dot com</strong>
   <a href="#83070" class="date">08-May-2008 09:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using the number_format I'm having some unexpected results.&nbsp; 30% of 14.95 (14.95 * .3) = 4.485.&nbsp; Now 4.485 rounded to two decimal places should give me 4.49. <br />
<br />
Example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">14.95 </span><span class="keyword">* </span><span class="default">.3</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">4.485</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Unexpected Results:<br />
4.48<br />
4.49</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78314""></a>
  <div class="note">
   <strong class="user">uliciadrian01 at yahoo dot com</strong>
   <a href="#78314" class="date">06-Oct-2007 02:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple funtion to format american dollars.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$money</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$money</span><span class="keyword">&lt;</span><span class="default">1</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$money</span><span class="keyword">=</span><span class="string">'￠'</span><span class="keyword">.</span><span class="default">$money</span><span class="keyword">*</span><span class="default">100</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dollars</span><span class="keyword">=</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$money</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cents</span><span class="keyword">=</span><span class="default">$money</span><span class="keyword">-</span><span class="default">$dollars</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cents</span><span class="keyword">=</span><span class="default">$cents</span><span class="keyword">*</span><span class="default">100</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$money</span><span class="keyword">=</span><span class="string">'$'</span><span class="keyword">.</span><span class="default">$dollars</span><span class="keyword">.</span><span class="string">' and ￠'</span><span class="keyword">.</span><span class="default">$cents</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$money</span><span class="keyword">;
<br />
}
<br />
echo </span><span class="default">formatmoney</span><span class="keyword">(</span><span class="string">'52.342'</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>This will output: "&nbsp;&nbsp; $52 and ￠34.2&nbsp; ".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72969""></a>
  <div class="note">
   <strong class="user">zulisse at email dot it</strong>
   <a href="#72969" class="date">06-Feb-2007 02:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
simpler function to convert a number in bytes, kilobytes.... <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">bytes</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$unim </span><span class="keyword">= array(</span><span class="string">"B"</span><span class="keyword">,</span><span class="string">"KB"</span><span class="keyword">,</span><span class="string">"MB"</span><span class="keyword">,</span><span class="string">"GB"</span><span class="keyword">,</span><span class="string">"TB"</span><span class="keyword">,</span><span class="string">"PB"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">$a</span><span class="keyword">&gt;=</span><span class="default">1024</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">/</span><span class="default">1024</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,(</span><span class="default">$c </span><span class="keyword">? </span><span class="default">2 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">),</span><span class="string">","</span><span class="keyword">,</span><span class="string">"."</span><span class="keyword">).</span><span class="string">" "</span><span class="keyword">.</span><span class="default">$unim</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">];<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
you may also add others units over PeraBytes when the hard disks will reach 1024 PB :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71368""></a>
  <div class="note">
   <strong class="user">webmaster at WWW.ELLESSEWEB.NET</strong>
   <a href="#71368" class="date">24-Nov-2006 06:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a simple and useful function to convert a byte number in a KB&nbsp; or MB:<br />
<br />
&lt;?<br />
function filesize_format ($bytes) {<br />
&nbsp; $bytes=(float)$bytes;<br />
&nbsp; if ($bytes&lt;1024){<br />
&nbsp; $numero=number_format($bytes, 0, ',', '.')." Byte";<br />
&nbsp; return $numero;<br />
&nbsp; }<br />
&nbsp; if ($bytes&lt;1048576){<br />
&nbsp;&nbsp; &nbsp;&nbsp; $numero=number_format($bytes/1024, 2, ',', '.')." KByte";<br />
&nbsp; return $numero;<br />
&nbsp; }<br />
&nbsp; if ($bytes&gt;=1048576){<br />
&nbsp;&nbsp; &nbsp;&nbsp; $numero=number_format($bytes/1048576, 2, ',', '.')." MByte";<br />
&nbsp; return $numero;<br />
&nbsp; }<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70750""></a>
  <div class="note">
   <strong class="user">giovanni dot cappellini at gmail dot com</strong>
   <a href="#70750" class="date">26-Oct-2006 07:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
About the function of j-a-n at gmx dot de: it's useful, but the argument of the function is $number while the logic of the function requires it to be $in.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62478""></a>
  <div class="note">
   <strong class="user">mikesabatino at gmail dot com</strong>
   <a href="#62478" class="date">01-Mar-2006 07:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment"># Function to represent a number like '2nd', '10th', '101st' etc<br />
</span><span class="keyword">function </span><span class="default">text_number</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Array holding the teen numbers. If the last 2 numbers of $n are in this array, then we'll add 'th' to the end of $n<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$teen_array </span><span class="keyword">= array(</span><span class="default">11</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">, </span><span class="default">13</span><span class="keyword">, </span><span class="default">14</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">, </span><span class="default">19</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Array holding all the single digit numbers. If the last number of $n, or if $n itself, is a key in this array, then we'll add that key's value to the end of $n<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$single_array </span><span class="keyword">= array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'st'</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">'nd'</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">=&gt; </span><span class="string">'rd'</span><span class="keyword">, </span><span class="default">4 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">5 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">6 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">7 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">8 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">9 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Store the last 2 digits of $n in order to check if it's a teen number.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$if_teen </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Store the last digit of $n in order to check if it's a teen number. If $n is a single digit, $single will simply equal $n.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$single </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># If $if_teen is in array $teen_array, store $n with 'th' concantenated onto the end of it into $new_n<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if ( </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$if_teen</span><span class="keyword">, </span><span class="default">$teen_array</span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_n </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">. </span><span class="string">'th'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># $n is not a teen, so concant the appropriate value of it's $single_array key onto the end of $n and save it into $new_n<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">elseif ( </span><span class="default">$single_array</span><span class="keyword">[</span><span class="default">$single</span><span class="keyword">] )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_n </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">. </span><span class="default">$single_array</span><span class="keyword">[</span><span class="default">$single</span><span class="keyword">];&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Return new <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$new_n</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62141""></a>
  <div class="note">
   <strong class="user">MarcM</strong>
   <a href="#62141" class="date">20-Feb-2006 10:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For Zero fill - just use the sprintf() function<br />
<br />
$pr_id = 1;<br />
$pr_id = sprintf("%03d", $pr_id);<br />
echo $pr_id;<br />
<br />
//outputs 001<br />
-----------------<br />
<br />
$pr_id = 10;<br />
$pr_id = sprintf("%03d", $pr_id);<br />
echo $pr_id;<br />
<br />
//outputs 010<br />
-----------------<br />
<br />
You can change %03d to %04d, etc.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57376""></a>
  <div class="note">
   <strong class="user">Jeroen de Bruijn [NL]</strong>
   <a href="#57376" class="date">01-Oct-2005 03:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to display a number ending with ,- (like 200,-) when there are no decimal characters and display the decimals when there are decimal characters i use:<br />
<br />
function DisplayDouble($value)<br />
&nbsp; {<br />
&nbsp; list($whole, $decimals) = split ('[.,]', $value, 2);<br />
&nbsp; if (intval($decimals) &gt; 0)<br />
&nbsp;&nbsp;&nbsp; return number_format($value,2,".",",");<br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; return number_format($value,0,".",",") .",-";<br />
&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54763""></a>
  <div class="note">
   <strong class="user">marc dot vanwoerkom at fernuni-hagen dot de</strong>
   <a href="#54763" class="date">14-Jul-2005 06:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
See also the documentation for localeconv, which will provide values for decimal point and thousands separator from the C standard library.<br />
<br />
Of course localeconv features many more locale information, like indicating to put the negative sign behind the value for some locale settings which can't be used to customize present number_format.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52915""></a>
  <div class="note">
   <strong class="user">woodynadobhar at hotmail dot com</strong>
   <a href="#52915" class="date">17-May-2005 09:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
What do you do if some of your numbers have decimal places, and some don't?&nbsp; You can switch between functions, but if you're building it in a loop, that's not a good solution.&nbsp; Instead, we have the same as below, with a slight change:<br />
<br />
function number_format_unlimited_precision($number,$decimal = '.'){<br />
&nbsp;&nbsp;&nbsp; $broken_number = explode($decimal,$number);<br />
&nbsp;&nbsp;&nbsp; if($broken_number[1]==0){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return number_format($broken_number[0]);<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return number_format($broken_number[0]).$decimal.$broken_number[1];<br />
&nbsp;&nbsp;&nbsp; };<br />
};</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52311""></a>
  <div class="note">
   <strong class="user">stm555 at hotmail dot com</strong>
   <a href="#52311" class="date">27-Apr-2005 08:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I ran across an issue where I wanted to keep the entered precision of a real value, without arbitrarily rounding off what the user had submitted.<br />
<br />
I figured it out with a quick explode on the number before formatting. I could then format either side of the decimal.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">number_format_unlimited_precision</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$decimal </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$broken_number </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$decimal</span><span class="keyword">,</span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$broken_number</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]).</span><span class="default">$decimal</span><span class="keyword">.</span><span class="default">$broken_number</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47619""></a>
  <div class="note">
   <strong class="user">keyg at auralplanet dot com</strong>
   <a href="#47619" class="date">22-Nov-2004 06:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you want &amp;nbsp; as a separator and use windows charset this piece of code may help:<br />
<br />
<span class="default">&lt;?php<br />
$number</span><span class="keyword">=</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">chr</span><span class="keyword">(</span><span class="default">0xA0</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45678""></a>
  <div class="note">
   <strong class="user">Svein Tjonndal (sveint at yahoo dot com)</strong>
   <a href="#45678" class="date">14-Sep-2004 07:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use space as a separator, it will break on that space in HTML tables...<br />
<br />
Furthermore, number_format doesn't like '&amp;nbsp;' as a fourth parameter. I wrote the following function to display the numbers in an HTML table.<br />
<br />
&nbsp; function numberfix($number)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; $number = number_format($number,0,","," ");<br />
&nbsp;&nbsp;&nbsp; return str_replace(" ", "&amp;nbsp;", $number);<br />
&nbsp; }<br />
<br />
For use in:<br />
&lt;table&gt;&lt;tr&gt;&lt;td&gt;<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">$number</span><span class="keyword">; </span><span class="default">?&gt;</span>&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40558""></a>
  <div class="note">
   <strong class="user">chandu at chandu dot org</strong>
   <a href="#40558" class="date">07-Mar-2004 05:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
People here in India are more used to counting money in Lakhs &amp; Crores .. so here is the code for formatting the commas with thousands for the first time and then with hundred multiples from there after.<br />
<br />
Ex: 1234567&nbsp; -&gt;&nbsp; 12,34,567<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">makecomma</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// This function is written by some anonymous person - I got it from Google<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)&lt;=</span><span class="default">2</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; { return </span><span class="default">$input</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$length</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)-</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$formatted_input </span><span class="keyword">= </span><span class="default">makecomma</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">).</span><span class="string">","</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,-</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$formatted_input</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">formatInIndianStyle</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// This is my function<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">((string)</span><span class="default">$num</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) { </span><span class="default">$decimalpart</span><span class="keyword">=</span><span class="string">"00"</span><span class="keyword">;}<br />
&nbsp;&nbsp;&nbsp; else { </span><span class="default">$decimalpart</span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="default">$num </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">); }<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&gt;</span><span class="default">3 </span><span class="keyword">&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) &lt;= </span><span class="default">12</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last3digits </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, -</span><span class="default">3 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numexceptlastdigits </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">3 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$formatted </span><span class="keyword">= </span><span class="default">makecomma</span><span class="keyword">(</span><span class="default">$numexceptlastdigits</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stringtoreturn </span><span class="keyword">= </span><span class="default">$formatted</span><span class="keyword">.</span><span class="string">","</span><span class="keyword">.</span><span class="default">$last3digits</span><span class="keyword">.</span><span class="string">"."</span><span class="keyword">.</span><span class="default">$decimalpart </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }elseif(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&lt;=</span><span class="default">3</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stringtoreturn </span><span class="keyword">= </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"."</span><span class="keyword">.</span><span class="default">$decimalpart </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }elseif(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&gt;</span><span class="default">12</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stringtoreturn </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$stringtoreturn</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)==</span><span class="string">"-,"</span><span class="keyword">){</span><span class="default">$stringtoreturn </span><span class="keyword">= </span><span class="string">"-"</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$stringtoreturn</span><span class="keyword">,</span><span class="default">2 </span><span class="keyword">);}<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$stringtoreturn</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$num </span><span class="keyword">= </span><span class="default">1234567</span><span class="keyword">;<br />
echo&nbsp; </span><span class="default">formatInIndianStyle</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32121""></a>
  <div class="note">
   <strong class="user">sgj at dr dot com</strong>
   <a href="#32121" class="date">17-May-2003 06:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just an observation:<br />
The number_format rounds the value of the variable.<br />
<br />
$val1 = 1.233;<br />
$val2 = 1.235;<br />
$val3 = 1.237;<br />
<br />
echo number_format($val1,2,",","."); // returns: 1,23<br />
echo number_format($val2,2,",","."); // returns: 1,24<br />
echo number_format($val3,2,",","."); // returns: 1,24</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30643""></a>
  <div class="note">
   <strong class="user">Theo Diem</strong>
   <a href="#30643" class="date">24-Mar-2003 01:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
formatting numbers may be more easy if u use number_format function.<br />
<br />
I also wrote this :<br />
function something($number)<br />
{<br />
&nbsp;&nbsp;&nbsp; $locale = localeconv();<br />
&nbsp;&nbsp;&nbsp; return number_format($number,<br />
&nbsp;&nbsp; &nbsp; &nbsp; $locale['frac_digits'],<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $locale['decimal_point'],<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $locale['thousands_sep']);<br />
}<br />
<br />
hope this helps =)<br />
[]'s</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
