<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>运算符</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.expressions.html">? 表达式</a></li>
      <li style="float: right;"><a href="language.operators.precedence.html">运算符优先级 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="langref.html">语言参考</a></li>
    <li>运算符</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.operators" class="chapter">
  <h1>运算符</h1>
<h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="language.operators.precedence.html">运算符优先级</a></li><li><a href="language.operators.arithmetic.html">算术运算符</a></li><li><a href="language.operators.assignment.html">赋值运算符</a></li><li><a href="language.operators.bitwise.html">位运算符</a></li><li><a href="language.operators.comparison.html">比较运算符</a></li><li><a href="language.operators.errorcontrol.html">错误控制运算符</a></li><li><a href="language.operators.execution.html">执行运算符</a></li><li><a href="language.operators.increment.html">递增／递减运算符</a></li><li><a href="language.operators.logical.html">逻辑运算符</a></li><li><a href="language.operators.string.html">字符串运算符</a></li><li><a href="language.operators.array.html">数组运算符</a></li><li><a href="language.operators.type.html">类型运算符</a></li></ul>

  <p class="simpara">
   运算符是可以通过给出的一或多个值（用编程行话来说，表达式）来产生另一个值（因而整个结构成为一个表达式）的东西。
  </p>
  <p class="para">
   运算符可按照其能接受几个值来分组。一元运算符只能接受一个值，例如
   <em>!</em>（<a href="language.operators.logical.html" class="link">逻辑取反运算符</a>）或
   <em>++</em>（<a href="language.operators.increment.html" class="link">递增运算符</a>）。
   二元运算符可接受两个值，例如熟悉的<a href="language.operators.arithmetic.html" class="link">算术运算符</a>
   <em>+</em>（加）和 <em>-</em>（减），大多数 PHP
   运算符都是这种。最后是唯一的<a href="language.operators.comparison.html#language.operators.comparison.ternary" class="link">三元运算符</a> <em>? :</em>，可接受三个值；通常就简单称之为"三元运算符"（尽管称之为条件运算符可能更合适）。
  </p>
  <p class="para">
   PHP 的运算符完整列表见下节<a href="language.operators.precedence.html" class="link">运算符优先级</a>。该节也解释了运算符优先级和结合方向，这控制着在表达式包含有若干个不同运算符时究竟怎样对其求值。
  </p>

  

  

  

  

  

  

  

  

  

  

  

  
 </div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124035""></a>
  <div class="note">
   <strong class="user">ivijan dot stefan at gmail dot com</strong>
   <a href="#124035" class="date">13-Jul-2019 08:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use "AND" and "OR", you'll eventually get tripped up by something like this:<br />
<br />
<span class="default">&lt;?php<br />
$this_one </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
</span><span class="default">$that </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">$truthiness </span><span class="keyword">= </span><span class="default">$this_one </span><span class="keyword">and </span><span class="default">$that</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Want to guess what $truthiness equals?<br />
<br />
If you said "false"&nbsp; ...it's wrong!<br />
<br />
"$truthiness" above has the value "true". Why?&nbsp; "=" has a higher precedence than "and". The addition of parentheses to show the implicit order makes this clearer:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">(</span><span class="default">$truthiness </span><span class="keyword">= </span><span class="default">$this_one</span><span class="keyword">) and </span><span class="default">$that</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
If you used "&amp;&amp;" instead of and in the first code example, it would work as expected and be "false".<br />
<br />
This also works to get the correct value, as parentheses have higher precedence than "=":<br />
<br />
<span class="default">&lt;?php<br />
$truthiness </span><span class="keyword">= (</span><span class="default">$this_one </span><span class="keyword">and </span><span class="default">$that</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84862""></a>
  <div class="note">
   <strong class="user">figroc at gmail dot com</strong>
   <a href="#84862" class="date">02-Aug-2008 03:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The variable symbol '$' should be considered as the highest-precedence operator, so that the variable variables such as $$a[0] won't confuse the parser.&nbsp; [<a href="http://www.php.net/manual/en/language.variables.variable.php]" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.variables.variable.php]</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78911""></a>
  <div class="note">
   <strong class="user">phpnet dot 20 dot dpnsubs at xoxy dot net</strong>
   <a href="#78911" class="date">01-Nov-2007 02:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that in php the ternary operator ?: has a left associativity unlike in C and C++ where it has right associativity.
<br />

<br />
You cannot write code like this (as you may have accustomed to in C/C++):
<br />

<br />
<span class="default">&lt;?php
<br />
$a </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;
<br />
echo (
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">? </span><span class="string">'one' </span><span class="keyword">: 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="string">'two' </span><span class="keyword">: 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">== </span><span class="default">3 </span><span class="keyword">? </span><span class="string">'three' </span><span class="keyword">: 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">== </span><span class="default">4 </span><span class="keyword">? </span><span class="string">'four' </span><span class="keyword">: </span><span class="string">'other'</span><span class="keyword">);
<br />
echo </span><span class="string">"\n"</span><span class="keyword">;
<br />
</span><span class="comment">// prints 'four'
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
You need to add brackets to get the results you want:
<br />

<br />
<span class="default">&lt;?php
<br />
$a </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;
<br />

<br />
echo (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">? </span><span class="string">'one' </span><span class="keyword">: 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="string">'two' </span><span class="keyword">: 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">3 </span><span class="keyword">? </span><span class="string">'three' </span><span class="keyword">: 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">4 </span><span class="keyword">? </span><span class="string">'four' </span><span class="keyword">: </span><span class="string">'other'</span><span class="keyword">) ) ) );
<br />
echo </span><span class="string">"\n"</span><span class="keyword">;
<br />
</span><span class="comment">//prints 'two'
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76385""></a>
  <div class="note">
   <strong class="user">me at robrosenbaum dot com</strong>
   <a href="#76385" class="date">12-Jul-2007 12:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The scope resolution operator ::, which is missing from the list above, has higher precedence than [], and lower precedence than 'new'. This means that self::$array[$var] works as expected.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67997""></a>
  <div class="note">
   <strong class="user">golotyuk at gmail dot com</strong>
   <a href="#67997" class="date">09-Jul-2006 09:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple POST and PRE incremnt sample:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$b </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">= ( ( ++</span><span class="default">$b </span><span class="keyword">) &gt; </span><span class="default">5 </span><span class="keyword">); </span><span class="comment">// Pre-increment test<br />
</span><span class="keyword">echo (int)</span><span class="default">$a</span><span class="keyword">;<br />
<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">= ( ( </span><span class="default">$b</span><span class="keyword">++ ) &gt; </span><span class="default">5 </span><span class="keyword">); </span><span class="comment">// Post-increment test<br />
</span><span class="keyword">echo (int)</span><span class="default">$a</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This will output 10, because of the difference in post- and pre-increment operations</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56433""></a>
  <div class="note">
   <strong class="user">rick at nomorespam dot fourfront dot ltd dot uk</strong>
   <a href="#56433" class="date">02-Sep-2005 03:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A quick note to any C developers out there, assignment expressions are not interpreted as you may expect - take the following code ;-<br />
<br />
<span class="default">&lt;?php<br />
$a</span><span class="keyword">=array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$b</span><span class="keyword">=array(</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">);<br />
</span><span class="default">$c</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
<br />
</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">++]=</span><span class="default">$b</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">++];<br />
<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$a </span><span class="keyword">) ;<br />
</span><span class="default">?&gt;<br />
</span><br />
This will output;-<br />
Array ( [0] =&gt; 1 [1] =&gt; 6 [2] =&gt; 3 )<br />
as if the code said;-<br />
$a[1]=$b[2];<br />
<br />
Under a C compiler the result is;-<br />
Array ( [0] =&gt; 1 [1] =&gt; 5 [2] =&gt; 3 )<br />
as if the code said;-<br />
$a[1]=$b[1];<br />
<br />
It would appear that in php the increment in the left side of the assignment is processed prior to processing the right side of the assignment, whereas in C, neither increment occurs until after the assignment.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43111""></a>
  <div class="note">
   
   <a href="#43111" class="date">09-Jun-2004 05:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
of course this should be clear, but i think it has to be mentioned espacially:<br />
<br />
AND is not the same like &amp;&amp;<br />
<br />
for example:<br />
<br />
<span class="default">&lt;?php $a </span><span class="keyword">&amp;&amp; </span><span class="default">$b </span><span class="keyword">|| </span><span class="default">$c</span><span class="keyword">; </span><span class="default">?&gt;<br />
</span>is not the same like<br />
<span class="default">&lt;?php $a </span><span class="keyword">AND </span><span class="default">$b </span><span class="keyword">|| </span><span class="default">$c</span><span class="keyword">; </span><span class="default">?&gt;<br />
</span><br />
the first thing is<br />
(a and b) or c<br />
<br />
the second<br />
a and (b or c)<br />
<br />
'cause || has got a higher priority than and, but less than &amp;&amp;<br />
<br />
of course, using always [ &amp;&amp; and || ] or [ AND and OR ] would be okay, but than you should at least respect the following:<br />
<br />
<span class="default">&lt;?php $a </span><span class="keyword">= </span><span class="default">$b </span><span class="keyword">&amp;&amp; </span><span class="default">$c</span><span class="keyword">; </span><span class="default">?&gt;<br />
&lt;?php $a </span><span class="keyword">= </span><span class="default">$b </span><span class="keyword">AND </span><span class="default">$c</span><span class="keyword">; </span><span class="default">?&gt;<br />
</span><br />
the first code will set $a to the result of the comparison $b with $c, both have to be true, while the second code line will set $a like $b and THAN - after that - compare the success of this with the value of $c<br />
<br />
maybe usefull for some tricky coding and helpfull to prevent bugs :D<br />
<br />
greetz, Warhog</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12147""></a>
  <div class="note">
   <strong class="user">yasuo_ohgaki at hotmail dot com</strong>
   <a href="#12147" class="date">25-Mar-2001 11:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Other Language books' operator precedence section usually include "(" and ")" - with exception of a Perl book that I have. (In PHP "{" and "}" should also be considered also). However, PHP Manual is not listed "(" and ")" in precedence list. It looks like "(" and ")" has higher precedence as it should be.
<br />

<br />
Note: If you write following code, you would need "()" to get expected value.
<br />

<br />
<span class="default">&lt;?php
<br />
$bar </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br />
</span><span class="default">$str </span><span class="keyword">= </span><span class="string">"TEST"</span><span class="keyword">. (</span><span class="default">$bar </span><span class="keyword">? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">) .</span><span class="string">"TEST"</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Without "(" and ")" you will get only "true" in $str. 
<br />
(PHP4.0.4pl1/Apache DSO/Linux, PHP4.0.5RC1/Apache DSO/W2K Server)
<br />
It's due to precedence, probably.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
