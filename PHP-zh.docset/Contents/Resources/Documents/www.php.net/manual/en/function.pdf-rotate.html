<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Rotate coordinate system</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.pdf-resume-page.html">? PDF_resume_page</a></li>
      <li style="float: right;"><a href="function.pdf-save.html">PDF_save ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.pdf.html">PDF 函数</a></li>
    <li>Rotate coordinate system</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.pdf-rotate" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">PDF_rotate</h1>
  <p class="verinfo">(PHP 4, PECL pdflib &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">PDF_rotate</span> &mdash; <span class="dc-title">Rotate coordinate system</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.pdf-rotate-description">
  <h3 class="title">说明</h3>
   <div class="methodsynopsis dc-description">
    <span class="methodname"><strong>PDF_rotate</strong></span>
     ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$p</code></span>
    , <span class="methodparam"><span class="type">float</span> <code class="parameter">$phi</code></span>
    ) : <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Rotates the coordinate system. 成功时返回 <strong><code>TRUE</code></strong>， 或者在失败时返回 <strong><code>FALSE</code></strong>。
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="81026""></a>
  <div class="note">
   <strong class="user">notrub225 at yahoo dot com</strong>
   <a href="#81026" class="date">11-Feb-2008 08:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Many of the functions used in the post below are deprecated. Here is the modern Object Oriented version that is almost the same line by line and uses the PDFlib() class:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $pdf </span><span class="keyword">= new </span><span class="default">PDFlib</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">begin_document</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">set_info</span><span class="keyword">(</span><span class="string">"Creator"</span><span class="keyword">,</span><span class="string">"images.php"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">set_info</span><span class="keyword">(</span><span class="string">"Title"</span><span class="keyword">,</span><span class="string">"Horizontal and Vertical Example"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Width of 612, and length of 792 make US Letter Size<br />
&nbsp;&nbsp;&nbsp; // Dimensions are reversed for Landscape Mode<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">begin_page_ext</span><span class="keyword">(</span><span class="default">792</span><span class="keyword">,</span><span class="default">612</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$font </span><span class="keyword">= </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">load_font</span><span class="keyword">(</span><span class="string">"Helvetica-Oblique"</span><span class="keyword">, </span><span class="string">"iso8859-1"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">setfont</span><span class="keyword">(</span><span class="default">$font</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">show_xy</span><span class="keyword">(</span><span class="string">"This is horizontal text"</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">, </span><span class="default">300</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">rotate</span><span class="keyword">(</span><span class="default">90</span><span class="keyword">); </span><span class="comment">/* rotate coordinates */<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">show_xy</span><span class="keyword">(</span><span class="string">"vertical text"</span><span class="keyword">,</span><span class="default">300</span><span class="keyword">, -</span><span class="default">400</span><span class="keyword">);<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">rotate</span><span class="keyword">(-</span><span class="default">90</span><span class="keyword">); </span><span class="comment">/* rotate coordinates */</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">show_xy</span><span class="keyword">(</span><span class="string">"This is horizontal text"</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">, </span><span class="default">400</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">end_page_ext</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">end_document</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$buf </span><span class="keyword">= </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">get_buffer</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$buf</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">Header</span><span class="keyword">(</span><span class="string">"Content-type: application/pdf"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">Header</span><span class="keyword">(</span><span class="string">"Content-Length: </span><span class="default">$len</span><span class="string">"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">Header</span><span class="keyword">(</span><span class="string">"Content-Disposition: inline; filename=images.pdf"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$buf</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pdf</span><span class="keyword">-&gt;</span><span class="default">delete</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29037""></a>
  <div class="note">
   <strong class="user">gman at speakeasy dot net</strong>
   <a href="#29037" class="date">30-Jan-2003 06:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Thanks for your help, this is a clean working example ...<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $pdf </span><span class="keyword">= </span><span class="default">pdf_new</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_open_file</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_set_info</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="string">"Creator"</span><span class="keyword">,</span><span class="string">"images.php"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_set_info</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="string">"Title"</span><span class="keyword">,</span><span class="string">"Horizontal and Vertical Example"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Width of 612, and length of 792 make US Letter Size<br />
&nbsp;&nbsp;&nbsp; // Dimensions are reversed for Landscape Mode<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_begin_page</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="default">792</span><span class="keyword">,</span><span class="default">612</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_set_font</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="string">"Helvetica-Oblique"</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">, </span><span class="string">"host"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_show_xy</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="string">"This is horizontal text"</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">, </span><span class="default">300</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_rotate</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">90</span><span class="keyword">); </span><span class="comment">/* rotate coordinates */<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_show_xy</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="string">"vertical text"</span><span class="keyword">,</span><span class="default">300</span><span class="keyword">, -</span><span class="default">400</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_rotate</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, -</span><span class="default">90</span><span class="keyword">); </span><span class="comment">/* rotate coordinates */</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_show_xy</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="string">"This is horizontal text"</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">, </span><span class="default">400</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_end_page</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_close</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$buf </span><span class="keyword">= </span><span class="default">pdf_get_buffer</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$buf</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">Header</span><span class="keyword">(</span><span class="string">"Content-type: application/pdf"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">Header</span><span class="keyword">(</span><span class="string">"Content-Length: </span><span class="default">$len</span><span class="string">"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">Header</span><span class="keyword">(</span><span class="string">"Content-Disposition: inline; filename=images.pdf"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$buf</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">pdf_delete</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28904""></a>
  <div class="note">
   <strong class="user">bml137 at myglo dot net</strong>
   <a href="#28904" class="date">27-Jan-2003 11:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When you rotate, remember that you are rotating the coordinate system.&nbsp; So if you are rotating 90 degrees with the origin at (0,0) (bottom-left corner on PDFs) in the clockwise direction, then the pivot appears to be on the top-left of the PDF.&nbsp; For instance, if you put a sheet of paper on the table in vertical position, then rotate it clockwise 90 degrees by pivoting from the bottom-left corner, the pivot (or origin) will now be in the top-left corner of the horizontal paper.&nbsp; As you can see, you now have room show text in the +x, -y directions, not +x, +y.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
