<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>返回由类的默认属性组成的数组</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.get-class-methods.html">? get_class_methods</a></li>
      <li style="float: right;"><a href="function.get-class.html">get_class ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.classobj.html">类/对象 函数</a></li>
    <li>返回由类的默认属性组成的数组</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.get-class-vars" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">get_class_vars</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">get_class_vars</span> &mdash; <span class="dc-title">返回由类的默认属性组成的数组</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.get-class-vars-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>get_class_vars</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$class_name</code></span>
   ) : <span class="type">array</span></div>

  <p class="para rdfs-comment">
   返回由类的默认公有属性组成的关联数组。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.get-class-vars-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">class_name</code></dt>

     <dd>

      <p class="para">
       类名
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.get-class-vars-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns an associative array of declared properties visible from the
   current scope, with their default value.
   The resulting array elements are in the form of 
   <code class="literal">varname =&gt; value</code>.
   In case of an error, it returns <strong><code>false</code></strong>.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.get-class-vars-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5363">
    <p><strong>Example #1 <span class="function"><strong>get_class_vars()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">myclass&nbsp;</span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$var1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;has&nbsp;no&nbsp;default&nbsp;value...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">var&nbsp;</span><span style="color: #0000BB">$var2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"xyz"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$var3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$var4</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;constructor<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;change&nbsp;some&nbsp;properties<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"bar"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />}<br /><br /></span><span style="color: #0000BB">$my_class&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">myclass</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$class_vars&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_class_vars</span><span style="color: #007700">(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$my_class</span><span style="color: #007700">));<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$class_vars&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&nbsp;:&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
var1 :
var2 : xyz
var3 : 100
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-5364">
    <p><strong>Example #2 <span class="function"><strong>get_class_vars()</strong></span> and scoping behaviour</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">'|'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">))&nbsp;.&nbsp;</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">TestCase<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$a&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$c&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">expose</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">get_class_vars</span><span style="color: #007700">(</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">TestCase</span><span style="color: #007700">::</span><span style="color: #0000BB">expose</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">get_class_vars</span><span style="color: #007700">(</span><span style="color: #DD0000">'TestCase'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
// 5.0.0
a| * b| TestCase c
a| * b| TestCase c

// 5.0.1 - 5.0.2
a|b|c
a|b|c

// 5.0.3 +
a|b|c
a
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.get-class-vars-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.get-class-methods.html" class="function" rel="rdfs-seeAlso">get_class_methods()</a> - 返回由类的方法名组成的数组</span></li>
    <li class="member"><span class="function"><a href="function.get-object-vars.html" class="function" rel="rdfs-seeAlso">get_object_vars()</a> - 返回由对象属性组成的关联数组</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="118317""></a>
  <div class="note">
   <strong class="user">flobee</strong>
   <a href="#118317" class="date">16-Nov-2015 12:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php <br />
</span><span class="keyword">class </span><span class="default">someClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">toArray</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$records </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$this </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$records</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$records</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109995""></a>
  <div class="note">
   <strong class="user">bof at bof dot de</strong>
   <a href="#109995" class="date">09-Sep-2012 07:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed to get only the class static variables, leaving out instance variables.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_static_vars</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) as </span><span class="default">$name </span><span class="keyword">=&gt; </span><span class="default">$default</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$class</span><span class="keyword">::$</span><span class="default">$name</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$default</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
That function returns only the public ones. The same pattern can be used inside a class, then it returns private and protected static variables, too:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">static protected function </span><span class="default">get_static_vars</span><span class="keyword">(</span><span class="default">$class </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (!isset(</span><span class="default">$class</span><span class="keyword">)) </span><span class="default">$class </span><span class="keyword">= </span><span class="default">get_called_class</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) as </span><span class="default">$name </span><span class="keyword">=&gt; </span><span class="default">$default</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$class</span><span class="keyword">::$</span><span class="default">$name</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$default</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107519""></a>
  <div class="note">
   <strong class="user">Mattias Ahlbck</strong>
   <a href="#107519" class="date">14-Feb-2012 09:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
get_class_vars_assoc()<br />
- Returns an associative array with name of (parent) class(es) as key(s) and corresponding class vars as sub-arrays. My boilerplate for some crude O/R mapping.<br />
<br />
Note: vars re-defined in sub-classes are ignored.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">GrandClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$grandVar</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$in_grand_and_parent</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$in_grand_and_child</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">load</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::</span><span class="default">get_class_vars_assoc</span><span class="keyword">());<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; protected static function </span><span class="default">get_class_vars_assoc</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$called </span><span class="keyword">= </span><span class="default">get_called_class</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//echo "called: $called \n";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$classVars</span><span class="keyword">[</span><span class="default">$called</span><span class="keyword">] = </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">$called</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parent </span><span class="keyword">= </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="default">$called</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while ( </span><span class="default">$parent </span><span class="keyword">!== </span><span class="default">FALSE </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//echo "parent: $parent \n";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$classVars</span><span class="keyword">[</span><span class="default">$parent</span><span class="keyword">] = </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">$parent</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$classVars</span><span class="keyword">[</span><span class="default">$called</span><span class="keyword">] = </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$classVars</span><span class="keyword">[</span><span class="default">$called</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$classVars</span><span class="keyword">[</span><span class="default">$parent</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( isset(</span><span class="default">$prevParentVars</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$prevParentVars </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$prevParentVars</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$classVars</span><span class="keyword">[</span><span class="default">$parent</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$prevParentVars </span><span class="keyword">= &amp;</span><span class="default">$classVars</span><span class="keyword">[</span><span class="default">$parent</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parent </span><span class="keyword">= </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="default">$parent</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$classVars</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">ParentClass </span><span class="keyword">extends </span><span class="default">GrandClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$in_grand_and_parent</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$parentVar</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$in_parent_and_child</span><span class="keyword">;<br />
}<br />
<br />
class </span><span class="default">ChildClass </span><span class="keyword">extends </span><span class="default">ParentClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$in_grand_and_child</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$in_parent_and_child</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$childVar</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">ChildClass</span><span class="keyword">::</span><span class="default">load</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [ChildClass] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; childVar<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [ParentClass] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; parentVar<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; in_parent_and_child<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [GrandClass] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; grandVar<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; in_grand_and_parent<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; in_grand_and_child<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107320""></a>
  <div class="note">
   <strong class="user">ciantic</strong>
   <a href="#107320" class="date">30-Jan-2012 10:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I propse following for getting Public members, always:<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"get_public_class_vars"</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">get_public_class_vars</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"get_public_object_vars"</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">get_public_object_vars</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">get_object_vars</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
This is to mitigate the problem and a feature that get_object_vars($this) returns private members. Running it simply outside the scope will get the public.<br />
<br />
Iterating public members only and their defaults are enormously useful in e.g. in serialization classes such as options where each public member is an serializable that is saved and loaded.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106068""></a>
  <div class="note">
   <strong class="user">pBakhuis at Gmail dot com</strong>
   <a href="#106068" class="date">07-Oct-2011 03:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need the variables before the class is included this function does not seem to work.
<br />
Use a reflection class to get around this.
<br />
<a href="http://www.php.net/reflectionclass" rel="nofollow" target="_blank">http://www.php.net/reflectionclass</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100248""></a>
  <div class="note">
   <strong class="user">ken at verango dot com</strong>
   <a href="#100248" class="date">04-Oct-2010 04:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
All 3 of get_object_vars, get_class_vars and reflection getDefaultProperties will reveal the name of the array.&nbsp; For serialization I recommend:
<br />

<br />
<span class="default">&lt;?php
<br />
$cName </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);
<br />
</span><span class="default">$varTemplate</span><span class="keyword">= </span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">$cName</span><span class="keyword">)
<br />
foreach (</span><span class="default">$varTemplate </span><span class="keyword">as </span><span class="default">$name </span><span class="keyword">=&gt; </span><span class="default">$defaultVal</span><span class="keyword">) {
<br />
&nbsp; </span><span class="default">$vars</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$name</span><span class="keyword">; </span><span class="comment">// gets actual val.
<br />
</span><span class="keyword">}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
No scan the $vars and create serialization string how you wish.
<br />

<br />
This protects against erroneous prior deserializing in maintaining the integrity of the class template and ignoring unintended object properties.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94535""></a>
  <div class="note">
   <strong class="user">ianitsky at gmail dot com</strong>
   <a href="#94535" class="date">10-Nov-2009 11:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need get the child protected/private vars ignoring the parent vars, use like this:<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">class </span><span class="default">childClass </span><span class="keyword">extends </span><span class="default">parentClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$login</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$password</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$key </span><span class="keyword">== </span><span class="string">'password'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$key </span><span class="keyword">= </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$key </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
class </span><span class="default">parentClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$email</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$reflection </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vars </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$reflection</span><span class="keyword">-&gt;</span><span class="default">getdefaultProperties</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$reflection </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">__CLASS__</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parent_vars </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$reflection</span><span class="keyword">-&gt;</span><span class="default">getdefaultProperties</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$my_child_vars </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$vars </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$parent_vars</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$my_child_vars</span><span class="keyword">[] = </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$my_child_vars</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$child_class </span><span class="keyword">= new </span><span class="default">childClass</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87772""></a>
  <div class="note">
   <strong class="user">harmor</strong>
   <a href="#87772" class="date">20-Dec-2008 03:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
So I wanted to get a list of the public parameters in a child class using a static function pre-5.3.0 (&lt; 5.3.0).&nbsp; In 5.3.0+ you would use the new 'static' like you would 'self' to get the late binding.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">childClass </span><span class="keyword">extends </span><span class="default">parentClass<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$id</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$name</span><span class="keyword">;&nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">getFields</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">self</span><span class="keyword">::</span><span class="default">_getFields</span><span class="keyword">(</span><span class="default">__CLASS__</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
abstract class </span><span class="default">parentClass<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$idInParent</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$nameInParent</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; abstract public static function </span><span class="default">getFields</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; final protected static function </span><span class="default">_getFields</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rtn </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">)) as </span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rtn</span><span class="keyword">[] = </span><span class="default">$var</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$rtn</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">childClass</span><span class="keyword">::</span><span class="default">getFields</span><span class="keyword">());<br />
</span><span class="default">?&gt;<br />
</span><br />
Results:<br />
array(4) {<br />
&nbsp; [0]=&gt;<br />
&nbsp; string(2) "id"<br />
&nbsp; [1]=&gt;<br />
&nbsp; string(4) "name"<br />
&nbsp; [2]=&gt;<br />
&nbsp; string(10) "idInParent"<br />
&nbsp; [3]=&gt;<br />
&nbsp; string(12) "nameInParent"<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79240""></a>
  <div class="note">
   <strong class="user">artktec  at  art-k-tec dot com</strong>
   <a href="#79240" class="date">16-Nov-2007 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There seems to be be a function to get constants missing , i.e. get_class_constants() ... so here is a simple function for you all. Hopefully Zend will include this in the next round as a native php call, without using reflection.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">GetClassConstants</span><span class="keyword">(</span><span class="default">$sClassName</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$oClass </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$sClassName</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$oClass</span><span class="keyword">-&gt;</span><span class="default">getConstants</span><span class="keyword">());<br />
&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75774""></a>
  <div class="note">
   <strong class="user">phpnet at stccorp dot net</strong>
   <a href="#75774" class="date">15-Jun-2007 05:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is one of the best php functions. Look at what you can do<br />
<br />
class Object <br />
{<br />
&nbsp;&nbsp; var $updtFields;//keep track of affected values<br />
&nbsp;&nbsp; function Object($record="") {<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (is_array($record))<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;updtFields = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(array_keys(get_class_vars(get_class($this))) as $k)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset($record[$k]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;$k = $record[$k];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;updtFields[] = $k;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp; }//end of arrayToObject<br />
&nbsp;&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; function toDebug($nl='&lt;br&gt;')<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; foreach(array_keys(get_class_vars(get_class($this))) as $k)<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo "$k = [" . $this-&gt;$k . "]{$nl}";<br />
&nbsp;&nbsp;&nbsp; }//end of toDebug&nbsp; <br />
}<br />
<br />
Now you can do really cool things. If you have a form like <br />
&lt;form action="" method="post"&gt;<br />
&nbsp; &lt;input type="text" name="name" /&gt;<br />
&nbsp; &lt;input type="text" name="phone" /&gt;<br />
&nbsp; &lt;input type="submit" /&gt;<br />
&lt;/form&gt;<br />
<br />
and you define your class like this<br />
class Person extends Object{<br />
&nbsp; var $name; //same same as in the form<br />
&nbsp; var $phone;<br />
}<br />
<br />
when you submmit the form, you can get the data like<br />
<br />
$person = new Person($_POST);<br />
<br />
//everything in just one line,cool!! Also if you use pear db or adodb when you get data from the database you can do the same thing except use the $row that you get from the database. Remember to ask the result is associative mode.<br />
<br />
This is my core Object for everthing I do and it works great.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72688""></a>
  <div class="note">
   <strong class="user">bernd at tiggerswelt dot net</strong>
   <a href="#72688" class="date">29-Jan-2007 02:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you assign a constant value using the self-scope by default to a variable, get_class_vars() will result in a FATAL error.<br />
<br />
Example:<br />
<br />
<span class="default">&lt;?PHP<br />
<br />
&nbsp; </span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; const </span><span class="default">Bar </span><span class="keyword">= </span><span class="string">"error"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$Foo </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">Bar</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="string">"Foo"</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
... but using "Foo::Bar" instead "self::Bar" will work ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62591""></a>
  <div class="note">
   <strong class="user">gizmobits at hotmail dot com</strong>
   <a href="#62591" class="date">03-Mar-2006 07:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wanted a simple ToString() function that was automatic and class independent.&nbsp; I wanted to dump it into any of several classes and get values quickly.&nbsp; I wanted to leave it there so I could customize it for each class, so an outside function wasn't suitable.&nbsp; I came up with this and thought it might be useful.&nbsp; Have fun!<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">ToString </span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">.= </span><span class="string">"&lt;table&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">.= </span><span class="string">"&lt;tr&gt;&lt;td colspan=2&gt;&lt;hr&gt;&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">)) as </span><span class="default">$name </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">.= </span><span class="string">"&lt;tr&gt;&lt;td&gt;</span><span class="default">$name</span><span class="string">:&lt;/td&gt;&lt;td&gt;" </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$name </span><span class="keyword">. </span><span class="string">"&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">.= </span><span class="string">"&lt;tr&gt;&lt;td colspan=2&gt;&lt;hr&gt;&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">.= </span><span class="string">"&lt;/table&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58138""></a>
  <div class="note">
   <strong class="user">php dot net at sharpdreams dot com</strong>
   <a href="#58138" class="date">25-Oct-2005 06:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Contrary to multiple comments throughout the manual, get_class_vars() performed within a class can access any public, protected, and private members.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp; public </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp; protected </span><span class="default">$y</span><span class="keyword">;<br />
&nbsp;&nbsp; private </span><span class="default">$z</span><span class="keyword">;<br />
&nbsp;&nbsp; public function </span><span class="default">__sleep</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return( </span><span class="default">get_class_vars</span><span class="keyword">( </span><span class="default">__CLASS__ </span><span class="keyword">) );<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
works fine (returns x, y, &amp; z). However, given the same class as above,<br />
<br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">( </span><span class="default">get_class_vars</span><span class="keyword">( </span><span class="string">"Foo" </span><span class="keyword">) );<br />
</span><span class="default">?&gt;<br />
</span><br />
will NOT return x, y, &amp; z. Instead it will only return the public members (in our case, z).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49274""></a>
  <div class="note">
   <strong class="user">alan_k at php dot net</strong>
   <a href="#49274" class="date">21-Jan-2005 07:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in PHP5 to get all the vars (including private etc.) use:<br />
<br />
$reflection = new ReflectionClass($class);<br />
$defaults = $reflection-&gt;getdefaultProperties();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28788""></a>
  <div class="note">
   <strong class="user">rec at NOSPAM dot instantmassacre dot com</strong>
   <a href="#28788" class="date">23-Jan-2003 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to retrieve the class vars from within the class itself, use $this.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$b</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$c</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$d</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$e</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">GetClassVars</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">))); </span><span class="comment">// $this<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
<br />
}<br />
<br />
</span><span class="default">$Foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">;<br />
<br />
</span><span class="default">$class_vars </span><span class="keyword">= </span><span class="default">$Foo</span><span class="keyword">-&gt;</span><span class="default">GetClassVars</span><span class="keyword">();<br />
<br />
foreach (</span><span class="default">$class_vars </span><span class="keyword">as </span><span class="default">$cvar</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$cvar </span><span class="keyword">. </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Produces, after PHP 4.2.0, the following:<br />
<br />
a<br />
b<br />
c<br />
d<br />
e</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
