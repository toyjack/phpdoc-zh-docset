<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>This function returns the UID for the given message sequence number</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.imap-timeout.html">? imap_timeout</a></li>
      <li style="float: right;"><a href="function.imap-undelete.html">imap_undelete ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.imap.html">IMAP 函数</a></li>
    <li>This function returns the UID for the given message sequence number</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.imap-uid" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imap_uid</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imap_uid</span> &mdash; <span class="dc-title">This function returns the UID for the given message sequence number</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imap-uid-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>imap_uid</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$imap</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$message_num</code></span>
   ) : <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   This function returns the UID for the given message sequence
   number. An UID is a unique identifier that will not change over
   time while a message sequence number may change whenever the
   content of the mailbox changes.
  </p>
  <p class="para">
   This function is the inverse of <span class="function"><a href="function.imap-msgno.html" class="function">imap_msgno()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imap-uid-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    <dt>
<code class="parameter">
imap</code></dt>
<dd>
<p class="para">由 <span class="function"><a href="function.imap-open.html" class="function">imap_open()</a></span> 返回的 IMAP 流。</p></dd>

    
     <dt>
<code class="parameter">message_num</code></dt>

     <dd>

      <p class="para">
       The message number.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imap-uid-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   The UID of the given message.
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.imap-uid-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    This function is not supported by POP3 mailboxes.
   </p>
  </p></blockquote>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.imap-uid-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.imap-msgno.html" class="function" rel="rdfs-seeAlso">imap_msgno()</a> - Gets the message sequence number for the given UID</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122230""></a>
  <div class="note">
   <strong class="user">cmanley at example dot com</strong>
   <a href="#122230" class="date">05-Jan-2018 04:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want emulated POP3 UIDL support, then you can either use my imap function wrapper class, or just copy/modify it's header to UIDL hashing method:<br />
https://github.com/cmanley/PHP-IMAP-Client/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117803""></a>
  <div class="note">
   <strong class="user">Denis Rendler</strong>
   <a href="#117803" class="date">12-Aug-2015 09:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I would like to point out that, at least in the case of Gmail, the UIDs of emails are changed if they are moved from one folder to another. Even if moved back to the same folder the UIDs get incremented and thus changed. <br />
I found this the hard way after relaying on the notion that UIDs do not change as I found almost everywhere in the docs.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98904""></a>
  <div class="note">
   <strong class="user">Maikel</strong>
   <a href="#98904" class="date">14-Jul-2010 05:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be aware that the uid is unique in a single mailbox. That means a message can have as much uids as mailboxes</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88546""></a>
  <div class="note">
   <strong class="user">anon et mouse</strong>
   <a href="#88546" class="date">28-Jan-2009 11:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
clarification for Andreas' note about imap_expunge()...<br />
<br />
imap_expunge() does indeed change the UID, but only *after* the IMAP stream has closed and then reconnects. <br />
<br />
You can use imap_expunge() as many times as you want within one IMAP stream (no reconnects) and the UID stays the same while the Msgno will change with imap_delete() followed by imap_expunge().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84670""></a>
  <div class="note">
   <strong class="user">Andreas Seeger</strong>
   <a href="#84670" class="date">24-Jul-2008 10:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The uid will change in case of unsing imap_expunge. Be shure that <br />
all work ist done before using imap_expunge.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82923""></a>
  <div class="note">
   <strong class="user">roger at sdr dot com dot au</strong>
   <a href="#82923" class="date">01-May-2008 07:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little quirk of UIDs in a PUBLIC folder in MDaemon (and perhaps other servers?). The UIDs may be unsynchronised between users if the server's option to store flags on a per-user basis is turned on. That is, a message may have a UID of 5 for one user (meaning it was the 5th message to enter the box) but 3 for another user (who perhaps subscribed to the box later). If this is a problem, turn off the per-user option for the mailbox.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24923""></a>
  <div class="note">
   <strong class="user">steve_foley at excite dot com</strong>
   <a href="#24923" class="date">04-Sep-2002 10:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that message_id in the header is NOT the UID - and its dangerous to use as many mail progs don't put a message id in</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
