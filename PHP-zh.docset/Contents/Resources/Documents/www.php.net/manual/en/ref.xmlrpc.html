<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>XML-RPC 函数</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="xmlrpc.constants.html">? 预定义常量</a></li>
      <li style="float: right;"><a href="function.xmlrpc-decode-request.html">xmlrpc_decode_request ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.xmlrpc.html">XML-RPC</a></li>
    <li>XML-RPC 函数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.xmlrpc" class="reference">
 <h1 class="title">XML-RPC 函数</h1>






  








  








  








  








  














  








  








  








  








  








  








  








  





<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.xmlrpc-decode-request.html">xmlrpc_decode_request</a> &mdash; 将 XML 译码为 PHP 本身的类型</li><li><a href="function.xmlrpc-decode.html">xmlrpc_decode</a> &mdash; 将 XML 译码为 PHP 本身的类型</li><li><a href="function.xmlrpc-encode-request.html">xmlrpc_encode_request</a> &mdash; 为 PHP 的值生成 XML</li><li><a href="function.xmlrpc-encode.html">xmlrpc_encode</a> &mdash; 为 PHP 的值生成 XML</li><li><a href="function.xmlrpc-get-type.html">xmlrpc_get_type</a> &mdash; 为 PHP 的值获取 xmlrpc 的类型</li><li><a href="function.xmlrpc-is-fault.html">xmlrpc_is_fault</a> &mdash; Determines if an array value represents an XMLRPC fault</li><li><a href="function.xmlrpc-parse-method-descriptions.html">xmlrpc_parse_method_descriptions</a> &mdash; 将 XML 译码成方法描述的列表</li><li><a href="function.xmlrpc-server-add-introspection-data.html">xmlrpc_server_add_introspection_data</a> &mdash; 添加自我描述的文档</li><li><a href="function.xmlrpc-server-call-method.html">xmlrpc_server_call_method</a> &mdash; 解析 XML 请求同时调用方法</li><li><a href="function.xmlrpc-server-create.html">xmlrpc_server_create</a> &mdash; 创建一个 xmlrpc 服务端</li><li><a href="function.xmlrpc-server-destroy.html">xmlrpc_server_destroy</a> &mdash; 销毁服务端资源</li><li><a href="function.xmlrpc-server-register-introspection-callback.html">xmlrpc_server_register_introspection_callback</a> &mdash; 注册一个 PHP 函数用于生成文档</li><li><a href="function.xmlrpc-server-register-method.html">xmlrpc_server_register_method</a> &mdash; 注册一个 PHP 函数用于匹配 xmlrpc 方法名</li><li><a href="function.xmlrpc-set-type.html">xmlrpc_set_type</a> &mdash; 为一个 PHP 字符串值设置 xmlrpc 的类型、base64 或日期时间</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="78289""></a>
  <div class="note">
   <strong class="user">digibrisk at gmail dot NOSPAM dot SPAMNO dot com</strong>
   <a href="#78289" class="date">05-Oct-2007 03:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Adding to what giunta dot gaetano at sea-aeroportimilano dot it and astrolox at lawyersonline dot co dot uk said about the Sourceforge PHP XML-RPC project: You can probably use function_exists() to determine whether the extension is installed so you don't have to incur performance costs. If it's not installed, then the function won't exist, and function_exists() returns false. You can then fall back on the alternative library if that's the case. For example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">if(!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"xmlrpc_server_create"</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// include necessary files.<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73371""></a>
  <div class="note">
   <strong class="user">handco at gmail dot com</strong>
   <a href="#73371" class="date">20-Feb-2007 08:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi, <br />
<br />
A little snippet to implement OO XML RPC Server.<br />
<br />
File RPCPlugin.php : <br />
<br />
class RPCPlugins {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private $plugins;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function __construct ($pathname, $rpcServer) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $d = dir($pathname);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (($file = $d-&gt;read()) !== false) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (ereg('(.*)\.php$', $file, $regs)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; include_once ($pathname . '/' . $file);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $class=$regs[1];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;plugins = new $class($rpcServer);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
class RPCPlugin {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private $_rpcServer;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function __construct($rpcServer) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;_rpcServer = $rpcServer;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $methods = get_class_methods($this);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($methods as $method) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (substr($method, 0,1) != '_') {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; xmlrpc_server_register_method($rpcServer,get_class($this) . "." . $method,array(&amp;$this,$method));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
An example of plugin in plugins/Test.php&nbsp; : <br />
<br />
&nbsp;class Test extends RPCPlugin {<br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; function HelloWorld ($method, $params) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return "Hello World ---&gt;&gt;" . $params[0];<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;}<br />
<br />
Now the real server : <br />
<br />
require_once 'RPCPlugin.php';<br />
&nbsp;<br />
&nbsp;$rpcServer = xmlrpc_server_create();<br />
&nbsp;<br />
$plugins = new RPCPlugins(realpath('plugins/'), $rpcServer);<br />
&nbsp;<br />
&nbsp;$resp = xmlrpc_server_call_method($rpcServer,$HTTP_RAW_POST_DATA,null);<br />
&nbsp;if ($resp) {<br />
&nbsp;&nbsp; &nbsp; header ('Content-Type: text/xml');<br />
&nbsp;&nbsp; &nbsp; echo $resp;<br />
&nbsp;}<br />
&nbsp;xmlrpc_server_destroy($rpcServer)<br />
<br />
Then you can call ethod by classname.method. <br />
For this sample Test.HelloWorld<br />
<br />
Hn'Co</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69634""></a>
  <div class="note">
   <strong class="user">giunta dot gaetano at sea-aeroportimilano dot it</strong>
   <a href="#69634" class="date">13-Sep-2006 06:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to use this extension but are stuck on a server where it can not be installed, the php-xmlrpc library found at <a href="http://phpxmlrpc.sourceforge.net includes an emulation layer that aims to be 100% compatible with the API of the native extension (as part of the " rel="nofollow" target="_blank">http://phpxmlrpc.sourceforge.net includes an emulation layer that aims to be 100% compatible with the API of the native extension (as part of the </a>"extras" package since version 0.2).<br />
This means your code should be able to run unmodified on top of the php-xmlrpc library. Of course performance will be at least an order of magnitude worse...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66230""></a>
  <div class="note">
   <strong class="user">keithNO dot SPAMthornhill at gmail dot com</strong>
   <a href="#66230" class="date">17-May-2006 02:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for others attempting the same thing, here is what a function would look like if you wanted to send a base64 encoded file from a client and then save it onto the server. the other code necessary to call this function via an RPC is available in other comments so i won't repeat it.<br />
<br />
parameters:<br />
1 - name of file<br />
2 - base64 encoded data of file<br />
<br />
note the use of $file_data-&gt;scalar<br />
<br />
&lt;?<br />
&nbsp;&nbsp;&nbsp; function sendFile($method_name, $params, $user_data) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file = "/somedir/" . $params[0];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $file_data = $params[1];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $fh = @fopen($file, "wb");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($fh) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (@fwrite($fh, $file_data-&gt;scalar)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $msg = "success msg";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $msg = "couldn't write to file";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; fclose($fh);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $msg;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return "couldn't open file";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62797""></a>
  <div class="note">
   
   <a href="#62797" class="date">09-Mar-2006 12:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This XML-RPC Service makes the use XML-RPC very esay.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
* function myfun() returns&nbsp; <br />
*@return array<br />
*/<br />
</span><span class="keyword">function </span><span class="default">myfunc</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$some_array</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$ws </span><span class="keyword">= new </span><span class="default">XML_RPC_Server</span><span class="keyword">();<br />
</span><span class="default">$ws</span><span class="keyword">-&gt;</span><span class="default">registerFunction</span><span class="keyword">(</span><span class="string">'myfunc'</span><span class="keyword">);<br />
</span><span class="default">$ws</span><span class="keyword">-&gt;</span><span class="default">run</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
<a href="http://www.pure-php.de/node/31" rel="nofollow" target="_blank">http://www.pure-php.de/node/31</a><br />
<br />
It creates also a simple docu.<br />
<a href="http://www.pure-php.com/php/service.php?doc" rel="nofollow" target="_blank">http://www.pure-php.com/php/service.php?doc</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57927""></a>
  <div class="note">
   <strong class="user">john # curioussymbols com</strong>
   <a href="#57927" class="date">19-Oct-2005 04:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I couldn't make the 'xmlrpc_errors' php.ini setting do anything <br />
noticeable (PHP 4.3.11), so I used the following code to report errors <br />
from my XMLRPC server. Hope it's helpful for someone.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">return_xmlrpc_error</span><span class="keyword">(</span><span class="default">$errno</span><span class="keyword">,</span><span class="default">$errstr</span><span class="keyword">,</span><span class="default">$errfile</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">,</span><span class="default">$errline</span><span class="keyword">=</span><span class="default">NULL<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">,</span><span class="default">$errcontext</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; global </span><span class="default">$xmlrpc_server</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$xmlrpc_server</span><span class="keyword">)die(</span><span class="string">"Error: </span><span class="default">$errstr</span><span class="string"> in '</span><span class="default">$errfile</span><span class="string">', line '</span><span class="default">$errline</span><span class="string">'"</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: text/xml; CHARSET=gb2312"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="default">xmlrpc_encode</span><span class="keyword">(array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'faultCode'</span><span class="keyword">=&gt;</span><span class="default">$errno<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">,</span><span class="string">'faultString'</span><span class="keyword">=&gt;</span><span class="string">"Remote XMLRPC Error from <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "</span><span class="keyword">.</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_HOST'</span><span class="keyword">].</span><span class="string">": </span><span class="default">$errstr</span><span class="string"> in at </span><span class="default">$errfile</span><span class="string">:</span><span class="default">$errline</span><span class="string">"<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)));<br />
&nbsp;&nbsp;&nbsp; die();<br />
}&nbsp; &nbsp; <br />
</span><span class="default">set_error_handler</span><span class="keyword">(</span><span class="string">'return_xmlrpc_error'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
In my server function, I just trigger_error("message",E_USER_ERROR)]<br />
&nbsp;if something can't be completed.<br />
<br />
Then on the client side,<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $data </span><span class="keyword">=&amp; </span><span class="default">xmlrpc_decode</span><span class="keyword">(</span><span class="default">$response</span><span class="keyword">[</span><span class="string">'body'</span><span class="keyword">]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">xmlrpc_is_fault</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">[</span><span class="string">'faultString'</span><span class="keyword">],</span><span class="default">E_USER_ERROR</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55468""></a>
  <div class="note">
   <strong class="user">martin dot rode at programmfabrik dot de</strong>
   <a href="#55468" class="date">04-Aug-2005 05:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To connect to a python xmlrpc server I use:<br />
<br />
function do_call($host, $port, $request) {<br />
&nbsp; <br />
&nbsp;&nbsp;&nbsp; $url = "<a href="http://$host:$port/" rel="nofollow" target="_blank">http://$host:$port/</a>";<br />
&nbsp;&nbsp;&nbsp; $header[] = "Content-type: text/xml";<br />
&nbsp;&nbsp;&nbsp; $header[] = "Content-length: ".strlen($request);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $ch = curl_init();&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; curl_setopt($ch, CURLOPT_URL, $url);<br />
&nbsp;&nbsp;&nbsp; curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);<br />
&nbsp;&nbsp;&nbsp; curl_setopt($ch, CURLOPT_TIMEOUT, 1);<br />
&nbsp;&nbsp;&nbsp; curl_setopt($ch, CURLOPT_HTTPHEADER, $header);<br />
&nbsp;&nbsp;&nbsp; curl_setopt($ch, CURLOPT_POSTFIELDS, $request);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $data = curl_exec($ch);&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (curl_errno($ch)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print curl_error($ch);<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; curl_close($ch);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $data;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$request = xmlrpc_encode_request('add', array(3, 4));<br />
$response = do_call($host, $port, $request);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51159""></a>
  <div class="note">
   <strong class="user">astrolox at lawyersonline dot co dot uk</strong>
   <a href="#51159" class="date">22-Mar-2005 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The PHP XML-RPC project at SourceForge makes life a hell of a lot easier. However, the project uses some function names which are identical to thoses provided by the XML-RPC extention.<br />
<br />
If you are on a server with XML-RPC extension compiled in but wish to use the PHP based version then you will have to rename some of the functions.<br />
<br />
I notice that sourceforce says there is activity on the project in 2005 but the last release was January 12, 2003.<br />
<br />
I recommend that you use this not so friendly PHP extention if available. However this sourceforce project is still a good idea if you don't control which extenions are be available on the server.<br />
<br />
<a href="http://phpxmlrpc.sourceforge.net/" rel="nofollow" target="_blank">http://phpxmlrpc.sourceforge.net/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46530""></a>
  <div class="note">
   <strong class="user">Jerome Delamarche</strong>
   <a href="#46530" class="date">14-Oct-2004 02:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation lacks an example that shows how to send a fault in a response. Here is how to do it:<br />
<br />
$args = array("faultCode" =&gt; $errcode, "faultString" =&gt; $errmsg);<br />
$resp = xmlrpc_encode_request(NULL,$args);<br />
//echo $resp;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44704""></a>
  <div class="note">
   <strong class="user">php at hendrik-krauss dot de</strong>
   <a href="#44704" class="date">13-Aug-2004 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On "datetime" values:<br />
<br />
If you implement an XML-RPC server with these functions and a client calls a method on your server, sending a datetime as parameter (in ISO 8601 format, as specified at <a href="http://www.xmlrpc.com/spec" rel="nofollow" target="_blank">http://www.xmlrpc.com/spec</a>), the PHP XML-RPC will pass your registered server method an object as parameter. That object, for example, looks like:<br />
obj-&gt;type="datetime"<br />
obj-&gt;scalar="20040420T13:32:40"<br />
obj-&gt;timestamp=1082460760<br />
<br />
If you do xmlrpc_get_type(obj), it will return "datetime", so presumably that function just returns the value of 'type'. 'scalar' seems to be the on-the-wire representation of the datetime (ISO 8601, exactly as received). 'timestamp' appears to be the ISO value in 'scalar' converted into a normal PHP timestamp (i.e. Unix time_t).<br />
<br />
Note on 'scalar': Using a MySQL DB, we did something like&nbsp; "select blah where start_time &gt;= $obj-&gt;scalar ;". That actually worked and returned expected results, so MySQL appears to handle that ISO 8601 format correctly.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43079""></a>
  <div class="note">
   <strong class="user">swunderlin at REMOVE-telemedia dot ch</strong>
   <a href="#43079" class="date">09-Jun-2004 03:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
pear hs an XML_RPC package, if you can't recompile your php:<br />
<a href="http://pear.php.net/package/XML_RPC" rel="nofollow" target="_blank">http://pear.php.net/package/XML_RPC</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43051""></a>
  <div class="note">
   <strong class="user">steph at zend dot com</strong>
   <a href="#43051" class="date">08-Jun-2004 04:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It took me a while to get a client together without external libraries.&nbsp; This very basic client/server pair works on my home set-up - hopefully it will save the next xml-rpc virgin some grief.
<br />

<br />
/* clienttest.php */
<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">do_call</span><span class="keyword">(</span><span class="default">$host</span><span class="keyword">, </span><span class="default">$port</span><span class="keyword">, </span><span class="default">$request</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fsockopen</span><span class="keyword">(</span><span class="default">$host</span><span class="keyword">, </span><span class="default">$port</span><span class="keyword">, </span><span class="default">$errno</span><span class="keyword">, </span><span class="default">$errstr</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$query </span><span class="keyword">= </span><span class="string">"POST /home/servertest.php HTTP/1.0\nUser_Agent: My Egg Client\nHost: "</span><span class="keyword">.</span><span class="default">$host</span><span class="keyword">.</span><span class="string">"\nContent-Type: text/xml\nContent-Length: "</span><span class="keyword">.</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$request</span><span class="keyword">).</span><span class="string">"\n\n"</span><span class="keyword">.</span><span class="default">$request</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$query</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">))) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$errstr </span><span class="keyword">= </span><span class="string">"Write error"</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$contents </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$contents </span><span class="keyword">.= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$contents</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$host </span><span class="keyword">= </span><span class="string">'localhost'</span><span class="keyword">;
<br />
</span><span class="default">$port </span><span class="keyword">= </span><span class="default">80</span><span class="keyword">;
<br />
</span><span class="default">$request </span><span class="keyword">= </span><span class="default">xmlrpc_encode_request</span><span class="keyword">(</span><span class="string">'cycle'</span><span class="keyword">, </span><span class="string">'egg'</span><span class="keyword">);
<br />
</span><span class="default">$response </span><span class="keyword">= </span><span class="default">do_call</span><span class="keyword">(</span><span class="default">$host</span><span class="keyword">, </span><span class="default">$port</span><span class="keyword">, </span><span class="default">$request</span><span class="keyword">);
<br />
</span><span class="comment">/* do something with $response, e.g. print it */
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
/* servertest.php */
<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">lifecycle</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">$params</span><span class="keyword">) {
<br />
</span><span class="comment">/* $method = 'cycle', $params = (array of) request parameter(s); $data is also passed from xmlrpc_server_call_method, if we had any data to pass */
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">switch(</span><span class="default">$params</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'egg'</span><span class="keyword">:
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$reply </span><span class="keyword">= </span><span class="string">'All eggs will be birds one day.'</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$reply </span><span class="keyword">= </span><span class="string">'That must have been an otheregg'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$reply</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$server </span><span class="keyword">= </span><span class="default">xmlrpc_server_create</span><span class="keyword">();
<br />

<br />
</span><span class="comment">/* register the 'external' name and then the 'internal' name */
<br />
</span><span class="default">xmlrpc_server_register_method</span><span class="keyword">(</span><span class="default">$server</span><span class="keyword">, </span><span class="string">"cycle"</span><span class="keyword">, </span><span class="string">"lifecycle"</span><span class="keyword">);
<br />

<br />
</span><span class="default">$request </span><span class="keyword">= </span><span class="default">$HTTP_RAW_POST_DATA</span><span class="keyword">; </span><span class="comment">// no you don't need 'always on', and no $_POST doesn't work.
<br />

<br />
/* the parameters here are 'server, xml-string and user data'.&nbsp; There's supposed to be an optional 'output options' array too, but I can't get it working :( hence header() call */
<br />
</span><span class="default">$response </span><span class="keyword">= </span><span class="default">xmlrpc_server_call_method</span><span class="keyword">(</span><span class="default">$server</span><span class="keyword">, </span><span class="default">$request</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">);
<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Type: text/xml'</span><span class="keyword">);
<br />
print </span><span class="default">$response</span><span class="keyword">;
<br />

<br />
</span><span class="default">xmlrpc_server_destroy</span><span class="keyword">(</span><span class="default">$server</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40206""></a>
  <div class="note">
   <strong class="user">mboeren at php dot net</strong>
   <a href="#40206" class="date">25-Feb-2004 04:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a quick addition to my previous xmlrpc_client class: since you cannot use remote methods containing capital letters or methods from subhandlers (like 'system.listMethods()'), I added a 'call(...)' method to the class. <br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// this method should be copy/pasted in the <br />
&nbsp;&nbsp;&nbsp; // xmlrpc_client class<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">call</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$argv </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">); </span><span class="comment">// remove function argument<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">__call</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$argv</span><span class="keyword">, &amp;</span><span class="default">$return</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// now, you can also do<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">call</span><span class="keyword">(</span><span class="string">'system.listMethods'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sum </span><span class="keyword">= </span><span class="default">client</span><span class="keyword">-&gt;</span><span class="default">call</span><span class="keyword">(</span><span class="string">'add'</span><span class="keyword">, </span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40176""></a>
  <div class="note">
   <strong class="user">mboeren at php dot net</strong>
   <a href="#40176" class="date">24-Feb-2004 07:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I use the following code (requires the overload extension) to make developing clients easier:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">include(</span><span class="string">"utils/utils.php"</span><span class="keyword">); </span><span class="comment">// from xmlrpc-epi utils<br />
<br />
/*<br />
Usage:<br />
&nbsp;&nbsp;&nbsp; $client = new xmlrpc_client("<a href="http://localhost:7080" rel="nofollow" target="_blank">http://localhost:7080</a>");<br />
&nbsp;&nbsp;&nbsp; print $client-&gt;echo('x')."\n";<br />
&nbsp;&nbsp;&nbsp; print $client-&gt;add(1, 3)."\n";<br />
<br />
*/<br />
</span><span class="keyword">class </span><span class="default">xmlrpc_client<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$url</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$urlparts</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">xmlrpc_client</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">url </span><span class="keyword">= </span><span class="default">$url</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">urlparts </span><span class="keyword">= </span><span class="default">parse_url</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">url</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(array(</span><span class="string">'scheme'</span><span class="keyword">, </span><span class="string">'host'</span><span class="keyword">, </span><span class="string">'user'</span><span class="keyword">, </span><span class="string">'pass'</span><span class="keyword">, </span><span class="string">'path'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'query'</span><span class="keyword">, </span><span class="string">'fragment'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; as </span><span class="default">$part</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">urlparts</span><span class="keyword">[</span><span class="default">$part</span><span class="keyword">])) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">urlparts</span><span class="keyword">[</span><span class="default">$part</span><span class="keyword">] = </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">, &amp;</span><span class="default">$return</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'host'</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">urlparts</span><span class="keyword">[</span><span class="string">'host'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'port'</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">urlparts</span><span class="keyword">[</span><span class="string">'port'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'uri'</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">urlparts</span><span class="keyword">[</span><span class="string">'path'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'method'</span><span class="keyword">] = </span><span class="default">$function</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'args'</span><span class="keyword">] = </span><span class="default">$arguments</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'debug'</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'timeout'</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'user'</span><span class="keyword">] = </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'pass'</span><span class="keyword">] = </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$requestprms</span><span class="keyword">[</span><span class="string">'secure'</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">xu_rpc_http_concise</span><span class="keyword">(</span><span class="default">$requestprms</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">) &amp;&amp; isset(</span><span class="default">$result</span><span class="keyword">[</span><span class="string">'faultCode'</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print(</span><span class="string">'Error in xmlrpc call \''</span><span class="keyword">.</span><span class="default">$function</span><span class="keyword">.</span><span class="string">'\''</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print(</span><span class="string">'&nbsp; code&nbsp;&nbsp; : '</span><span class="keyword">.</span><span class="default">$result</span><span class="keyword">[</span><span class="string">'faultCode'</span><span class="keyword">].</span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print(</span><span class="string">'&nbsp; message: '</span><span class="keyword">.</span><span class="default">$result</span><span class="keyword">[</span><span class="string">'faultString'</span><span class="keyword">].</span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
}<br />
</span><span class="default">overload</span><span class="keyword">(</span><span class="string">'xmlrpc_client'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29298""></a>
  <div class="note">
   <strong class="user">bmichael at goldparrot dot com</strong>
   <a href="#29298" class="date">08-Feb-2003 09:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If anyone is interested in making XMLRPC requests directly from the client, I have been able to get xmlrpc to <br />
work with vcXMLRPC javascript backend.<br />
<br />
After about 1 week of scanning the market, I found this solution to be the best on Javascript back end.&nbsp; It uses the Microsoft.HTTP activeX control for IE, or HTTPRequest Object for Mozilla.<br />
<br />
You include vc(Virtual Cowboys) vcXMLRPC.js file into your pages and make the rpc calls from with javascript to create the requests.<br />
<br />
It works both ways.<br />
<br />
Two Notes:<br />
<br />
I have tested it on IE 6.02 and you need to change lines in ProcessRequest :<br />
function to read:<br />
<br />
&nbsp; dom = this.getObject("XMLDOM",http.responseText);<br />
<br />
and change the getObject function to use the latest ActiveX Control:<br />
<br />
&nbsp;MSXML2.XMLHTTP.3.0&nbsp; (or 4.0)<br />
&nbsp;MSXML2.DOMDocument.3.0&nbsp; (or 4.0)<br />
<br />
The controls are found on MSDN in the Web Services -&gt; XML area.<br />
<br />
As another note, you DO NOT NEED the rpcproxy.cgi script to use this.&nbsp; That is a proxy script to get around JS Security.&nbsp; You can use PHP to build the proxy.&nbsp; But, I was able to get the CGI working with GCC compiler on Solaris (change the -KPCI, depend and -x03 optimizer settings in the Makefile )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24653""></a>
  <div class="note">
   <strong class="user">steve at orangeNOSPAMimagineering dot com</strong>
   <a href="#24653" class="date">24-Aug-2002 01:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There's a handy library by Keith Devens (version 2.2.1) at 
<br />
<a href="http://www.keithdevens.com/software/xmlrpc/" rel="nofollow" target="_blank">http://www.keithdevens.com/software/xmlrpc/</a>
<br />

<br />
Here is a sample client. It remotely calls sample.sumAndDifference
<br />
with two parameters (3 and 5).
<br />
It returns:
<br />

<br />
sum =&gt; 8
<br />
difference =&gt; -2
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">include (</span><span class="string">"kd_xmlrpc.php"</span><span class="keyword">);
<br />
</span><span class="comment">// define("XMLRPC_DEBUG", 0);&nbsp; &nbsp; // Set to 1 for handy debugging
<br />

<br />
</span><span class="default">$method </span><span class="keyword">= </span><span class="string">"sample.sumAndDifference"</span><span class="keyword">;
<br />
</span><span class="default">$params </span><span class="keyword">= </span><span class="default">XMLRPC_prepare</span><span class="keyword">(array(</span><span class="default">3</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">));
<br />

<br />
</span><span class="default">$site </span><span class="keyword">= </span><span class="string">"xmlrpc-c.sourceforge.net"</span><span class="keyword">;
<br />
</span><span class="default">$location </span><span class="keyword">= </span><span class="string">"/api/sample.php"</span><span class="keyword">;
<br />

<br />
list(</span><span class="default">$success</span><span class="keyword">, </span><span class="default">$result</span><span class="keyword">) = </span><span class="default">XMLRPC_request</span><span class="keyword">( </span><span class="default">$site</span><span class="keyword">, </span><span class="default">$location</span><span class="keyword">, </span><span class="default">$method</span><span class="keyword">, </span><span class="default">$params </span><span class="keyword">);
<br />

<br />
</span><span class="comment">// XMLRPC_debug_print();&nbsp; &nbsp; // uncomment for debugging
<br />

<br />
</span><span class="keyword">foreach ( </span><span class="default">$result </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">" </span><span class="default">$key</span><span class="string"> =&gt; </span><span class="default">$value</span><span class="string"> \n"</span><span class="keyword">);
<br />
}
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24407""></a>
  <div class="note">
   <strong class="user">hfuecks at pinkgoblin dot com</strong>
   <a href="#24407" class="date">15-Aug-2002 08:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This extension does not handle the process of making making XML-RPC client requests via HTTP; it only prepares the XML-RPC request payload.<br />
<br />
This differs from many other XML-RPC implementations but offers greater flexibility, allowing SSL connections, authentication headers and XML-RPC via other transports like SMTP.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22543""></a>
  <div class="note">
   <strong class="user">ivanr  at  webkreator dot com</strong>
   <a href="#22543" class="date">21-Jun-2002 11:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For a really easy way to use this XML-RPC extension take a look at<br />
<br />
XML-RPC Class Server (<a href="http://www.webkreator.com/php/xcs/" rel="nofollow" target="_blank">http://www.webkreator.com/php/xcs/</a>)<br />
<br />
It automatically creates servers out of PHP classes. Creating clients is almost as easy, especially with the recent addition of the overload extension to PHP (see <a href="http://www.php.net/manual/en/ref.overload.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/ref.overload.php</a>).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20983""></a>
  <div class="note">
   <strong class="user">nic at uklinux dot NOSPAM dot net</strong>
   <a href="#20983" class="date">24-Apr-2002 09:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An alternative XML-RPC implementation is available at <a href="http://xmlrpc.usefulinc.com - it" rel="nofollow" target="_blank">http://xmlrpc.usefulinc.com - it</a>'s written in PHP so you can use it on servers for which you don't have the luxury of rebuilding PHP on.<br />
<br />
nic</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
