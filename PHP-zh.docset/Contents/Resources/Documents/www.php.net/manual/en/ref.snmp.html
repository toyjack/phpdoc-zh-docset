<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>SNMP 函数</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="snmp.constants.html">? 预定义常量</a></li>
      <li style="float: right;"><a href="function.snmp-get-quick-print.html">snmp_get_quick_print ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.snmp.html">SNMP</a></li>
    <li>SNMP 函数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.snmp" class="reference">
 <h1 class="title">SNMP 函数</h1>
  
 

























































































































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.snmp-get-quick-print.html">snmp_get_quick_print</a> &mdash; 返回 UCD 库中 quick_print 设置的当前值</li><li><a href="function.snmp-get-valueretrieval.html">snmp_get_valueretrieval</a> &mdash; Return the method how the SNMP values will be returned</li><li><a href="function.snmp-read-mib.html">snmp_read_mib</a> &mdash; Reads and parses a MIB file into the active MIB tree</li><li><a href="function.snmp-set-enum-print.html">snmp_set_enum_print</a> &mdash; Return all values that are enums with their enum value instead of the raw integer</li><li><a href="function.snmp-set-oid-numeric-print.html">snmp_set_oid_numeric_print</a> &mdash; Set the OID output format</li><li><a href="function.snmp-set-oid-output-format.html">snmp_set_oid_output_format</a> &mdash; Set the OID output format</li><li><a href="function.snmp-set-quick-print.html">snmp_set_quick_print</a> &mdash; 设置 UCD SNMP 库中 quick_print 的值</li><li><a href="function.snmp-set-valueretrieval.html">snmp_set_valueretrieval</a> &mdash; Specify the method how the SNMP values will be returned</li><li><a href="function.snmp2-get.html">snmp2_get</a> &mdash; Fetch an SNMP object</li><li><a href="function.snmp2-getnext.html">snmp2_getnext</a> &mdash; Fetch the SNMP object which follows the given object id</li><li><a href="function.snmp2-real-walk.html">snmp2_real_walk</a> &mdash; Return all objects including their respective object ID within the specified one</li><li><a href="function.snmp2-set.html">snmp2_set</a> &mdash; Set the value of an SNMP object</li><li><a href="function.snmp2-walk.html">snmp2_walk</a> &mdash; Fetch all the SNMP objects from an agent</li><li><a href="function.snmp3-get.html">snmp3_get</a> &mdash; Fetch an SNMP object</li><li><a href="function.snmp3-getnext.html">snmp3_getnext</a> &mdash; Fetch the SNMP object which follows the given object id</li><li><a href="function.snmp3-real-walk.html">snmp3_real_walk</a> &mdash; Return all objects including their respective object ID within the specified one</li><li><a href="function.snmp3-set.html">snmp3_set</a> &mdash; Set the value of an SNMP object</li><li><a href="function.snmp3-walk.html">snmp3_walk</a> &mdash; Fetch all the SNMP objects from an agent</li><li><a href="function.snmpget.html">snmpget</a> &mdash; 获取一个 SNMP 对象</li><li><a href="function.snmpgetnext.html">snmpgetnext</a> &mdash; Fetch the SNMP object which follows the given object id</li><li><a href="function.snmprealwalk.html">snmprealwalk</a> &mdash; 返回指定的所有对象，包括它们各自的对象 ID</li><li><a href="function.snmpset.html">snmpset</a> &mdash; 设置一个 SNMP 对象</li><li><a href="function.snmpwalk.html">snmpwalk</a> &mdash; 从代理返回所有的 SNMP 对象</li><li><a href="function.snmpwalkoid.html">snmpwalkoid</a> &mdash; 查询关于网络实体的信息树</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="78909""></a>
  <div class="note">
   <strong class="user">Chris</strong>
   <a href="#78909" class="date">01-Nov-2007 01:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a fresh list of API for SNMPv1, SNMPv2c, and SNMPv3 as of PHP 5.2.4:<br />
<br />
SNMPv1<br />
------<br />
string snmpget(string host, string community, string object_id [, int timeout [, int retries]]);<br />
<br />
string snmpgetnext(string host, string community, string object_id [, int timeout [, int retries]]);<br />
<br />
array snmpwalk(string host, string community, string object_id [, int timeout [, int retries]]);<br />
<br />
array snmprealwalk(string host, string community, string object_id [, int timeout [, int retries]]);<br />
<br />
bool snmp_get_quick_print(void);<br />
<br />
void snmp_set_quick_print(int quick_print);<br />
<br />
void snmp_set_enum_print(int enum_print);<br />
<br />
void snmp_set_oid_output_format(int oid_format);<br />
<br />
int snmpset(string host, string community, string object_id, string type, mixed value [, int timeout [, int retries]]);<br />
<br />
SNMPv2c<br />
-------<br />
string snmp2_get(string host, string community, string object_id [, int timeout [, int retries]]);<br />
<br />
string snmp2_getnext(string host, string community, string object_id [, int timeout [, int retries]]);<br />
<br />
array snmp2_walk(string host, string community, string object_id [, int timeout [, int retries]]);<br />
<br />
array snmp2_real_walk(string host, string community, string object_id [, int timeout [, int retries]]);<br />
<br />
int snmp2_set(string host, string community, string object_id, string type, mixed value [, int timeout [, int retries]]);<br />
<br />
SNMPv3<br />
------<br />
int snmp3_get(string host, string sec_name, string sec_level, string auth_protocol, string auth_passphrase, string priv_protocol, string priv_passphrase, string object_id [, int timeout [, int retries]]);<br />
<br />
int snmp3_getnext(string host, string sec_name, string sec_level, string auth_protocol, string auth_passphrase, string priv_protocol, string priv_passphrase, string object_id [, int timeout [, int retries]]);<br />
<br />
int snmp3_walk(string host, string sec_name, string sec_level, string auth_protocol, string auth_passphrase, string priv_protocol, string priv_passphrase, string object_id [, int timeout [, int retries]]);<br />
<br />
int snmp3_real_walk(string host, string sec_name, string sec_level, string auth_protocol, string auth_passphrase, string priv_protocol, string priv_passphrase, string object_id [, int timeout [, int retries]]);<br />
<br />
int snmp3_set(string host, string sec_name, string sec_level, string auth_protocol, string auth_passphrase, string priv_protocol, string priv_passphrase, string object_id, string type, mixed value [, int timeout [, int retries]]);<br />
<br />
General<br />
-------<br />
int snmp_set_valueretrieval(int method);<br />
<br />
int snmp_get_valueretrieval();<br />
<br />
int snmp_read_mib(string filename);<br />
<br />
SNMPv3 options<br />
--------------<br />
SNMPv3 offers a different authentication/authorization scheme than previous versions of SNMP.&nbsp; To aid in using the API listed above, here is a brief explanation of each of the unique parameters used in the snmp3_* functions.<br />
<br />
$sec_name - the "username" used for authentication to the system<br />
<br />
$sec_level - the authentication scheme ('noAuthNoPriv', 'authNoPriv', or 'authPriv')<br />
<br />
$auth_protocol - the encryption protocol used for authentication ('MD5' [default] or 'SHA')<br />
<br />
$auth_passphrase - the encrypted key to use as the authentication challenge<br />
<br />
$priv_protocol - the encryption protocol used for protecting the protocol data unit ('DES' [default], 'AES128', 'AES192', or 'AES256')<br />
<br />
$priv_passphrase - the key to use for encrypting the protocol data unit<br />
<br />
There are good code snippets available on <a href="http://forums.cacti.net/about5403.html for more information." rel="nofollow" target="_blank">http://forums.cacti.net/about5403.html for more information.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58657""></a>
  <div class="note">
   <strong class="user">1413 at blargh dot com</strong>
   <a href="#58657" class="date">10-Nov-2005 01:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For my purposes in PHP coding, I have the following SNMP options set, always.&nbsp; These aren't documented very well in PHP's docs, but they make dealing with the SNMP results a LOT easier:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Return back the numeric OIDs, instead of text strings.<br />
</span><span class="default">snmp_set_oid_numeric_print</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Get just the values.<br />
</span><span class="default">snmp_set_quick_print</span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">);<br />
<br />
</span><span class="comment">// For sequence types, return just the numbers, not the string and numbers.<br />
</span><span class="default">snmp_set_enum_print</span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">); <br />
<br />
</span><span class="comment">// Don't let the SNMP library get cute with value interpretation.&nbsp; This makes <br />
// MAC addresses return the 6 binary bytes, timeticks to return just the integer<br />
// value, and some other things.<br />
</span><span class="default">snmp_set_valueretrieval</span><span class="keyword">(</span><span class="default">SNMP_VALUE_PLAIN</span><span class="keyword">);&nbsp; <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
