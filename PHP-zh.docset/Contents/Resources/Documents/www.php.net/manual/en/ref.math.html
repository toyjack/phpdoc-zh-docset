<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Math 函数</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="math.constants.html">? 预定义常量</a></li>
      <li style="float: right;"><a href="function.abs.html">abs ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.math.html">Math</a></li>
    <li>Math 函数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.math" class="reference">
 <h1 class="title">Math 函数</h1>

 




  







  















  















  







  
































  







  







  































  








  























  







  















  
















  







  







  







  







  
















   
   
   




















  







































  







  















  















  







  















  







  





<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.abs.html">abs</a> &mdash; 绝对值</li><li><a href="function.acos.html">acos</a> &mdash; 反余弦</li><li><a href="function.acosh.html">acosh</a> &mdash; 反双曲余弦</li><li><a href="function.asin.html">asin</a> &mdash; 反正弦</li><li><a href="function.asinh.html">asinh</a> &mdash; 反双曲正弦</li><li><a href="function.atan2.html">atan2</a> &mdash; 两个参数的反正切</li><li><a href="function.atan.html">atan</a> &mdash; 反正切</li><li><a href="function.atanh.html">atanh</a> &mdash; 反双曲正切</li><li><a href="function.base-convert.html">base_convert</a> &mdash; 在任意进制之间转换数字</li><li><a href="function.bindec.html">bindec</a> &mdash; 二进制转换为十进制</li><li><a href="function.ceil.html">ceil</a> &mdash; 进一法取整</li><li><a href="function.cos.html">cos</a> &mdash; 余弦</li><li><a href="function.cosh.html">cosh</a> &mdash; 双曲余弦</li><li><a href="function.decbin.html">decbin</a> &mdash; 十进制转换为二进制</li><li><a href="function.dechex.html">dechex</a> &mdash; 十进制转换为十六进制</li><li><a href="function.decoct.html">decoct</a> &mdash; 十进制转换为八进制</li><li><a href="function.deg2rad.html">deg2rad</a> &mdash; 将角度转换为弧度</li><li><a href="function.exp.html">exp</a> &mdash; 计算 e 的指数</li><li><a href="function.expm1.html">expm1</a> &mdash; 返回 exp(number) - 1，甚至当 number 的值接近零也能计算出准确结果</li><li><a href="function.floor.html">floor</a> &mdash; 舍去法取整</li><li><a href="function.fmod.html">fmod</a> &mdash; 返回除法的浮点数余数</li><li><a href="function.getrandmax.html">getrandmax</a> &mdash; 显示随机数最大的可能值</li><li><a href="function.hexdec.html">hexdec</a> &mdash; 十六进制转换为十进制</li><li><a href="function.hypot.html">hypot</a> &mdash; 计算一直角三角形的斜边长度</li><li><a href="function.intdiv.html">intdiv</a> &mdash; 对除法结果取整</li><li><a href="function.is-finite.html">is_finite</a> &mdash; 判断是否为有限值</li><li><a href="function.is-infinite.html">is_infinite</a> &mdash; 判断是否为无限值</li><li><a href="function.is-nan.html">is_nan</a> &mdash; 判断是否为合法数值</li><li><a href="function.lcg-value.html">lcg_value</a> &mdash; 组合线性同余发生器</li><li><a href="function.log10.html">log10</a> &mdash; 以 10 为底的对数</li><li><a href="function.log1p.html">log1p</a> &mdash; 返回 log(1 + number)，甚至当 number 的值接近零也能计算出准确结果</li><li><a href="function.log.html">log</a> &mdash; 自然对数</li><li><a href="function.max.html">max</a> &mdash; 找出最大值</li><li><a href="function.min.html">min</a> &mdash; 找出最小值</li><li><a href="function.mt-getrandmax.html">mt_getrandmax</a> &mdash; 显示随机数的最大可能值</li><li><a href="function.mt-rand.html">mt_rand</a> &mdash; 生成更好的随机数</li><li><a href="function.mt-srand.html">mt_srand</a> &mdash; 播下一个更好的随机数发生器种子</li><li><a href="function.octdec.html">octdec</a> &mdash; 八进制转换为十进制</li><li><a href="function.pi.html">pi</a> &mdash; 得到圆周率值</li><li><a href="function.pow.html">pow</a> &mdash; 指数表达式</li><li><a href="function.rad2deg.html">rad2deg</a> &mdash; 将弧度数转换为相应的角度数</li><li><a href="function.rand.html">rand</a> &mdash; 产生一个随机整数</li><li><a href="function.round.html">round</a> &mdash; 对浮点数进行四舍五入</li><li><a href="function.sin.html">sin</a> &mdash; 正弦</li><li><a href="function.sinh.html">sinh</a> &mdash; 双曲正弦</li><li><a href="function.sqrt.html">sqrt</a> &mdash; 平方根</li><li><a href="function.srand.html">srand</a> &mdash; 播下随机数发生器种子</li><li><a href="function.tan.html">tan</a> &mdash; 正切</li><li><a href="function.tanh.html">tanh</a> &mdash; 双曲正切</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122350""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#122350" class="date">02-Feb-2018 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
And the reason I needed a Factorial function is because I there were no nPr or nCr functions native to PHP, either.<br />
<br />
function n_pick_r($n,$r){$n=(int)$n; $r=(int)$r;return (fact($n)/fact($n-$r));}<br />
function n_choose_r($n,$r){$n=(int)$n; $r=(int)$r;return (n_pick_r($n,$r)/fact($r));}<br />
<br />
Hope that helps someone!<br />
exmple:https://vb.3dlat.com/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116965""></a>
  <div class="note">
   <strong class="user">Aiden880</strong>
   <a href="#116965" class="date">28-Mar-2015 01:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Lowest Common Denominator:<br />
function lcd($num, $start) {<br />
&nbsp;&nbsp;&nbsp; while($num % $start != 0) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $start++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $start;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109457""></a>
  <div class="note">
   <strong class="user">capripot at gmail dot com</strong>
   <a href="#109457" class="date">18-Jul-2012 09:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another simpler function to check a number with the luhn algorithm :
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">luhn</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$num</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$num </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">));
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$add </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$num </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$k</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">$v</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$add </span><span class="keyword">+= (</span><span class="default">$v </span><span class="keyword">&gt;= </span><span class="default">10 </span><span class="keyword">? </span><span class="default">$v </span><span class="keyword">- </span><span class="default">9 </span><span class="keyword">: </span><span class="default">$v</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$add</span><span class="keyword">%</span><span class="default">10 </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Don't know if foreach and arrays operations are faster than while and substr, but I feel it clearer.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103537""></a>
  <div class="note">
   <strong class="user">AsherMaximum gmail</strong>
   <a href="#103537" class="date">18-Apr-2011 09:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a simple way way to convert a number to an ordinal number I created:
<br />

<br />
$i == the number to convert. Put this inside a for loop if you need to populate an array.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// change increment variable to ordinal number.
<br />
</span><span class="default">$n1 </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">% </span><span class="default">100</span><span class="keyword">; </span><span class="comment">//first remove all but the last two digits
<br />

<br />
</span><span class="default">$n2 </span><span class="keyword">= (</span><span class="default">$n1 </span><span class="keyword">&lt; </span><span class="default">20 </span><span class="keyword">? $</span><span class="default">1 </span><span class="keyword">: </span><span class="default">$i </span><span class="keyword">% </span><span class="default">10</span><span class="keyword">; </span><span class="comment">//remove all but last digit unless the number is in the teens, which all should be 'th'
<br />

<br />
//$n is now used to determine the suffix.
<br />
</span><span class="default">$ord </span><span class="keyword">= (</span><span class="default">$n2</span><span class="keyword">==</span><span class="default">1 </span><span class="keyword">? </span><span class="default">$i</span><span class="keyword">.</span><span class="string">'st' </span><span class="keyword">: ( (</span><span class="default">$n2</span><span class="keyword">==</span><span class="default">2 </span><span class="keyword">? </span><span class="default">$i</span><span class="keyword">.</span><span class="string">'nd' </span><span class="keyword">: (</span><span class="default">$n2</span><span class="keyword">==</span><span class="default">3 </span><span class="keyword">? </span><span class="default">$i</span><span class="keyword">.</span><span class="string">'rd' </span><span class="keyword">: </span><span class="default">$i</span><span class="keyword">.</span><span class="string">'th'</span><span class="keyword">) ) ) )
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100758""></a>
  <div class="note">
   <strong class="user">php at keith tyler dot com</strong>
   <a href="#100758" class="date">04-Nov-2010 11:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another ordinal method, which does not involve utilizing date functions:<br />
<br />
<span class="default">&lt;?php<br />
sprintf</span><span class="keyword">( </span><span class="string">"%d%s"</span><span class="keyword">, </span><span class="default">$t</span><span class="keyword">, </span><span class="default">array_pop</span><span class="keyword">( </span><span class="default">array_slice</span><span class="keyword">( </span><span class="default">array_merge</span><span class="keyword">( array( </span><span class="string">"th"</span><span class="keyword">,</span><span class="string">"st"</span><span class="keyword">,</span><span class="string">"nd"</span><span class="keyword">,</span><span class="string">"rd"</span><span class="keyword">), </span><span class="default">array_fill</span><span class="keyword">( </span><span class="default">4</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="string">"th"</span><span class="keyword">)), </span><span class="default">$t</span><span class="keyword">%</span><span class="default">10</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)));</span><span class="string">'<br />
?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80834""></a>
  <div class="note">
   <strong class="user">lummox</strong>
   <a href="#80834" class="date">02-Feb-2008 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Wouldn't the following function do the same but a lot easier than the one in the comment before?<br />
<br />
function trimInteger($targetNumber,$newLength) {<br />
&nbsp;&nbsp;&nbsp; return $targetNumber%pow(10,$newLength); <br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80319""></a>
  <div class="note">
   <strong class="user">Mike</strong>
   <a href="#80319" class="date">09-Jan-2008 07:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//had a mistake in last post, heres the corrected version<br />
<br />
/*<br />
Just a simple function to trim digits from the left side of an integer. TRIM DOWN TO 4-&gt; (ie. 987654 =&gt; 7654)<br />
*/<br />
<br />
function trimInteger($targetNumber,$newLength) {<br />
<br />
&nbsp;&nbsp;&nbsp; $digits = pow(10,$newLength);<br />
<br />
&nbsp;&nbsp;&nbsp; $s = ($targetNumber/ $digits); //make the last X digits the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decimal part<br />
<br />
&nbsp;&nbsp;&nbsp; $t = floor($targetNumber / $digits); //drop the last X digits (the decimal part)<br />
<br />
&nbsp;&nbsp;&nbsp; $h = $s - $t; //remove all&nbsp; but the decimal part<br />
<br />
&nbsp;&nbsp;&nbsp; $newInteger = ($h*$digits); //make the everything after the decimal point the new number<br />
<br />
&nbsp;&nbsp;&nbsp; return $newInteger;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71502""></a>
  <div class="note">
   <strong class="user">barry at megaspace dot com</strong>
   <a href="#71502" class="date">02-Dec-2006 09:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a least common denominator (lcd) function:<br />
<br />
$array = array(3,4,6,8,18,2);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function lcd($array,$x) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $mod_sum = 0;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for($int=1;$int &lt; count($array);$int++) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $modulus[$int] = ($array[0]*$x) % ($array[$int]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $mod_sum = $mod_sum + $modulus[$int];&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!$mod_sum) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo "LCD: ".($array[0]*$x)."\n";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lcd($array,$x+1);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
lcd($array,1);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70969""></a>
  <div class="note">
   <strong class="user">tembenite at gmail dot com</strong>
   <a href="#70969" class="date">06-Nov-2006 01:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To add to what Cornelius had, I have written a function that will take an array of numbers and return the least common multiple of them:<br />
<br />
function lcm_arr($items){<br />
&nbsp;&nbsp;&nbsp; //Input: An Array of numbers<br />
&nbsp;&nbsp;&nbsp; //Output: The LCM of the numbers<br />
&nbsp;&nbsp;&nbsp; while(2 &lt;= count($items)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array_push($items, lcm(array_shift($items), array_shift($items)));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return reset($items);<br />
}<br />
<br />
//His Code below with $'s added for vars<br />
<br />
function gcd($n, $m) {<br />
&nbsp;&nbsp; $n=abs($n); $m=abs($m);<br />
&nbsp;&nbsp; if ($n==0 and $m==0)<br />
&nbsp;&nbsp; &nbsp; &nbsp; return 1; //avoid infinite recursion<br />
&nbsp;&nbsp; if ($n==$m and $n&gt;=1)<br />
&nbsp;&nbsp; &nbsp; &nbsp; return $n;<br />
&nbsp;&nbsp; return $m&lt;$n?gcd($n-$m,$n):gcd($n,$m-$n);<br />
}<br />
<br />
function lcm($n, $m) {<br />
&nbsp;&nbsp; return $m * ($n/gcd($n,$m));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68262""></a>
  <div class="note">
   <strong class="user">edward at edwardsun dot com</strong>
   <a href="#68262" class="date">19-Jul-2006 06:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
well just a note.. maybe i'm a bit stupid.. but remember to use pow() rather than the "^" sign for exponents.. as it took me 5 minutes to figure out why it wasn't working.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67510""></a>
  <div class="note">
   <strong class="user">marasek.SPAMLESS at telton.de</strong>
   <a href="#67510" class="date">08-Jun-2006 05:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I could not resist to do a simpler version of the ordinal function:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$num </span><span class="keyword">= (int)</span><span class="default">$num</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$digit </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ord </span><span class="keyword">= </span><span class="string">"th"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">$digit</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">: </span><span class="default">$ord </span><span class="keyword">= </span><span class="string">"st"</span><span class="keyword">; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">: </span><span class="default">$ord </span><span class="keyword">= </span><span class="string">"nd"</span><span class="keyword">; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">3</span><span class="keyword">: </span><span class="default">$ord </span><span class="keyword">= </span><span class="string">"rd"</span><span class="keyword">; break;<br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }<br />
return </span><span class="default">$num</span><span class="keyword">.</span><span class="default">$ord</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>One could replace the typecast with<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">$num</span><span class="keyword">===</span><span class="default">NULL </span><span class="keyword">or </span><span class="default">$num</span><span class="keyword">===</span><span class="string">""</span><span class="keyword">)<br />
{return </span><span class="default">NULL</span><span class="keyword">;}<br />
</span><span class="default">?&gt;<br />
</span><br />
to get an empty result instead of "0th" in case $num is empty too.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="65923""></a>
  <div class="note">
   <strong class="user">moikboy (nospam!) moikboy (nospam!) hu</strong>
   <a href="#65923" class="date">10-May-2006 01:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think, this is the optimal code for calculating factorials:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">fact</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$int</span><span class="keyword">&lt;</span><span class="default">2</span><span class="keyword">)return </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$f</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">;</span><span class="default">$int</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">;</span><span class="default">$f</span><span class="keyword">*=</span><span class="default">$int</span><span class="keyword">--);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$f</span><span class="keyword">;<br />
};<br />
</span><span class="default">?&gt;<br />
</span><br />
And another one for calculating the $int-th Fibonacci-number:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">fib</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$fibTable</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; return empty(</span><span class="default">$fibTable</span><span class="keyword">[</span><span class="default">$int</span><span class="keyword">])?</span><span class="default">$fibTable</span><span class="keyword">[</span><span class="default">$int</span><span class="keyword">] = </span><span class="default">$int</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">?</span><span class="default">fib</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">-</span><span class="default">2</span><span class="keyword">)+</span><span class="default">fib</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">):</span><span class="default">1</span><span class="keyword">:</span><span class="default">$fibTable</span><span class="keyword">[</span><span class="default">$int</span><span class="keyword">];<br />
};<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62583""></a>
  <div class="note">
   <strong class="user">Florian</strong>
   <a href="#62583" class="date">03-Mar-2006 01:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A function that simulates the sum operator. (<a href="http://en.wikipedia.org/wiki/Sum" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Sum</a>). Be careful with the expression because it may cause a security hole; note the single quotes to don't parse the "$".<br />
<span class="default">&lt;?php<br />
</span><span class="comment"># @param&nbsp; &nbsp; string&nbsp; &nbsp; $expr&nbsp; &nbsp; expression to evaluate (for example (2*$x)^2+1)<br />
# @param&nbsp; &nbsp; string&nbsp; &nbsp; $var&nbsp; &nbsp; &nbsp; dummy variable (for example "x")<br />
# @param&nbsp; &nbsp; integer&nbsp; &nbsp; $start<br />
# @param&nbsp; &nbsp; integer&nbsp; &nbsp; $end<br />
# @param&nbsp; &nbsp; integer&nbsp; &nbsp; $step<br />
<br />
</span><span class="keyword">function </span><span class="default">sum</span><span class="keyword">(</span><span class="default">$expr</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">,</span><span class="default">$step </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$expr </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">';'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$expr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'$'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= (int)</span><span class="default">$start</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= (int)</span><span class="default">$end</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$step </span><span class="keyword">= (int)</span><span class="default">$step</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$sum </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$end</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">+ </span><span class="default">$step</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_expr </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'$'</span><span class="keyword">.</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$expr</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_eval </span><span class="keyword">= </span><span class="string">'$_result = '</span><span class="keyword">.</span><span class="default">$_expr</span><span class="keyword">.</span><span class="string">'; return $_result;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_result </span><span class="keyword">= eval(</span><span class="default">$_eval</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$result </span><span class="keyword">=== </span><span class="default">FALSE</span><span class="keyword">) return </span><span class="string">"SYNTAX ERROR : </span><span class="default">$expr</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sum </span><span class="keyword">+= </span><span class="default">$_result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return (int)</span><span class="default">$sum</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61377""></a>
  <div class="note">
   <strong class="user">peter-stangl at t-online dot de</strong>
   <a href="#61377" class="date">01-Feb-2006 03:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed to approximate an integral because i was not able to calculate it, so i wrote this function. It approximates an integral with the composite Simpson's rule.<br />
More information on Simpson's rule: <a href="http://en.wikipedia.org/wiki/Simpson%27s_rule" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Simpson%27s_rule</a><br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">){<br />
</span><span class="comment">// returns f(x) for integral approximation with composite Simpson's rule<br />
&nbsp;&nbsp; </span><span class="keyword">return(</span><span class="default">pow</span><span class="keyword">((</span><span class="default">1</span><span class="keyword">+</span><span class="default">pow</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, (-</span><span class="default">4</span><span class="keyword">))), </span><span class="default">0.5</span><span class="keyword">));<br />
}<br />
function </span><span class="default">simpsonsrule</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">){<br />
</span><span class="comment">// approximates integral_a_b f(x) dx with composite Simpson's rule with $n intervals<br />
// $n has to be an even number<br />
// f(x) is defined in "function simpsonf($x)"<br />
&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$n</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$h</span><span class="keyword">=(</span><span class="default">$b</span><span class="keyword">-</span><span class="default">$a</span><span class="keyword">)/</span><span class="default">$n</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$S</span><span class="keyword">=</span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)+</span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; while(</span><span class="default">$i </span><span class="keyword">&lt;= (</span><span class="default">$n</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$xi</span><span class="keyword">=</span><span class="default">$a</span><span class="keyword">+</span><span class="default">$h</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$i</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$S</span><span class="keyword">=</span><span class="default">$S</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">*</span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$xi</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$S</span><span class="keyword">=</span><span class="default">$S</span><span class="keyword">+</span><span class="default">4</span><span class="keyword">*</span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$xi</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; return(</span><span class="default">$h</span><span class="keyword">/</span><span class="default">3</span><span class="keyword">*</span><span class="default">$S</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp;&nbsp; return(</span><span class="string">'$n has to be an even number'</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59282""></a>
  <div class="note">
   <strong class="user">daniel at g-loc dot org</strong>
   <a href="#59282" class="date">01-Dec-2005 10:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're an aviator and needs to calculate windcorrection angles and groundspeed (e.g. during flightplanning) this can be very useful.
<br />

<br />
$windcorrection = rad2deg(asin((($windspeed * (sin(deg2rad($tt - ($winddirection-180))))/$tas))));
<br />
$groundspeed = $tas*cos(deg2rad($windcorrection)) + $windspeed*cos(deg2rad($tt-($winddirection-180)));
<br />

<br />
You can probably write these lines more beautiful, but they work!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57895""></a>
  <div class="note">
   <strong class="user">monte at ohrt dot com</strong>
   <a href="#57895" class="date">18-Oct-2005 06:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is an efficient method of calculating the binomial coefficient C(n,k). This code was derived from Owant: Mastering Algorithms with Perl.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; </span><span class="comment">// calculate binomial coefficient<br />
&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">binomial_coeff</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$j </span><span class="keyword">= </span><span class="default">$res </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">$k </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">|| </span><span class="default">$k </span><span class="keyword">&gt; </span><span class="default">$n</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; if((</span><span class="default">$n </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">) &lt; </span><span class="default">$k</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; while(</span><span class="default">$j </span><span class="keyword">&lt;= </span><span class="default">$k</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">*= </span><span class="default">$n</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">/= </span><span class="default">$j</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$res</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
If you compiled php with --enable-bcmath, you can get full integer values of extremely large numbers by replacing:<br />
<br />
$res *= $n--;<br />
$res /= $j++;<br />
<br />
with:<br />
<br />
$res = bcmul($res, $n--);<br />
$res = bcdiv($res, $j++);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55168""></a>
  <div class="note">
   <strong class="user">bjcffnet at gmail dot com</strong>
   <a href="#55168" class="date">26-Jul-2005 04:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
thearbitcouncil at gmail dot com, you could just use array_sum():<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">average</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; return </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)/</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="default">5</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">);<br />
echo </span><span class="default">average</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// 10<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50149""></a>
  <div class="note">
   <strong class="user">tmpa at yahoo dot com</strong>
   <a href="#50149" class="date">19-Feb-2005 12:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
while joogat's one line function is short, it is probably better to calculate factorial iteratively instead of recursively. keep in mind if you want large factorials, you'll need to use some sort of arbitrary precision integer or perhaps the BCMath functions. then again, unless you're trying to do large numbers (170! is the highest that you can do that does not return infinity) you probably won't notice any time difference.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">factorial</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// 0! = 1! = 1<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Only if $in is &gt;= 2<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$in</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">*= </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48783""></a>
  <div class="note">
   <strong class="user">thearbitcouncil at gmail dot com</strong>
   <a href="#48783" class="date">06-Jan-2005 02:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Two functions I didn't find elsewhere... one to compute mean of an array of numbers, and another to computer variance of a sample of numbers. Both take an array of numbers as arguments. Not much error checking, or optimization...<br />
<br />
(note: variance function uses the average function...)<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">average</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) return </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sum </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sum </span><span class="keyword">+= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$sum </span><span class="keyword">/ </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">variance</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) return </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mean </span><span class="keyword">= </span><span class="default">average</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// Sum of squares<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sos </span><span class="keyword">+= (</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] - </span><span class="default">$mean</span><span class="keyword">) * (</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] - </span><span class="default">$mean</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$sos </span><span class="keyword">/ (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);&nbsp; </span><span class="comment">// denominator = n-1; i.e. estimating based on sample <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // n-1 is also what MS Excel takes by default in the<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // VAR function<br />
</span><span class="keyword">}<br />
<br />
echo </span><span class="default">variance</span><span class="keyword">(array(</span><span class="default">4</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">23</span><span class="keyword">,</span><span class="default">15</span><span class="keyword">,</span><span class="default">18</span><span class="keyword">)); </span><span class="comment">// echoes 64.7...correct value :)<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47469""></a>
  <div class="note">
   <strong class="user">info at gavinvincent dot co dot uk</strong>
   <a href="#47469" class="date">17-Nov-2004 04:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to deal with polar co-ordinates for somereason you will need to convert to and from x,y for input and output in most situations: here are some functions to convert cartesian to polar and polar to cartesian<br />
&lt;?<br />
//returns array of r, theta in the range of 0-2*pi (in radians)<br />
function rect2polar($x,$y)<br />
{<br />
&nbsp;&nbsp; &nbsp; if(is_numeric($x)&amp;&amp;is_numeric($y))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $r=sqrt(pow($x,2)+pow($y,2));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($x==0)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($y&gt;0) $theta=pi()/2;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else $theta=3*pi()/2;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if($x&lt;0) $theta=atan($y/$x)+pi();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if($y&lt;0) $theta=atan($y/$x)+2*pi();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else $theta=atan($y/$x);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $polar=array("r"=&gt;$r,"theta"=&gt;$theta);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $polar;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else return false;<br />
}<br />
<br />
//r must be in radians, returns array of x,y<br />
function polar2rect($r,$theta)<br />
{<br />
&nbsp;if(is_numeric($r)&amp;&amp;is_numeric($theta))<br />
&nbsp;{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $x=$r*cos($theta);<br />
&nbsp;&nbsp;&nbsp; $y=$r*sin($theta);<br />
&nbsp;&nbsp;&nbsp; $rect=array("x"=&gt;$x,"y"=&gt;$y);<br />
&nbsp;}<br />
&nbsp;else<br />
&nbsp;{<br />
&nbsp;&nbsp; return false;<br />
&nbsp;}<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45985""></a>
  <div class="note">
   <strong class="user">help at gjbdesign dot com</strong>
   <a href="#45985" class="date">25-Sep-2004 09:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Occasionally a user must enter a number in a form. This function converts fractions to decimals and leaves decimals untouched. Of course, you may wish to round the final output, but that is not included here.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*Some example values of $q<br />
$q = "2.5";<br />
$q = "2 1/2";<br />
$q = "5/2";<br />
*/<br />
</span><span class="keyword">function </span><span class="default">Deci_Con</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">){<br />
</span><span class="comment">//check for a space, signifying a whole number with a fraction<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$wa </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$wb </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$wa</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$whole </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;</span><span class="comment">//this is a whole number<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
</span><span class="comment">//now check the fraction part<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$whole</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">){</span><span class="comment">//if whole number, then remove the whole number and space from the calculations<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$q </span><span class="keyword">= </span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">));</span><span class="comment">//this is the divisor<br />
//isolate the numerator<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">);<br />
</span><span class="default">$d </span><span class="keyword">= </span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);<br />
</span><span class="default">$e </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">);<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$e</span><span class="keyword">);</span><span class="comment">//the pre-final numerator<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$whole</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">){</span><span class="comment">//add the whole number to the calculations<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">+(</span><span class="default">$wb</span><span class="keyword">*</span><span class="default">$b</span><span class="keyword">);</span><span class="comment">//new numerator is whole number multiplied by denominator plus original numerator&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
</span><span class="default">$q </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">/</span><span class="default">$b</span><span class="keyword">;</span><span class="comment">//this is now your decimal<br />
</span><span class="keyword">return </span><span class="default">$q</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$q</span><span class="keyword">;</span><span class="comment">//not a fraction, just return the decimal<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43073""></a>
  <div class="note">
   <strong class="user">pat.mat AT sympatico DOT com</strong>
   <a href="#43073" class="date">08-Jun-2004 07:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For people interest in Differential Equations, I've done a function that receive a string like: x^2+x^3 and put it in<br />
2x+3x^2 witch is the differantial of the previous equation.<br />
<br />
In the code there is one thing missing: the $string{$i} is often going outOfBound (Uninitialized string offset: 6 in...)<br />
if your error setting is set a little too high... I just dont know how to fix this.<br />
<br />
So there is the code for differential equation with (+ and -) only:<br />
<br />
&lt;?<br />
function differentiel($equa)<br />
{<br />
&nbsp;&nbsp;&nbsp; $equa = strtolower($equa);<br />
&nbsp;&nbsp;&nbsp; echo "Equation de depart: ".$equa."&lt;br&gt;";<br />
&nbsp;&nbsp;&nbsp; $final = ""; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for($i = 0; $i &lt; strlen($equa); $i++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //Make a new string from the receive $equa<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($equa{$i} == "x" &amp;&amp; $equa{$i+1} == "^")<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $final .= $equa{$i+2};<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $final .= "x^";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $final .= $equa{$i+2}-1;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif($equa{$i} == "+" || $equa{$i} == "-")<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $final .= $equa{$i};<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(is_numeric($equa{$i}) &amp;&amp; $i == 0)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //gerer parenthese et autre terme generaux + gerer ^apres: 2^2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $final .= $equa{$i}."*";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(is_numeric($equa{$i}) &amp;&amp; $i &gt; 0 &amp;&amp; $equa{$i-1} != "^")<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //gerer ^apres: 2^2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $final .= $equa{$i}."*";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif($equa{$i} == "^")<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(is_numeric($equa{$i}) &amp;&amp; $equa{$i-1} == "^")<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($equa{$i} == "x")<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $final .= 1;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $final .= $equa{$i}; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; //<br />
&nbsp;&nbsp;&nbsp; //Manage multiplication add in the previous string $final<br />
&nbsp;&nbsp;&nbsp; //<br />
&nbsp;&nbsp;&nbsp; $finalMul = "";<br />
&nbsp;&nbsp;&nbsp; for($i = 0; $i &lt; strlen($final); $i++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_numeric($final{$i}) &amp;&amp; $final{$i+1} == "*" &amp;&amp; is_numeric($final{$i+2}))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $finalMul .= $final{$i}*$final{$i+2};<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif($final{$i} == "*")<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(is_numeric($final{$i}) &amp;&amp; $final{$i+1} != "*" &amp;&amp; $final{$i-1} == "*")<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $finalMul .= $final{$i};&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; echo "equa final: ".$finalMul;<br />
}<br />
?&gt;<br />
<br />
I know this is not optimal but i've done this quick :)<br />
If you guys have any comment just email me.<br />
I also want to do this fonction In C to add to phpCore maybe soon...<br />
Patoff</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42003""></a>
  <div class="note">
   <strong class="user">florian at shellfire dot de</strong>
   <a href="#42003" class="date">28-Apr-2004 02:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that shorter is not always better
<br />
(meaning that really short faculty implementation above).
<br />

<br />
In my opinion, a clearer way to code this is, including a check
<br />
for negative or non-integer values.
<br />

<br />
In order to calculate the faculty of a positive integer,
<br />
an iterative way (which might be harder to understand)
<br />
is usually a bit faster, but I am using it only for small
<br />
values so it is not really important to me:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Calculate the Faculty of a positive int-value
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iFac</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$a_iFac </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp;&nbsp; { 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$a_iFac </span><span class="keyword">* </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iFac </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; elseif (</span><span class="default">$a_iFac </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp;&nbsp; { 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">0</span><span class="keyword">;&nbsp; </span><span class="comment">// Wrong argument!
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">}
<br />
&nbsp;&nbsp;&nbsp; } 
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
I've also written another function to calculate the
<br />
binomial coefficient of 2 values, I didn't find it anywhere yet so I hope it might help someone (works fine with the above stated faculty-function and ready to be used inside of your own classes!)
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// calculates the binomial coefficient "n over k" of 2 positive int values
<br />
&nbsp;&nbsp;&nbsp; // for n &gt;= k
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">iBinCoeff</span><span class="keyword">(</span><span class="default">$a_iN</span><span class="keyword">, </span><span class="default">$a_iK</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// the binomial coefficient is defined as n! / [ (n-k)! * k! ]
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iN</span><span class="keyword">) / (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iN </span><span class="keyword">- </span><span class="default">$a_iK</span><span class="keyword">) * </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iK</span><span class="keyword">));&nbsp; &nbsp; 
<br />
&nbsp;&nbsp;&nbsp; } 
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38970""></a>
  <div class="note">
   <strong class="user">Chronial &quot;at&quot; cyberpunkuniverse.de</strong>
   <a href="#38970" class="date">13-Jan-2004 01:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are are a nPr and a nPc function<br />
(had to define NaN - don't know, how to this the "rigth" way)<br />
<br />
<span class="default">&lt;?php<br />
define </span><span class="keyword">(</span><span class="default">NaN</span><span class="keyword">,</span><span class="default">acos</span><span class="keyword">(</span><span class="default">1.01</span><span class="keyword">));<br />
<br />
function </span><span class="default">nCr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">){<br />
&nbsp;&nbsp; if (</span><span class="default">$r </span><span class="keyword">&gt; </span><span class="default">$n</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">NaN</span><span class="keyword">;<br />
&nbsp;&nbsp; if ((</span><span class="default">$n</span><span class="keyword">-</span><span class="default">$r</span><span class="keyword">) &lt; </span><span class="default">$r</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">nCr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,(</span><span class="default">$n</span><span class="keyword">-</span><span class="default">$r</span><span class="keyword">));<br />
&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$r</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">*= (</span><span class="default">$n</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">)/(</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">nPr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">){<br />
&nbsp;&nbsp; if (</span><span class="default">$r </span><span class="keyword">&gt; </span><span class="default">$n</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">NaN</span><span class="keyword">;<br />
&nbsp;&nbsp; if (</span><span class="default">$r</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$n</span><span class="keyword">*(</span><span class="default">nPr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">1</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36321""></a>
  <div class="note">
   <strong class="user">jl85 at yahoo dot com</strong>
   <a href="#36321" class="date">05-Oct-2003 04:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's yet another greatest common denominator (gcd) function, a reeeeally small one.<br />
<br />
function gcd($n,$m){<br />
if(!$m)return$n;return gcd($m,$n%$m);<br />
}<br />
<br />
It works by recursion. Not really sure about it's speed, but it's really small! This won't work on floating point numbers accurately though. If you want a floating point one, you need to have at least PHP 4, and the code would be<br />
<br />
function gcd($n,$m){<br />
if(!$m)return$n;return gcd($m,fmod($n,$m));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36201""></a>
  <div class="note">
   <strong class="user">fabien_mornand at yahoo dot fr</strong>
   <a href="#36201" class="date">30-Sep-2003 03:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here is an algorithm to calculate gcd of a number. This is Euclid algorithm i was studying in Maths. I've converted it in php for the fun.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="keyword">if(</span><span class="default">$a </span><span class="keyword">&amp;&amp; </span><span class="default">$b</span><span class="keyword">)<br />
&nbsp; { </span><span class="default">$ax</span><span class="keyword">=</span><span class="default">$a</span><span class="keyword">; </span><span class="default">$bx</span><span class="keyword">=</span><span class="default">$b</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$r</span><span class="keyword">=</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">);<br />
&nbsp; if(!</span><span class="default">$r</span><span class="keyword">){</span><span class="default">$rx</span><span class="keyword">=</span><span class="default">$r</span><span class="keyword">;}<br />
&nbsp;&nbsp; while(</span><span class="default">$r</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rx</span><span class="keyword">=</span><span class="default">$r</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">=</span><span class="default">$b</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b</span><span class="keyword">=</span><span class="default">$r</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r</span><span class="keyword">=</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; }<br />
echo </span><span class="string">'PGCD ('</span><span class="keyword">.</span><span class="default">$ax</span><span class="keyword">.</span><span class="string">' , '</span><span class="keyword">.</span><span class="default">$bx</span><span class="keyword">.</span><span class="string">' ) = '</span><span class="keyword">.</span><span class="default">$rx</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35318""></a>
  <div class="note">
   <strong class="user">jordanolsommer at imap dot cc</strong>
   <a href="#35318" class="date">27-Aug-2003 08:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The reason the bitwise AND ("&amp;") operator works to determine whether a number is odd or even is because odd numbers expressed in binary always have the rightmost (2^0) bit = 1 and even numbers always have the 2^0 bit = 0. <br />
<br />
So if you do a " 1 &amp; $num", it will return zero if the number is even (since xxxxxxx0 [the even number in binary] and 00000001 [the 1]) don't share any bits, and will return 1 if the number is odd (xxxxxx1 and 000001).<br />
<br />
a clever way of doing things, but $num % 2 would work as well i think :).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31295""></a>
  <div class="note">
   <strong class="user">jerry dot wilborn at fast dot net</strong>
   <a href="#31295" class="date">16-Apr-2003 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is how to calculate standard deviation in PHP where $samples is an array of incrementing numeric keys and the values are your samples:<br />
<br />
$sample_count = count($samples);<br />
<br />
for ($current_sample = 0; $sample_count &gt; $current_sample; ++$current_sample) $sample_square[$current_sample] = pow($samples[$current_sample], 2);<br />
<br />
$standard_deviation = sqrt(array_sum($sample_square) / $sample_count - pow((array_sum($samples) / $sample_count), 2));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29709""></a>
  <div class="note">
   <strong class="user">jl85 at yahoo dot com</strong>
   <a href="#29709" class="date">22-Feb-2003 08:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Theres another faster way of doing even/odd number checking by using bitwise operators. Don't ask me how it works, I just found this out by experimenting with it (could the editor possibly explain?)<br />
<br />
if ((1&amp;$num)) {<br />
&nbsp;echo "$num is odd";<br />
}<br />
<br />
if (!(1&amp;$num)) {<br />
&nbsp;echo "$num is even";<br />
}<br />
<br />
How it works is (1&amp;$num) returns a 1 for odd numbers and returns 0 when it's an even number.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27498""></a>
  <div class="note">
   <strong class="user">nazgul26 (at_sign) windfox dot net</strong>
   <a href="#27498" class="date">08-Dec-2002 02:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This code will convert a decimal to it's fraction equivalent. The precision can be set by changing PRECISION.
<br />

<br />
<span class="default">&lt;?php
<br />
define</span><span class="keyword">(</span><span class="default">PRECISION</span><span class="keyword">, </span><span class="default">.01</span><span class="keyword">);
<br />

<br />
</span><span class="default">$count</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br />
</span><span class="default">$result</span><span class="keyword">=array();
<br />
</span><span class="default">decimalToFraction</span><span class="keyword">(</span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'dec'</span><span class="keyword">],</span><span class="default">$count</span><span class="keyword">,&amp;</span><span class="default">$result</span><span class="keyword">);
<br />
</span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);
<br />
</span><span class="default">$simp_fract </span><span class="keyword">= </span><span class="default">simplifyFraction</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$result</span><span class="keyword">[</span><span class="default">$count</span><span class="keyword">]);
<br />

<br />
echo </span><span class="default">$simpl_fract</span><span class="keyword">;
<br />

<br />
</span><span class="comment">// Start of functions
<br />

<br />
/*
<br />
&nbsp;&nbsp; Converts a decimal to unsimplified fraction represented in an array
<br />
*/
<br />
</span><span class="keyword">function </span><span class="default">decimalToFraction</span><span class="keyword">(</span><span class="default">$decimal</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">$result</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= (</span><span class="default">1</span><span class="keyword">/</span><span class="default">$decimal</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= ( </span><span class="default">$a </span><span class="keyword">- </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)&nbsp; );
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">++;
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$b </span><span class="keyword">&gt; </span><span class="default">.01 </span><span class="keyword">&amp;&amp; </span><span class="default">$count </span><span class="keyword">&lt;= </span><span class="default">5</span><span class="keyword">) </span><span class="default">decimalToFraction</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,&amp;</span><span class="default">$result</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$count</span><span class="keyword">] = </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);
<br />
}
<br />

<br />
</span><span class="comment">/* 
<br />
&nbsp;&nbsp;&nbsp; Simplifies a fraction in an array form that is returned from&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; decimalToFraction
<br />
*/
<br />
</span><span class="keyword">function </span><span class="default">simplifyFraction</span><span class="keyword">(</span><span class="default">$fraction</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">$top</span><span class="keyword">,</span><span class="default">$bottom</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$next </span><span class="keyword">= </span><span class="default">$fraction</span><span class="keyword">[</span><span class="default">$count</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">];
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= (</span><span class="default">$bottom </span><span class="keyword">* </span><span class="default">$next</span><span class="keyword">) + </span><span class="default">$top</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$top </span><span class="keyword">= </span><span class="default">$bottom</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bottom </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">--;
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">simplifyFraction</span><span class="keyword">(</span><span class="default">$fraction</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">$top</span><span class="keyword">,</span><span class="default">$bottom</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"&lt;font size=1&gt;</span><span class="default">$bottom</span><span class="string">/</span><span class="default">$top</span><span class="string">&lt;/font&gt;"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="26680""></a>
  <div class="note">
   <strong class="user">jbeardsl [found_at] gte [d0t] net</strong>
   <a href="#26680" class="date">08-Nov-2002 01:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was looking for a truncate function. Not finding one, I wrote my own. Since it deals with everything as a number, I imagine it's faster than the alternative of using string functions. HTH...
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">truncate </span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">$digits </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//provide the real number, and the number of 
<br />
&nbsp;&nbsp;&nbsp; //digits right of the decimal you want to keep.
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$shift </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">$digits</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; return ((</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$num </span><span class="keyword">* </span><span class="default">$shift</span><span class="keyword">)) / </span><span class="default">$shift</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24052""></a>
  <div class="note">
   <strong class="user">patience at worldonline dot nl</strong>
   <a href="#24052" class="date">05-Aug-2002 09:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The example for Factorials given above is wrong. Here a correct version, so that you do not have to reinvent the wheel again...
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">mathFact</span><span class="keyword">( </span><span class="default">$s </span><span class="keyword">)
<br />
{
<br />
&nbsp; </span><span class="default">$r </span><span class="keyword">= (int) </span><span class="default">$s</span><span class="keyword">;
<br />

<br />
&nbsp; if ( </span><span class="default">$r </span><span class="keyword">&lt; </span><span class="default">2 </span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp; else {
<br />
&nbsp;&nbsp;&nbsp; for ( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$r</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">-- )
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">$r </span><span class="keyword">* </span><span class="default">$i</span><span class="keyword">;
<br />
&nbsp; }
<br />

<br />
&nbsp; return( </span><span class="default">$r </span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21947""></a>
  <div class="note">
   <strong class="user">webkid%webkid.com</strong>
   <a href="#21947" class="date">31-May-2002 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
And the reason I needed a Factorial function is because I there were no nPr or nCr functions native to PHP, either.<br />
<br />
function n_pick_r($n,$r){$n=(int)$n; $r=(int)$r;return (fact($n)/fact($n-$r));}<br />
function n_choose_r($n,$r){$n=(int)$n; $r=(int)$r;return (n_pick_r($n,$r)/fact($r));}<br />
<br />
Hope that helps someone!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="11400""></a>
  <div class="note">
   <strong class="user">ian at mp3 dot com</strong>
   <a href="#11400" class="date">19-Feb-2001 03:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for those looking for a credit card verification function i wrote a simple LUHN Formula algorithm:
<br />

<br />
<span class="default">&lt;?php
<br />
$valid </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br />

<br />
</span><span class="default">$numOfDigits </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$ccNumber</span><span class="keyword">);
<br />

<br />
</span><span class="default">$i </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">;
<br />
while (</span><span class="default">$i</span><span class="keyword">&gt;=</span><span class="default">$numOfDigits</span><span class="keyword">){
<br />
&nbsp; if ((</span><span class="default">$i </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) == </span><span class="default">0</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$double </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">*(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$ccNumber</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$total </span><span class="keyword">+= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$double</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$double </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">)){
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$total </span><span class="keyword">+= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$double</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp; } else {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$total </span><span class="keyword">+= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$ccNumber</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br />
&nbsp; }
<br />
&nbsp; </span><span class="default">$i</span><span class="keyword">--;
<br />
}
<br />

<br />
if ((</span><span class="default">$total </span><span class="keyword">% </span><span class="default">10</span><span class="keyword">) != </span><span class="default">0</span><span class="keyword">){
<br />
&nbsp; </span><span class="default">$valid </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
