<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>使用回调函数过滤数组的元素</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.array-fill.html">? array_fill</a></li>
      <li style="float: right;"><a href="function.array-flip.html">array_flip ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>使用回调函数过滤数组的元素</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.array-filter" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_filter</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">array_filter</span> &mdash; <span class="dc-title">使用回调函数过滤数组的元素</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.array-filter-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>array_filter</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>
   , <span class="methodparam"><span class="type"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>|<span class="type">null</span></span> <code class="parameter">$callback</code><span class="initializer"> = <strong><code>null</code></strong></span></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = 0</span></span>
   ) : <span class="type">array</span></div>

  <p class="para rdfs-comment">
   遍历 <code class="parameter">array</code> 数组中的每个值，并将每个值传递给 <code class="parameter">callback</code> 回调函数。
   如果 <code class="parameter">callback</code> 回调函数返回 <strong><code>true</code></strong>，则将 <code class="parameter">array</code> 数组中的当前值返回到结果 <span class="type">array</span> 数组中。
  </p>
  <p class="para">
   返回结果 <span class="type">array</span> 数组的键名（下标）会维持不变，如果 <code class="parameter">array</code> 参数是索引数组，返回的结果 <span class="type">array</span> 数组键名（下标）可能会不连续。
   可以使用 <span class="function"><a href="function.array-values.html" class="function">array_values()</a></span> 函数对数组重新索引。
  </p>
</div>


 <div class="refsect1 parameters" id="refsect1-function.array-filter-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>


    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       要遍历的数组
      </p>
     </dd>

    

    
     <dt>
<code class="parameter">callback</code></dt>

     <dd>

      <p class="para">
       使用的回调函数
      </p>
      <p class="para">
       如果没有提供 <code class="parameter">callback</code> 回调函数，将删除数组中 <code class="parameter">array</code> 的所有"空"元素。
       有关 PHP 如何判定"空"元素，请参阅 <span class="function"><a href="function.empty.html" class="function">empty()</a></span> 。
      </p>
     </dd>

    

    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
       决定哪些参数发送到 <code class="parameter">callback</code> 回调的标志：
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara"><strong><code>ARRAY_FILTER_USE_KEY</code></strong> - 将键名作为 <code class="parameter">callback</code> 回调的唯一参数，而不是值</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>ARRAY_FILTER_USE_BOTH</code></strong> - 将值和键都作为参数传递给 <code class="parameter">callback</code> 回调，而不是仅传递值</span>
        </li>
       </ul>
       默认值为 <code class="literal">0</code> ，只传递值作为 <code class="parameter">callback</code> 回调的唯一参数。
      </p>
     </dd>

    

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-filter-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回过滤后的数组。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.array-filter-changelog">
  <h3 class="title">更新日志</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>版本</th>
      <th>说明</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="parameter">callback</code> 回调现在可以为空（nullable）。
      </td>
     </tr>

     <tr>
      <td>5.6.0</td>
      <td>
       添加可选的 <code class="parameter">mode</code> 标志和常量（
       <strong><code>ARRAY_FILTER_USE_KEY</code></strong> 和
       <strong><code>ARRAY_FILTER_USE_BOTH</code></strong> ）
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>




 <div class="refsect1 examples" id="refsect1-function.array-filter-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5254">
    <p><strong>Example #1 <span class="function"><strong>array_filter()</strong></span> 示例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">odd</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;返回输入整数是否为奇数（单数）<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br />function&nbsp;</span><span style="color: #0000BB">even</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;返回输入整数是否为偶数<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;!(</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">$array1&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'d'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'e'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">6</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">];<br />echo&nbsp;</span><span style="color: #DD0000">"Odd&nbsp;:\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"odd"</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">"Even:\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"even"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Odd :
Array
(
    [a] =&gt; 1
    [c] =&gt; 3
    [e] =&gt; 5
)
Even:
Array
(
    [0] =&gt; 6
    [2] =&gt; 8
    [4] =&gt; 10
    [6] =&gt; 12
)
</pre></div>
    </div>
   </div>
   <div class="example" id="example-5255">
    <p><strong>Example #2 <span class="function"><strong>array_filter()</strong></span> 不使用 <code class="parameter">callback</code> 参数时</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$entry&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'0'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">6&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,<br />];<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$entry</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; foo
    [2] =&gt; -1
)
</pre></div>
    </div>
   </div>
   <div class="example" id="example-5256">
    <p><strong>Example #3 <span class="function"><strong>array_filter()</strong></span> 不使用 <code class="parameter">mode</code> 参数时</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$arr&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'d'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$k</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$k&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br />},&nbsp;</span><span style="color: #0000BB">ARRAY_FILTER_USE_KEY</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$v</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$k&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'b'&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$v&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />},&nbsp;</span><span style="color: #0000BB">ARRAY_FILTER_USE_BOTH</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(1) {
  [&quot;b&quot;]=&gt;
  int(2)
}
array(2) {
  [&quot;b&quot;]=&gt;
  int(2)
  [&quot;d&quot;]=&gt;
  int(4)
}
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.array-filter-notes">
  <h3 class="title">注释</h3>
  <div class="caution"><strong class="caution">Caution</strong>
   <p class="para">
    不应该在回调函数中改变数组（如：添加、删除或销毁"unset"当前数组和里面的元素），否则此函数的行为将不可预测。
   </p>
  </div>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.array-filter-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-map.html" class="function" rel="rdfs-seeAlso">array_map()</a> - 为数组的每个元素应用回调函数</span></li>
    <li class="member"><span class="function"><a href="function.array-reduce.html" class="function" rel="rdfs-seeAlso">array_reduce()</a> - 用回调函数迭代地将数组简化为单一的值</span></li>
    <li class="member"><span class="function"><a href="function.array-walk.html" class="function" rel="rdfs-seeAlso">array_walk()</a> - 使用用户自定义函数对数组中的每个元素做回调处理</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="125586""></a>
  <div class="note">
   <strong class="user">stef at gigamedium dot com</strong>
   <a href="#125586" class="date">09-Dec-2020 12:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To filter out empty arrays, put the arrays you need filtering in an array and pass through array_filter.<br />
<br />
$array1 = [5, 6];<br />
$array2 = [];<br />
$array3 = [7,9];<br />
<br />
$array = array_filter(array($array1, $array2, $array3));<br />
<br />
print_r($array)<br />
<br />
Results in:<br />
Array (<br />
&nbsp; [5,6] , [7,9]<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125388""></a>
  <div class="note">
   <strong class="user">Al Amin Chayan (mail at chayan dot me)</strong>
   <a href="#125388" class="date">22-Sep-2020 05:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/**<br />
&nbsp;&nbsp; * Remove key from multidimensional array<br />
&nbsp;&nbsp; *<br />
&nbsp;&nbsp; * @param array $request<br />
&nbsp;&nbsp; * @param array $keys<br />
&nbsp;&nbsp; *<br />
&nbsp;&nbsp; * @return array<br />
&nbsp;&nbsp; */<br />
function request_filter(array $request, array $keys) {<br />
&nbsp;&nbsp;&nbsp; array_walk($request, function (&amp;$value, $key) use ($keys) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_array($value)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $value = request_filter($value, $keys);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; });<br />
<br />
&nbsp;&nbsp;&nbsp; return array_filter ($request, function ($value, $key) use ($keys) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ! in_array($key, $keys);<br />
&nbsp;&nbsp;&nbsp; }, ARRAY_FILTER_USE_BOTH);<br />
}<br />
<br />
$data = [<br />
&nbsp; 'a' =&gt; 'A',<br />
&nbsp; 'password' =&gt; 123,<br />
&nbsp; 'data' =&gt; [<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'b' =&gt; 'B',<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'data2' =&gt; [<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'c' =&gt; 'C',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'password' =&gt; 545,<br />
&nbsp;&nbsp;&nbsp; ],<br />
&nbsp;&nbsp;&nbsp; 'password' =&gt; 321,<br />
&nbsp; ]<br />
];<br />
<br />
print_r(request_filter($data, ['password']));<br />
<br />
Output will be:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; A<br />
&nbsp;&nbsp;&nbsp; [data] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [b] =&gt; B<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [data2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [c] =&gt; C<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120940""></a>
  <div class="note">
   <strong class="user">nicolaj dot knudsen at gmail dot com</strong>
   <a href="#120940" class="date">05-Apr-2017 12:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you like me have some trouble understanding example #1 due to the bitwise operator (&amp;) used, here is an explanation.<br />
<br />
The part in question is this callback function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">odd</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// returns whether the input integer is odd<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return(</span><span class="default">$var </span><span class="keyword">&amp; </span><span class="default">1</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
If given an integer this function returns the integer 1 if $var is odd and the integer 0 if $var is even.<br />
The single ampersand, &amp;, is the bitwise AND operator. The way it works is that it takes the binary representation of the two arguments and compare them bit for bit using AND. If $var = 45, then since 45 in binary is 101101 the operation looks like this:<br />
<br />
45 in binary: 101101<br />
1 in binary:&nbsp; 000001<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ------<br />
result:&nbsp; &nbsp; &nbsp;&nbsp; 000001<br />
<br />
Only if the last bit in the binary representation of $var is changed to zero (meaning that the value is even) will the result change to 000000, which is the representation of zero.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117196""></a>
  <div class="note">
   <strong class="user">njt1982 at yahoo dot com</strong>
   <a href="#117196" class="date">30-Apr-2015 01:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have an array of KV pairs and you want all the items where a value is X, you dont need to make a callback for array_filter. You can use array_intersect:<br />
<br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">(</span><span class="default">array_intersect</span><span class="keyword">(<br />
&nbsp; array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'d' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'e' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'f' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">,<br />
&nbsp; ),<br />
&nbsp; array(</span><span class="default">1</span><span class="keyword">)<br />
));<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [</span><span class="default">a</span><span class="keyword">] =&gt; </span><span class="default">1<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">b</span><span class="keyword">] =&gt; </span><span class="default">1<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">c</span><span class="keyword">] =&gt; </span><span class="default">1<br />
</span><span class="keyword">)<br />
</span><span class="default">?&gt;<br />
</span><br />
The advantage of this approach is you can pass variables into the second array without needing to worry about variable scope and function parameters for array_filter.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116478""></a>
  <div class="note">
   <strong class="user">iancudanielc () gmail ! com</strong>
   <a href="#116478" class="date">09-Jan-2015 08:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to pass the key to the callback function before PHP 5.6.0 (when the flag parameter wasn't implemented):<br />
<br />
<span class="default">&lt;?php<br />
<br />
$result </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">), </span><span class="string">'is_int'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115777""></a>
  <div class="note">
   <strong class="user">manwe at inversion dot pl</strong>
   <a href="#115777" class="date">21-Sep-2014 12:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_filter remove also FALSE and 0. To remove only NULL's use:<br />
<br />
$af = [1, 0, 2, null, 3, 6, 7];<br />
<br />
function is_not_null($val){<br />
&nbsp;&nbsp;&nbsp; return !is_null($val);<br />
}<br />
$af = array_filter($af, 'is_not_null');</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114931""></a>
  <div class="note">
   <strong class="user">marc dot gray at gmail dot com</strong>
   <a href="#114931" class="date">29-Apr-2014 10:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My favourite use of this function is converting a string to an array, trimming each line and removing empty lines:<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'trim'</span><span class="keyword">, </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">)), </span><span class="string">'strlen'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Although it states clearly that array keys are preserved, it's important to note this includes numerically indexed arrays. You can't use a for loop on $array above without processing it through array_values() first.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113603""></a>
  <div class="note">
   <strong class="user">avl</strong>
   <a href="#113603" class="date">04-Nov-2013 12:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
nice trick:<br />
<br />
$array_out = array_filter($array_in, function($var) use($array_other) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return in_array($var, $array_other) ? true : false;<br />
});</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111764""></a>
  <div class="note">
   <strong class="user">g dot kuizinas at anuary dot com</strong>
   <a href="#111764" class="date">26-Mar-2013 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_filter_recursive </span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$original </span><span class="keyword">= </span><span class="default">$data</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(function (</span><span class="default">$e</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">) ? </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">) : </span><span class="default">$e</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }, </span><span class="default">$data</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$original </span><span class="keyword">=== </span><span class="default">$data </span><span class="keyword">? </span><span class="default">$data </span><span class="keyword">: </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$data </span><span class="keyword">= [</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; [], </span><span class="string">'c' </span><span class="keyword">=&gt; [[]], </span><span class="string">'d' </span><span class="keyword">=&gt; [[[[]]]], </span><span class="string">'e' </span><span class="keyword">=&gt; </span><span class="string">'foo'</span><span class="keyword">, </span><span class="string">'f' </span><span class="keyword">=&gt; [[[</span><span class="string">'a'</span><span class="keyword">]]], [</span><span class="default">true</span><span class="keyword">], [[],[</span><span class="string">'a'</span><span class="keyword">], [</span><span class="default">true</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">]]];<br />
<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111091""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#111091" class="date">13-Jan-2013 05:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want a quick way to remove NULL, FALSE and Empty Strings (""), but leave values of 0 (zero), you can use the standard php function strlen as the callback function:<br />
eg:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// removes all NULL, FALSE and Empty Strings but leaves 0 (zero) values<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="string">'strlen' </span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110247""></a>
  <div class="note">
   <strong class="user">jtreminio at gmail dot com</strong>
   <a href="#110247" class="date">04-Oct-2012 07:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use array_filter from within a class to access a protected method from that same class:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="keyword">class </span><span class="default">Bar </span><span class="keyword">{
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">foo</span><span class="keyword">()
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array1 </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">, </span><span class="string">"d"</span><span class="keyword">=&gt;</span><span class="default">4</span><span class="keyword">, </span><span class="string">"e"</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">);
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'naz'</span><span class="keyword">)));
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">baz</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="default">$var </span><span class="keyword">&amp; </span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />

<br />
</span><span class="default">$bar </span><span class="keyword">= new </span><span class="default">Bar</span><span class="keyword">();
<br />
</span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">();
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108176""></a>
  <div class="note">
   <strong class="user">John Erck: erck0006 at junkyo dot gmail dot com</strong>
   <a href="#108176" class="date">04-Apr-2012 08:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// ARRAY FILTER RECURSIVE USING CLASS, STATIC METHOD, AND ANONYMOUS CALLBACK FUNCTION<br />
// NOTE THAT THE CALLBACK HAS ACCESS TO BOTH THE KEY AND VALUE<br />
<br />
// THE CLASS (FOR YOU TO COPY)<br />
</span><span class="keyword">class </span><span class="default">ArrayUtil<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">FilterRecursive</span><span class="keyword">(Array </span><span class="default">$source</span><span class="keyword">, </span><span class="default">$fn</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$source </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">self</span><span class="keyword">::</span><span class="default">FilterRecursive</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$fn</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$fn</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">; </span><span class="comment">// KEEP<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">// EXAMPLE ANONYMOUS CALLBACK FUNCTION<br />
</span><span class="default">$fn </span><span class="keyword">= function (</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="string">'drop'</span><span class="keyword">) !== </span><span class="default">FALSE</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">; </span><span class="comment">// DROP<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">TRUE</span><span class="keyword">; </span><span class="comment">// KEEP<br />
</span><span class="keyword">};<br />
<br />
</span><span class="comment">// EXAMPLE PRE FILTER TEST DATA<br />
</span><span class="default">$preFilter </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="string">'one'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'b' </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'example_drop' </span><span class="keyword">=&gt; </span><span class="string">'filter me out'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'example_keep' </span><span class="keyword">=&gt; </span><span class="string">'keep me'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">,<br />
);<br />
<br />
</span><span class="comment">// EXAMPLE USAGE CODE<br />
</span><span class="keyword">echo </span><span class="string">'// print_r($preFilter);' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$preFilter</span><span class="keyword">);<br />
</span><span class="default">$postFilter </span><span class="keyword">= </span><span class="default">ArrayUtil</span><span class="keyword">::</span><span class="default">FilterRecursive</span><span class="keyword">(</span><span class="default">$preFilter</span><span class="keyword">, </span><span class="default">$fn</span><span class="keyword">);<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="string">'// print_r($postFilter);' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$postFilter</span><span class="keyword">);<br />
<br />
</span><span class="comment">/* OUTPUT OPEN<br />
// print_r($preFilter);<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; one<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [example_drop] =&gt; filter me out<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [example_keep] =&gt; keep me<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [c] =&gt; three<br />
)<br />
<br />
// print_r($postFilter);<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; one<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [example_keep] =&gt; keep me<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [c] =&gt; three<br />
)<br />
OUTPUT CLOSE */</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105012""></a>
  <div class="note">
   <strong class="user">lisachenko dot it at HUMAN dot gmail dot com</strong>
   <a href="#105012" class="date">22-Jul-2011 12:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can access the current key of array by passing a reference to array into callback function and call key() and next() method in the callback function:<br />
<span class="default">&lt;?php<br />
$data </span><span class="keyword">= array(</span><span class="string">'first' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'second' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'third' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, function (</span><span class="default">$item</span><span class="keyword">) use (&amp;</span><span class="default">$data</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Filtering key "</span><span class="keyword">, </span><span class="default">key</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">), </span><span class="string">'&lt;br&gt;'</span><span class="keyword">, </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
});<br />
</span><span class="default">?&gt;<br />
</span><br />
However be careful with array internal pointer or use reset() method before calling array_filter().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99358""></a>
  <div class="note">
   <strong class="user">Peter Robinett</strong>
   <a href="#99358" class="date">12-Aug-2010 08:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Because array_filter() preserves keys, you should consider the resulting array to be an associative array even if the original array had integer keys for there may be holes in your sequence of keys. This means that, for example, json_encode() will convert your result array into an object instead of an array. Call array_values() on the result array to guarantee json_encode() gives you an array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93965""></a>
  <div class="note">
   <strong class="user">webdesign at blackbyrd dot biz</strong>
   <a href="#93965" class="date">08-Oct-2009 01:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a function that will filter a multi-demensional array. This filter will return only those items that match the $value given
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*
<br />
&nbsp;&nbsp; &nbsp; * filtering an array
<br />
&nbsp;&nbsp; &nbsp; */
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">filter_by_value </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">){ 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; { 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) as </span><span class="default">$key</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] == </span><span class="default">$value</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newarray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$newarray</span><span class="keyword">; 
<br />
&nbsp;&nbsp;&nbsp; } 
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Example:
<br />

<br />
<span class="default">&lt;?php
<br />
$results </span><span class="keyword">= array(
<br />
&nbsp;&nbsp; </span><span class="default">0 </span><span class="keyword">=&gt; array(</span><span class="string">'key1' </span><span class="keyword">=&gt; </span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'key2' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'key3' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">),
<br />
&nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array(</span><span class="string">'key1' </span><span class="keyword">=&gt; </span><span class="string">'12'</span><span class="keyword">, </span><span class="string">'key2' </span><span class="keyword">=&gt; </span><span class="default">22</span><span class="keyword">, </span><span class="string">'key3' </span><span class="keyword">=&gt; </span><span class="default">32</span><span class="keyword">) 
<br />
);
<br />

<br />
</span><span class="default">$nResults </span><span class="keyword">= </span><span class="default">filter_by_value</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">, </span><span class="string">'key2'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Output :
<br />

<br />
array(
<br />
&nbsp;&nbsp;&nbsp; 0 =&gt; array('key1' =&gt; '1', 'key2' =&gt; 2, 'key3' =&gt; 3)
<br />
);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90617""></a>
  <div class="note">
   <strong class="user">chrisstocktonaz at gmail dot com</strong>
   <a href="#90617" class="date">30-Apr-2009 09:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I use the following to see if a array consist of scalar values or null, but of course you could mix it up using any of the is_ functions.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">) !== </span><span class="default">count</span><span class="keyword">(</span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="string">'is_scalar'</span><span class="keyword">) + </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="string">'is_null'</span><span class="keyword">))) {
<br />
&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Array did not consist of scalar and null values'</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87912""></a>
  <div class="note">
   <strong class="user">niehztog</strong>
   <a href="#87912" class="date">30-Dec-2008 01:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In case you are interested (like me) in filtering out elements with certain key-names, array_filter won't help you. Instead you can use the following:<br />
<br />
<span class="default">&lt;?php<br />
$arr </span><span class="keyword">= array( </span><span class="string">'element1' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'element2' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'element3' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="string">'element4' </span><span class="keyword">=&gt; </span><span class="default">4 </span><span class="keyword">);<br />
</span><span class="default">$filterOutKeys </span><span class="keyword">= array( </span><span class="string">'element1'</span><span class="keyword">, </span><span class="string">'element4' </span><span class="keyword">);<br />
<br />
</span><span class="default">$filteredArr </span><span class="keyword">= </span><span class="default">array_diff_key</span><span class="keyword">( </span><span class="default">$arr</span><span class="keyword">, </span><span class="default">array_flip</span><span class="keyword">( </span><span class="default">$filterOutKeys </span><span class="keyword">) )<br />
</span><span class="default">?&gt;<br />
</span><br />
Result will be something like this:<br />
['element2'] =&gt; 2<br />
['element3'] =&gt; 3</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87581""></a>
  <div class="note">
   <strong class="user">romain dot lamarche at gmail dot com</strong>
   <a href="#87581" class="date">11-Dec-2008 06:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function filters an array and remove all null values recursively.
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)
<br />
&nbsp; {
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$input </span><span class="keyword">as &amp;</span><span class="default">$value</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))
<br />
&nbsp;&nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);
<br />
&nbsp; }
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Or with callback parameter (not tested) :
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$callback </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)
<br />
&nbsp; {
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$input </span><span class="keyword">as &amp;</span><span class="default">$value</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))
<br />
&nbsp;&nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">);
<br />
&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86228""></a>
  <div class="note">
   <strong class="user">darren at dazwin dot com</strong>
   <a href="#86228" class="date">08-Oct-2008 11:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding comment about trimming empty strings, the code posted will get into an infinite loop if the array is reduced to zero elements. The following might be better:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_trim</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; while (!empty(</span><span class="default">$array</span><span class="keyword">) and </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) === </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; while (!empty(</span><span class="default">$array</span><span class="keyword">) and </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) === </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77573""></a>
  <div class="note">
   <strong class="user">Martin</strong>
   <a href="#77573" class="date">04-Sep-2007 10:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function trims empty strings from the beginning and end of an array.
<br />
It's useful when outputing plaintext files on a page and you want to skip empty lines at the beginning and end, but not within the text.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_trim</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) === </span><span class="default">0</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) === </span><span class="default">0</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
You might want to trim each element too.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43822""></a>
  <div class="note">
   <strong class="user">marc dot vanwoerkom at fernuni-hagen dot de</strong>
   <a href="#43822" class="date">05-Jul-2004 08:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some of PHP's array functions play a prominent role in so called functional programming languages, where they show up under a slightly different name:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp; array_filter</span><span class="keyword">() -&gt; </span><span class="default">filter</span><span class="keyword">(), 
<br />
&nbsp; </span><span class="default">array_map</span><span class="keyword">() -&gt; </span><span class="default">map</span><span class="keyword">(), 
<br />
&nbsp; </span><span class="default">array_reduce</span><span class="keyword">() -&gt; </span><span class="default">foldl</span><span class="keyword">() (</span><span class="string">"fold left"</span><span class="keyword">)
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Functional programming is a paradigm which centers around the side-effect free evaluation of functions. A program execution is a call of a function, which in turn might be defined by many other functions. One idea is to use functions to create special purpose functions from other functions.
<br />

<br />
The array functions mentioned above allow you compose new functions on arrays. 
<br />

<br />
E.g. array_sum = array_map("sum", $arr).
<br />

<br />
This leads to a style of programming that looks much like algebra, e.g. the Bird/Meertens formalism.
<br />

<br />
E.g. a mathematician might state
<br />

<br />
&nbsp; map(f o g) = map(f) o map(g)
<br />

<br />
the so called "loop fusion" law.
<br />

<br />
Many functions on arrays can be created by the use of the foldr() function (which works like foldl, but eating up array elements from the right).
<br />

<br />
I can't get into detail here, I just wanted to provide a hint about where this stuff also shows up and the theory behind it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42298""></a>
  <div class="note">
   <strong class="user">Maxwel Leite</strong>
   <a href="#42298" class="date">11-May-2004 08:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For any type of array. Basead in redshift code.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_clean </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$todelete </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$caseSensitive </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_clean</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$todelete</span><span class="keyword">, </span><span class="default">$caseSensitive</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$todelete</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$caseSensitive</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">,</span><span class="default">$todelete</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$todelete</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif (empty(</span><span class="default">$value</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25559""></a>
  <div class="note">
   <strong class="user">ajohnson at speakeasy dot org</strong>
   <a href="#25559" class="date">27-Sep-2002 12:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
be careful with the above function "array_delete"'s use of the stristr function, it could be slightly misleading. consider the following:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_delete</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$filterforsubstring</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$thisarray </span><span class="keyword">= array ();
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$filterforsubstring</span><span class="keyword">)===</span><span class="default">false </span><span class="keyword">&amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thisarray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$thisarray</span><span class="keyword">;
<br />
}
<br />

<br />
function </span><span class="default">array_delete2</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$filterforstring</span><span class="keyword">, </span><span class="default">$removeblanksflag</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$thisarray </span><span class="keyword">= array ();
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$filterforstring</span><span class="keyword">) &amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)==</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$filterforstring</span><span class="keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &amp;&amp; !(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)==</span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$removeblanksflag</span><span class="keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thisarray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$thisarray</span><span class="keyword">;
<br />
}
<br />

<br />
function </span><span class="default">array_delete3</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$filterfor</span><span class="keyword">, </span><span class="default">$substringflag</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$removeblanksflag</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$thisarray </span><span class="keyword">= array ();
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; !(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$filterfor</span><span class="keyword">) 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &amp;&amp; (</span><span class="default">$substringflag </span><span class="keyword">|| </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)==</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$filterfor</span><span class="keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &amp;&amp; !(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)==</span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$removeblanksflag</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thisarray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$thisarray</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$array1 </span><span class="keyword">= array (</span><span class="string">'the OtHeR thang'</span><span class="keyword">,</span><span class="string">'this'</span><span class="keyword">, </span><span class="string">'that'</span><span class="keyword">, </span><span class="string">'OtHer'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">, </span><span class="default">101</span><span class="keyword">, </span><span class="string">'fifty'</span><span class="keyword">, </span><span class="string">' oTher'</span><span class="keyword">, </span><span class="string">'otHer '</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">'other'</span><span class="keyword">,</span><span class="string">'Other'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">'other blank things'</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"&lt;pre&gt;array :\n"</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);
<br />

<br />
</span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"array_delete(\$array1, \"Other\"):\n"</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br />

<br />
</span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete2</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"array_delete2(\$array1, \"Other\"):\n"</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br />

<br />
</span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete2</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"array_delete2(\$array1, \"Other\",1):\n"</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br />

<br />
</span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete3</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"array_delete3(\$array1, \"Other\",1):\n"</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br />

<br />
</span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete3</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"array_delete3(\$array1, \"Other\",0,1):\n"</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br />
&nbsp;</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24477""></a>
  <div class="note">
   <strong class="user">ajohnson at speakeasy dot org</strong>
   <a href="#24477" class="date">17-Aug-2002 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was looking for a function to delete values from an array and thought I had found it in array_filter(), however, I *didn't* want the keys to be preserved *and* I needed blank values cleaned out of the array as well. I came up with the following (with help from many of the above examples):
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_delete</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$filterfor</span><span class="keyword">){
<br />
&nbsp; </span><span class="default">$thisarray </span><span class="keyword">= array ();
<br />
&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$filterfor</span><span class="keyword">)===</span><span class="default">false </span><span class="keyword">&amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$thisarray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;
<br />
&nbsp; return </span><span class="default">$thisarray</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$array1 </span><span class="keyword">= array (</span><span class="string">'OtHeR'</span><span class="keyword">,</span><span class="string">'this'</span><span class="keyword">, </span><span class="string">'that'</span><span class="keyword">, </span><span class="string">'Other'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">, </span><span class="default">101</span><span class="keyword">, </span><span class="string">'fifty'</span><span class="keyword">, </span><span class="string">'other'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"&lt;pre&gt;array :\n"</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);
<br />

<br />
</span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">"filtered:\n"</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
